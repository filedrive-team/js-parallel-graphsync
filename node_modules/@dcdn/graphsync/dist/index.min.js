(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.DcdnGraphsync = factory()}(typeof self !== 'undefined' ? self : this, function () {
var DcdnGraphsync=(()=>{var D1=Object.create;var eo=Object.defineProperty;var R1=Object.getOwnPropertyDescriptor;var N1=Object.getOwnPropertyNames;var L1=Object.getPrototypeOf,U1=Object.prototype.hasOwnProperty;var f0=t=>eo(t,"__esModule",{value:!0});var ae=(t,e)=>()=>(t&&(e=t(t=0)),e);var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ce=(t,e)=>{f0(t);for(var r in e)eo(t,r,{get:e[r],enumerable:!0})},P1=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of N1(e))!U1.call(t,n)&&n!=="default"&&eo(t,n,{get:()=>e[n],enumerable:!(r=R1(e,n))||r.enumerable});return t},Ge=t=>P1(f0(eo(t!=null?D1(L1(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);function h0(t,e,r){e=e||[],r=r||0;for(var n=r;t>=M1;)e[r++]=t&255|l0,t/=128;for(;t&K1;)e[r++]=t&255|l0,t>>>=7;return e[r]=t|0,h0.bytes=r-n+1,e}function Us(t,e){var r=0,e=e||0,n=0,i=e,o,s=t.length;do{if(i>=s)throw Us.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&p0)<<n:(o&p0)*Math.pow(2,n),n+=7}while(o>=z1);return Us.bytes=i-e,r}var F1,l0,O1,K1,M1,q1,z1,p0,j1,V1,H1,G1,$1,W1,Y1,Z1,X1,Q1,J1,eg,ti,d0=ae(()=>{F1=h0,l0=128,O1=127,K1=~O1,M1=Math.pow(2,31);q1=Us,z1=128,p0=127;j1=Math.pow(2,7),V1=Math.pow(2,14),H1=Math.pow(2,21),G1=Math.pow(2,28),$1=Math.pow(2,35),W1=Math.pow(2,42),Y1=Math.pow(2,49),Z1=Math.pow(2,56),X1=Math.pow(2,63),Q1=function(t){return t<j1?1:t<V1?2:t<H1?3:t<G1?4:t<$1?5:t<W1?6:t<Y1?7:t<Z1?8:t<X1?9:10},J1={encode:F1,decode:q1,encodingLength:Q1},eg=J1,ti=eg});var ri,un,cn,to=ae(()=>{d0();ri=t=>[ti.decode(t),ti.decode.bytes],un=(t,e,r=0)=>(ti.encode(t,e,r),e),cn=t=>ti.encodingLength(t)});var xE,g0,Qt,m0,x0,lr=ae(()=>{xE=new Uint8Array(0),g0=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Qt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},m0=t=>new TextEncoder().encode(t),x0=t=>new TextDecoder().decode(t)});var ro={};Ce(ro,{Digest:()=>fn,create:()=>hr,decode:()=>Fs,equals:()=>Os});var hr,Fs,Os,fn,ln=ae(()=>{lr();to();hr=(t,e)=>{let r=e.byteLength,n=cn(t),i=n+cn(r),o=new Uint8Array(i+r);return un(t,o,0),un(r,o,n),o.set(e,i),new fn(t,r,e,o)},Fs=t=>{let e=Qt(t),[r,n]=ri(e),[i,o]=ri(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new fn(r,i,s,e)},Os=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&g0(t.bytes,e.bytes),fn=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});function tg(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,x=0,w=0,A=p.length;w!==A&&p[w]===0;)w++,y++;for(var _=(A-w)*f+1>>>0,F=new Uint8Array(_);w!==A;){for(var k=p[w],L=0,W=_-1;(k!==0||L<x)&&W!==-1;W--,L++)k+=256*F[W]>>>0,F[W]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");x=L,w++}for(var J=_-x;J!==_&&F[J]===0;)J++;for(var Se=u.repeat(y);J<_;++J)Se+=t.charAt(F[J]);return Se}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var x=0,w=0;p[y]===u;)x++,y++;for(var A=(p.length-y)*c+1>>>0,_=new Uint8Array(A);p[y];){var F=r[p.charCodeAt(y)];if(F===255)return;for(var k=0,L=A-1;(F!==0||k<w)&&L!==-1;L--,k++)F+=a*_[L]>>>0,_[L]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");w=k,y++}if(p[y]!==" "){for(var W=A-w;W!==A&&_[W]===0;)W++;for(var J=new Uint8Array(x+(A-W)),Se=x;W!==A;)J[Se++]=_[W++];return J}}}function d(p){var y=h(p);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var rg,ng,w0,v0=ae(()=>{rg=tg,ng=rg,w0=ng});var b0,E0,B0,S0,A0,no,pr,ig,og,be,kt=ae(()=>{v0();lr();b0=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},E0=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return S0(this,e)}},B0=class{constructor(e){this.decoders=e}or(e){return S0(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},S0=(t,e)=>new B0({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),A0=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new b0(e,r,n),this.decoder=new E0(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},no=({name:t,prefix:e,encode:r,decode:n})=>new A0(t,e,r,n),pr=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=w0(r,e);return no({prefix:t,name:e,encode:n,decode:o=>Qt(i(o))})},ig=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,c=0;for(let f=0;f<o;++f){let l=i[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|l,a+=r,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s},og=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},be=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>no({prefix:e,name:t,encode(i){return og(i,n,r)},decode(i){return ig(i,n,r,t)}})});var hn={};Ce(hn,{base58btc:()=>Dt,base58flickr:()=>sg});var Dt,sg,pn=ae(()=>{kt();Dt=pr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sg=pr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var ni={};Ce(ni,{base32:()=>dn,base32hex:()=>fg,base32hexpad:()=>hg,base32hexpadupper:()=>pg,base32hexupper:()=>lg,base32pad:()=>ug,base32padupper:()=>cg,base32upper:()=>ag,base32z:()=>dg});var dn,ag,ug,cg,fg,lg,hg,pg,dg,ii=ae(()=>{kt();dn=be({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ag=be({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ug=be({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cg=be({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fg=be({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lg=be({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hg=be({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pg=be({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dg=be({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var C0={};Ce(C0,{CID:()=>H});var H,yg,gg,mg,oi,xg,T0,I0,io,oo,wg,vg,bg,yn=ae(()=>{to();ln();pn();ii();lr();H=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:oo,byteLength:oo,code:io,version:io,multihash:io,bytes:io,_baseCache:oo,asCID:oo})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==oi)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==xg)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return H.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=hr(e,r);return H.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Os(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return gg(r,i,e||Dt.encoder);default:return mg(r,i,e||dn.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return vg(/^0\.0/,bg),!!(e&&(e[I0]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof H)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:o}=e;return new H(r,n,i,o||T0(r,n,i.bytes))}else if(e!=null&&e[I0]===!0){let{version:r,multihash:n,code:i}=e,o=Fs(n);return H.create(r,i,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==oi)throw new Error(`Version 0 CID must use dag-pb (code: ${oi}) block encoding`);return new H(e,r,n,n.bytes)}case 1:{let i=T0(e,r,n.bytes);return new H(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return H.create(0,oi,e)}static createV1(e,r){return H.create(1,e,r)}static decode(e){let[r,n]=H.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=H.inspectBytes(e),n=r.size-r.multihashSize,i=Qt(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new fn(r.multihashCode,r.digestSize,o,i);return[r.version===0?H.createV0(s):H.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,h]=ri(e.subarray(r));return r+=h,l},i=n(),o=oi;if(i===18?(i=0,r=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,a=n(),u=n(),c=r+u,f=c-s;return{version:i,codec:o,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[n,i]=yg(e,r),o=H.decode(i);return o._baseCache.set(n,e),o}},yg=(t,e)=>{switch(t[0]){case"Q":{let r=e||Dt;return[Dt.prefix,r.decode(`${Dt.prefix}${t}`)]}case Dt.prefix:{let r=e||Dt;return[Dt.prefix,r.decode(t)]}case dn.prefix:{let r=e||dn;return[dn.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},gg=(t,e,r)=>{let{prefix:n}=r;if(n!==Dt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},mg=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},oi=112,xg=18,T0=(t,e,r)=>{let n=cn(t),i=n+cn(e),o=new Uint8Array(i+r.byteLength);return un(t,o,0),un(e,o,n),o.set(r,i),o},I0=Symbol.for("@ipld/js-cid/CID"),io={writable:!1,configurable:!1,enumerable:!0},oo={writable:!1,enumerable:!1,configurable:!1},wg="0.0.0-dev",vg=(t,e)=>{if(t.test(wg))console.warn(e);else throw new Error(e)},bg=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Ks,_0,Ms=ae(()=>{ln();Ks=({name:t,code:e,encode:r})=>new _0(t,e,r),_0=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?hr(this.code,r):r.then(n=>hr(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var gn=ae(()=>{yn();to();lr();Ms();ln()});var Kr={};Ce(Kr,{sha256:()=>Sn,sha512:()=>Qg});var Kc,Sn,Qg,mr=ae(()=>{Ms();Kc=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Sn=Ks({name:"sha2-256",code:18,encode:Kc("SHA-256")}),Qg=Ks({name:"sha2-512",code:19,encode:Kc("SHA-512")})});var Et=I((SB,Vc)=>{"use strict";function jc(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function tm(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return jc(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),jc(new i,r)}}Vc.exports=tm});var Gc=I((AB,Hc)=>{"use strict";Hc.exports=rm;function rm(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(f){if(o)if(o=!1,f)u(f);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];a.apply(null,l)}};try{t.apply(e||null,r)}catch(c){o&&(o=!1,u(c))}})}});var Zc=I(Yc=>{"use strict";var vo=Yc;vo.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var An=new Array(64),$c=new Array(123);for(Bt=0;Bt<64;)$c[An[Bt]=Bt<26?Bt+65:Bt<52?Bt+71:Bt<62?Bt-4:Bt-59|43]=Bt++;var Bt;vo.encode=function(e,r,n){for(var i=null,o=[],s=0,a=0,u;r<n;){var c=e[r++];switch(a){case 0:o[s++]=An[c>>2],u=(c&3)<<4,a=1;break;case 1:o[s++]=An[u|c>>4],u=(c&15)<<2,a=2;break;case 2:o[s++]=An[u|c>>6],o[s++]=An[c&63],a=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=An[u],o[s++]=61,a===1&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var Wc="invalid encoding";vo.decode=function(e,r,n){for(var i=n,o=0,s,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&o>1)break;if((u=$c[u])===void 0)throw Error(Wc);switch(o){case 0:s=u,o=1;break;case 1:r[n++]=s<<2|(u&48)>>4,s=u,o=2;break;case 2:r[n++]=(s&15)<<4|(u&60)>>2,s=u,o=3;break;case 3:r[n++]=(s&3)<<6|u,o=0;break}}if(o===1)throw Error(Wc);return n-i};vo.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Qc=I((IB,Xc)=>{"use strict";Xc.exports=bo;function bo(){this._listeners={}}bo.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};bo.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};bo.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var sf=I((CB,of)=>{"use strict";of.exports=Jc(Jc);function Jc(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3]}function o(u,c,f){e[0]=u,c[f]=r[3],c[f+1]=r[2],c[f+2]=r[1],c[f+3]=r[0]}t.writeFloatLE=n?i:o,t.writeFloatBE=n?o:i;function s(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],e[0]}function a(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],e[0]}t.readFloatLE=n?s:a,t.readFloatBE=n?a:s}():function(){function e(n,i,o,s){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,o,s);else if(isNaN(i))n(2143289344,o,s);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var u=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|c)>>>0,o,s)}}t.writeFloatLE=e.bind(null,ef),t.writeFloatBE=e.bind(null,tf);function r(n,i,o){var s=n(i,o),a=(s>>31)*2+1,u=s>>>23&255,c=s&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}t.readFloatLE=r.bind(null,rf),t.readFloatBE=r.bind(null,nf)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3],c[f+4]=r[4],c[f+5]=r[5],c[f+6]=r[6],c[f+7]=r[7]}function o(u,c,f){e[0]=u,c[f]=r[7],c[f+1]=r[6],c[f+2]=r[5],c[f+3]=r[4],c[f+4]=r[3],c[f+5]=r[2],c[f+6]=r[1],c[f+7]=r[0]}t.writeDoubleLE=n?i:o,t.writeDoubleBE=n?o:i;function s(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],e[0]}function a(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],e[0]}t.readDoubleLE=n?s:a,t.readDoubleBE=n?a:s}():function(){function e(n,i,o,s,a,u){var c=s<0?1:0;if(c&&(s=-s),s===0)n(0,a,u+i),n(1/s>0?0:2147483648,a,u+o);else if(isNaN(s))n(0,a,u+i),n(2146959360,a,u+o);else if(s>17976931348623157e292)n(0,a,u+i),n((c<<31|2146435072)>>>0,a,u+o);else{var f;if(s<22250738585072014e-324)f=s/5e-324,n(f>>>0,a,u+i),n((c<<31|f/4294967296)>>>0,a,u+o);else{var l=Math.floor(Math.log(s)/Math.LN2);l===1024&&(l=1023),f=s*Math.pow(2,-l),n(f*4503599627370496>>>0,a,u+i),n((c<<31|l+1023<<20|f*1048576&1048575)>>>0,a,u+o)}}}t.writeDoubleLE=e.bind(null,ef,0,4),t.writeDoubleBE=e.bind(null,tf,4,0);function r(n,i,o,s,a){var u=n(s,a+i),c=n(s,a+o),f=(c>>31)*2+1,l=c>>>20&2047,h=4294967296*(c&1048575)+u;return l===2047?h?NaN:f*(1/0):l===0?f*5e-324*h:f*Math.pow(2,l-1075)*(h+4503599627370496)}t.readDoubleLE=r.bind(null,rf,0,4),t.readDoubleBE=r.bind(null,nf,4,0)}(),t}function ef(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function tf(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function rf(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function nf(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var af=I((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var cf=I(uf=>{"use strict";var ea=uf;ea.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};ea.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var o=null,s=[],a=0,u;r<n;)u=e[r++],u<128?s[a++]=u:u>191&&u<224?s[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[a++]=55296+(u>>10),s[a++]=56320+(u&1023)):s[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};ea.write=function(e,r,n){for(var i=n,o,s,a=0;a<e.length;++a)o=e.charCodeAt(a),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)==55296&&((s=e.charCodeAt(a+1))&64512)==56320?(o=65536+((o&1023)<<10)+(s&1023),++a,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128);return n-i}});var lf=I((kB,ff)=>{"use strict";ff.exports=nm;function nm(t,e,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(u){if(u<1||u>i)return t(u);s+u>n&&(o=t(n),s=0);var c=e.call(o,s,s+=u);return s&7&&(s=(s|7)+1),c}}});var pf=I((DB,hf)=>{"use strict";hf.exports=De;var hi=wr();function De(t,e){this.lo=t>>>0,this.hi=e>>>0}var Mr=De.zero=new De(0,0);Mr.toNumber=function(){return 0};Mr.zzEncode=Mr.zzDecode=function(){return this};Mr.length=function(){return 1};var im=De.zeroHash="\0\0\0\0\0\0\0\0";De.fromNumber=function(e){if(e===0)return Mr;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new De(n,i)};De.from=function(e){if(typeof e=="number")return De.fromNumber(e);if(hi.isString(e))if(hi.Long)e=hi.Long.fromString(e);else return De.fromNumber(parseInt(e,10));return e.low||e.high?new De(e.low>>>0,e.high>>>0):Mr};De.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};De.prototype.toLong=function(e){return hi.Long?new hi.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var xr=String.prototype.charCodeAt;De.fromHash=function(e){return e===im?Mr:new De((xr.call(e,0)|xr.call(e,1)<<8|xr.call(e,2)<<16|xr.call(e,3)<<24)>>>0,(xr.call(e,4)|xr.call(e,5)<<8|xr.call(e,6)<<16|xr.call(e,7)<<24)>>>0)};De.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};De.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};De.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};De.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var wr=I(ta=>{"use strict";var O=ta;O.asPromise=Gc();O.base64=Zc();O.EventEmitter=Qc();O.float=sf();O.inquire=af();O.utf8=cf();O.pool=lf();O.LongBits=pf();O.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);O.global=O.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||ta;O.emptyArray=Object.freeze?Object.freeze([]):[];O.emptyObject=Object.freeze?Object.freeze({}):{};O.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};O.isString=function(e){return typeof e=="string"||e instanceof String};O.isObject=function(e){return e&&typeof e=="object"};O.isset=O.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};O.Buffer=function(){try{var t=O.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();O._Buffer_from=null;O._Buffer_allocUnsafe=null;O.newBuffer=function(e){return typeof e=="number"?O.Buffer?O._Buffer_allocUnsafe(e):new O.Array(e):O.Buffer?O._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};O.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;O.Long=O.global.dcodeIO&&O.global.dcodeIO.Long||O.global.Long||O.inquire("long");O.key2Re=/^true|false|0|1$/;O.key32Re=/^-?(?:0|[1-9][0-9]*)$/;O.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;O.longToHash=function(e){return e?O.LongBits.from(e).toHash():O.LongBits.zeroHash};O.longFromHash=function(e,r){var n=O.LongBits.fromHash(e);return O.Long?O.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function df(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}O.merge=df;O.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function yf(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&df(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}O.newError=yf;O.ProtocolError=yf("ProtocolError");O.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};O.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};O.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};O._configure=function(){var t=O.Buffer;if(!t){O._Buffer_from=O._Buffer_allocUnsafe=null;return}O._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},O._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var ua=I((NB,wf)=>{"use strict";wf.exports=ee;var ft=wr(),ra,Eo=ft.LongBits,gf=ft.base64,mf=ft.utf8;function pi(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function na(){}function om(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function ee(){this.len=0,this.head=new pi(na,0,0),this.tail=this.head,this.states=null}var xf=function(){return ft.Buffer?function(){return(ee.create=function(){return new ra})()}:function(){return new ee}};ee.create=xf();ee.alloc=function(e){return new ft.Array(e)};ft.Array!==Array&&(ee.alloc=ft.pool(ee.alloc,ft.Array.prototype.subarray));ee.prototype._push=function(e,r,n){return this.tail=this.tail.next=new pi(e,r,n),this.len+=r,this};function ia(t,e,r){e[r]=t&255}function sm(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function oa(t,e){this.len=t,this.next=void 0,this.val=e}oa.prototype=Object.create(pi.prototype);oa.prototype.fn=sm;ee.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new oa((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};ee.prototype.int32=function(e){return e<0?this._push(sa,10,Eo.fromNumber(e)):this.uint32(e)};ee.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function sa(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}ee.prototype.uint64=function(e){var r=Eo.from(e);return this._push(sa,r.length(),r)};ee.prototype.int64=ee.prototype.uint64;ee.prototype.sint64=function(e){var r=Eo.from(e).zzEncode();return this._push(sa,r.length(),r)};ee.prototype.bool=function(e){return this._push(ia,1,e?1:0)};function aa(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}ee.prototype.fixed32=function(e){return this._push(aa,4,e>>>0)};ee.prototype.sfixed32=ee.prototype.fixed32;ee.prototype.fixed64=function(e){var r=Eo.from(e);return this._push(aa,4,r.lo)._push(aa,4,r.hi)};ee.prototype.sfixed64=ee.prototype.fixed64;ee.prototype.float=function(e){return this._push(ft.float.writeFloatLE,4,e)};ee.prototype.double=function(e){return this._push(ft.float.writeDoubleLE,8,e)};var am=ft.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};ee.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(ia,1,0);if(ft.isString(e)){var n=ee.alloc(r=gf.length(e));gf.decode(e,n,0),e=n}return this.uint32(r)._push(am,r,e)};ee.prototype.string=function(e){var r=mf.length(e);return r?this.uint32(r)._push(mf.write,r,e):this._push(ia,1,0)};ee.prototype.fork=function(){return this.states=new om(this),this.head=this.tail=new pi(na,0,0),this.len=0,this};ee.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new pi(na,0,0),this.len=0),this};ee.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};ee.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};ee._configure=function(t){ra=t,ee.create=xf(),ra._configure()}});var Ef=I((LB,bf)=>{"use strict";bf.exports=Nt;var vf=ua();(Nt.prototype=Object.create(vf.prototype)).constructor=Nt;var vr=wr();function Nt(){vf.call(this)}Nt._configure=function(){Nt.alloc=vr._Buffer_allocUnsafe,Nt.writeBytesBuffer=vr.Buffer&&vr.Buffer.prototype instanceof Uint8Array&&vr.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Nt.prototype.bytes=function(e){vr.isString(e)&&(e=vr._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Nt.writeBytesBuffer,r,e),this};function um(t,e,r){t.length<40?vr.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Nt.prototype.string=function(e){var r=vr.Buffer.byteLength(e);return this.uint32(r),r&&this._push(um,r,e),this};Nt._configure()});var la=I((UB,If)=>{"use strict";If.exports=Ee;var Lt=wr(),ca,Bf=Lt.LongBits,cm=Lt.utf8;function St(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Ee(t){this.buf=t,this.pos=0,this.len=t.length}var Sf=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ee(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ee(e);throw Error("illegal buffer")},Af=function(){return Lt.Buffer?function(r){return(Ee.create=function(i){return Lt.Buffer.isBuffer(i)?new ca(i):Sf(i)})(r)}:Sf};Ee.create=Af();Ee.prototype._slice=Lt.Array.prototype.subarray||Lt.Array.prototype.slice;Ee.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,St(this,10);return e}}();Ee.prototype.int32=function(){return this.uint32()|0};Ee.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function fa(){var t=new Bf(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw St(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw St(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Ee.prototype.bool=function(){return this.uint32()!==0};function Bo(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Ee.prototype.fixed32=function(){if(this.pos+4>this.len)throw St(this,4);return Bo(this.buf,this.pos+=4)};Ee.prototype.sfixed32=function(){if(this.pos+4>this.len)throw St(this,4);return Bo(this.buf,this.pos+=4)|0};function Tf(){if(this.pos+8>this.len)throw St(this,8);return new Bf(Bo(this.buf,this.pos+=4),Bo(this.buf,this.pos+=4))}Ee.prototype.float=function(){if(this.pos+4>this.len)throw St(this,4);var e=Lt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ee.prototype.double=function(){if(this.pos+8>this.len)throw St(this,4);var e=Lt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ee.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw St(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Ee.prototype.string=function(){var e=this.bytes();return cm.read(e,0,e.length)};Ee.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw St(this,e);this.pos+=e}else do if(this.pos>=this.len)throw St(this);while(this.buf[this.pos++]&128);return this};Ee.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Ee._configure=function(t){ca=t,Ee.create=Af(),ca._configure();var e=Lt.Long?"toLong":"toNumber";Lt.merge(Ee.prototype,{int64:function(){return fa.call(this)[e](!1)},uint64:function(){return fa.call(this)[e](!0)},sint64:function(){return fa.call(this).zzDecode()[e](!1)},fixed64:function(){return Tf.call(this)[e](!0)},sfixed64:function(){return Tf.call(this)[e](!1)}})}});var Df=I((PB,kf)=>{"use strict";kf.exports=qr;var Cf=la();(qr.prototype=Object.create(Cf.prototype)).constructor=qr;var _f=wr();function qr(t){Cf.call(this,t)}qr._configure=function(){_f.Buffer&&(qr.prototype._slice=_f.Buffer.prototype.slice)};qr.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};qr._configure()});var Nf=I((FB,Rf)=>{"use strict";Rf.exports=di;var ha=wr();(di.prototype=Object.create(ha.EventEmitter.prototype)).constructor=di;function di(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");ha.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}di.prototype.rpcCall=function t(e,r,n,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return ha.asPromise(t,s,e,r,n,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(e,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,c){if(u)return s.emit("error",u,e),o(u);if(c===null){s.end(!0);return}if(!(c instanceof n))try{c=n[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return s.emit("error",f,e),o(f)}return s.emit("data",c,e),o(null,c)})}catch(a){s.emit("error",a,e),setTimeout(function(){o(a)},0);return}};di.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Uf=I(Lf=>{"use strict";var fm=Lf;fm.Service=Nf()});var Ff=I((KB,Pf)=>{"use strict";Pf.exports={}});var Mf=I(Kf=>{"use strict";var Xe=Kf;Xe.build="minimal";Xe.Writer=ua();Xe.BufferWriter=Ef();Xe.Reader=la();Xe.BufferReader=Df();Xe.util=wr();Xe.rpc=Uf();Xe.roots=Ff();Xe.configure=Of;function Of(){Xe.util._configure(),Xe.Writer._configure(Xe.BufferWriter),Xe.Reader._configure(Xe.BufferReader)}Of()});var So=I((qB,qf)=>{"use strict";qf.exports=Mf()});var va=I(_o=>{"use strict";_o.byteLength=Em;_o.toByteArray=Sm;_o.fromByteArray=Im;var Ut=[],ht=[],bm=typeof Uint8Array!="undefined"?Uint8Array:Array,wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Gr=0,Wf=wa.length;Gr<Wf;++Gr)Ut[Gr]=wa[Gr],ht[wa.charCodeAt(Gr)]=Gr;var Gr,Wf;ht["-".charCodeAt(0)]=62;ht["_".charCodeAt(0)]=63;function Yf(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Em(t){var e=Yf(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Bm(t,e,r){return(e+r)*3/4-r}function Sm(t){var e,r=Yf(t),n=r[0],i=r[1],o=new bm(Bm(t,n,i)),s=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=ht[t.charCodeAt(u)]<<18|ht[t.charCodeAt(u+1)]<<12|ht[t.charCodeAt(u+2)]<<6|ht[t.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=ht[t.charCodeAt(u)]<<2|ht[t.charCodeAt(u+1)]>>4,o[s++]=e&255),i===1&&(e=ht[t.charCodeAt(u)]<<10|ht[t.charCodeAt(u+1)]<<4|ht[t.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Am(t){return Ut[t>>18&63]+Ut[t>>12&63]+Ut[t>>6&63]+Ut[t&63]}function Tm(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Am(n));return i.join("")}function Im(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Tm(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(Ut[e>>2]+Ut[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ut[e>>10]+Ut[e>>4&63]+Ut[e<<2&63]+"=")),i.join("")}});var Ea=I(ba=>{ba.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=o*256+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+t[e+l],l+=h,f-=8);if(o===0)o=1-c;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(d?-1:1)*s*Math.pow(2,o-n)};ba.write=function(t,e,r,n,i,o){var s,a,u,c=o*8-i-1,f=(1<<c)-1,l=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+l>=1?e+=h/u:e+=h*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s=s+l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=a&255,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+d]=s&255,d+=p,s/=256,c-=8);t[r+d-p]|=y*128}});var Er=I(Dn=>{"use strict";var Ba=va(),Cn=Ea(),Zf=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Dn.Buffer=v;Dn.SlowBuffer=Nm;Dn.INSPECT_MAX_BYTES=50;var ko=2147483647;Dn.kMaxLength=ko;v.TYPED_ARRAY_SUPPORT=Cm();!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Cm(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.buffer}});Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.byteOffset}});function nr(t){if(t>ko)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,v.prototype),e}function v(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Sa(t)}return Xf(t,e,r)}v.poolSize=8192;function Xf(t,e,r){if(typeof t=="string")return km(t,e);if(ArrayBuffer.isView(t))return Dm(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Pt(t,ArrayBuffer)||t&&Pt(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Pt(t,SharedArrayBuffer)||t&&Pt(t.buffer,SharedArrayBuffer)))return Ta(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return v.from(n,e,r);let i=Rm(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return v.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}v.from=function(t,e,r){return Xf(t,e,r)};Object.setPrototypeOf(v.prototype,Uint8Array.prototype);Object.setPrototypeOf(v,Uint8Array);function Qf(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function _m(t,e,r){return Qf(t),t<=0?nr(t):e!==void 0?typeof r=="string"?nr(t).fill(e,r):nr(t).fill(e):nr(t)}v.alloc=function(t,e,r){return _m(t,e,r)};function Sa(t){return Qf(t),nr(t<0?0:Ia(t)|0)}v.allocUnsafe=function(t){return Sa(t)};v.allocUnsafeSlow=function(t){return Sa(t)};function km(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!v.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Jf(t,e)|0,n=nr(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Aa(t){let e=t.length<0?0:Ia(t.length)|0,r=nr(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Dm(t){if(Pt(t,Uint8Array)){let e=new Uint8Array(t);return Ta(e.buffer,e.byteOffset,e.byteLength)}return Aa(t)}function Ta(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,v.prototype),n}function Rm(t){if(v.isBuffer(t)){let e=Ia(t.length)|0,r=nr(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||ka(t.length)?nr(0):Aa(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Aa(t.data)}function Ia(t){if(t>=ko)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ko.toString(16)+" bytes");return t|0}function Nm(t){return+t!=t&&(t=0),v.alloc(+t)}v.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==v.prototype};v.compare=function(e,r){if(Pt(e,Uint8Array)&&(e=v.from(e,e.offset,e.byteLength)),Pt(r,Uint8Array)&&(r=v.from(r,r.offset,r.byteLength)),!v.isBuffer(e)||!v.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};v.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};v.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return v.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=v.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(Pt(s,Uint8Array))o+s.length>i.length?(v.isBuffer(s)||(s=v.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(v.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Jf(t,e){if(v.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Pt(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return _a(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ll(t).length;default:if(i)return n?-1:_a(t).length;e=(""+e).toLowerCase(),i=!0}}v.byteLength=Jf;function Lm(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Vm(this,e,r);case"utf8":case"utf-8":return rl(this,e,r);case"ascii":return zm(this,e,r);case"latin1":case"binary":return jm(this,e,r);case"base64":return Mm(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hm(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}v.prototype._isBuffer=!0;function $r(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}v.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)$r(this,r,r+1);return this};v.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)$r(this,r,r+3),$r(this,r+1,r+2);return this};v.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)$r(this,r,r+7),$r(this,r+1,r+6),$r(this,r+2,r+5),$r(this,r+3,r+4);return this};v.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?rl(this,0,e):Lm.apply(this,arguments)};v.prototype.toLocaleString=v.prototype.toString;v.prototype.equals=function(e){if(!v.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:v.compare(this,e)===0};v.prototype.inspect=function(){let e="",r=Dn.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Zf&&(v.prototype[Zf]=v.prototype.inspect);v.prototype.compare=function(e,r,n,i,o){if(Pt(e,Uint8Array)&&(e=v.from(e,e.offset,e.byteLength)),!v.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,u=Math.min(s,a),c=this.slice(i,o),f=e.slice(r,n);for(let l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0};function el(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,ka(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=v.from(e,n)),v.isBuffer(e))return e.length===0?-1:tl(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):tl(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function tl(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function u(f,l){return o===1?f[l]:f.readUInt16BE(l*o)}let c;if(i){let f=-1;for(c=r;c<s;c++)if(u(t,c)===u(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===a)return f*o}else f!==-1&&(c-=c-f),f=-1}else for(r+a>s&&(r=s-a),c=r;c>=0;c--){let f=!0;for(let l=0;l<a;l++)if(u(t,c+l)!==u(e,l)){f=!1;break}if(f)return c}return-1}v.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};v.prototype.indexOf=function(e,r,n){return el(this,e,r,n,!0)};v.prototype.lastIndexOf=function(e,r,n){return el(this,e,r,n,!1)};function Um(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(ka(a))return s;t[r+s]=a}return s}function Pm(t,e,r,n){return Do(_a(e,t.length-r),t,r,n)}function Fm(t,e,r,n){return Do(Ym(e),t,r,n)}function Om(t,e,r,n){return Do(ll(e),t,r,n)}function Km(t,e,r,n){return Do(Zm(e,t.length-r),t,r,n)}v.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Um(this,e,r,n);case"utf8":case"utf-8":return Pm(this,e,r,n);case"ascii":case"latin1":case"binary":return Fm(this,e,r,n);case"base64":return Om(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Km(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mm(t,e,r){return e===0&&r===t.length?Ba.fromByteArray(t):Ba.fromByteArray(t.slice(e,r))}function rl(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let u,c,f,l;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1],(u&192)==128&&(l=(o&31)<<6|u&63,l>127&&(s=l));break;case 3:u=t[i+1],c=t[i+2],(u&192)==128&&(c&192)==128&&(l=(o&15)<<12|(u&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],(u&192)==128&&(c&192)==128&&(f&192)==128&&(l=(o&15)<<18|(u&63)<<12|(c&63)<<6|f&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return qm(n)}var nl=4096;function qm(t){let e=t.length;if(e<=nl)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=nl));return r}function zm(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function jm(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Vm(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=Xm[t[o]];return i}function Hm(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}v.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,v.prototype),i};function Re(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Re(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};v.prototype.readUintBE=v.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Re(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};v.prototype.readUint8=v.prototype.readUInt8=function(e,r){return e=e>>>0,r||Re(e,1,this.length),this[e]};v.prototype.readUint16LE=v.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Re(e,2,this.length),this[e]|this[e+1]<<8};v.prototype.readUint16BE=v.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Re(e,2,this.length),this[e]<<8|this[e+1]};v.prototype.readUint32LE=v.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Re(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};v.prototype.readUint32BE=v.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Re(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};v.prototype.readBigUInt64LE=br(function(e){e=e>>>0,kn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&xi(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});v.prototype.readBigUInt64BE=br(function(e){e=e>>>0,kn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&xi(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});v.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Re(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};v.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Re(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};v.prototype.readInt8=function(e,r){return e=e>>>0,r||Re(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};v.prototype.readInt16LE=function(e,r){e=e>>>0,r||Re(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};v.prototype.readInt16BE=function(e,r){e=e>>>0,r||Re(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};v.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Re(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};v.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Re(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};v.prototype.readBigInt64LE=br(function(e){e=e>>>0,kn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&xi(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});v.prototype.readBigInt64BE=br(function(e){e=e>>>0,kn(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&xi(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});v.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Re(e,4,this.length),Cn.read(this,e,!0,23,4)};v.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Re(e,4,this.length),Cn.read(this,e,!1,23,4)};v.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Re(e,8,this.length),Cn.read(this,e,!0,52,8)};v.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Re(e,8,this.length),Cn.read(this,e,!1,52,8)};function Qe(t,e,r,n,i,o){if(!v.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Qe(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};v.prototype.writeUintBE=v.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Qe(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};v.prototype.writeUint8=v.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,1,255,0),this[r]=e&255,r+1};v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function il(t,e,r,n,i){fl(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function ol(t,e,r,n,i){fl(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}v.prototype.writeBigUInt64LE=br(function(e,r=0){return il(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});v.prototype.writeBigUInt64BE=br(function(e,r=0){return ol(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});v.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Qe(this,e,r,n,u-1,-u)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};v.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Qe(this,e,r,n,u-1,-u)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};v.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};v.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};v.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};v.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};v.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Qe(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};v.prototype.writeBigInt64LE=br(function(e,r=0){return il(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});v.prototype.writeBigInt64BE=br(function(e,r=0){return ol(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function sl(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function al(t,e,r,n,i){return e=+e,r=r>>>0,i||sl(t,e,r,4,34028234663852886e22,-34028234663852886e22),Cn.write(t,e,r,n,23,4),r+4}v.prototype.writeFloatLE=function(e,r,n){return al(this,e,r,!0,n)};v.prototype.writeFloatBE=function(e,r,n){return al(this,e,r,!1,n)};function ul(t,e,r,n,i){return e=+e,r=r>>>0,i||sl(t,e,r,8,17976931348623157e292,-17976931348623157e292),Cn.write(t,e,r,n,52,8),r+8}v.prototype.writeDoubleLE=function(e,r,n){return ul(this,e,r,!0,n)};v.prototype.writeDoubleBE=function(e,r,n){return ul(this,e,r,!1,n)};v.prototype.copy=function(e,r,n,i){if(!v.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};v.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!v.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=v.isBuffer(e)?e:v.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var _n={};function Ca(t,e,r){_n[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ca("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ca("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Ca("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=cl(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=cl(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function cl(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Gm(t,e,r){kn(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&xi(e,t.length-(r+1))}function fl(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new _n.ERR_OUT_OF_RANGE("value",a,t)}Gm(n,i,o)}function kn(t,e){if(typeof t!="number")throw new _n.ERR_INVALID_ARG_TYPE(e,"number",t)}function xi(t,e,r){throw Math.floor(t)!==t?(kn(t,r),new _n.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new _n.ERR_BUFFER_OUT_OF_BOUNDS:new _n.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var $m=/[^+/0-9A-Za-z-_]/g;function Wm(t){if(t=t.split("=")[0],t=t.trim().replace($m,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function _a(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Ym(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Zm(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function ll(t){return Ba.toByteArray(Wm(t))}function Do(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Pt(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function ka(t){return t!==t}var Xm=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function br(t){return typeof BigInt=="undefined"?Qm:t}function Qm(){throw new Error("BigInt not supported")}});var Da=I((nS,pl)=>{"use strict";var{Buffer:At}=Er(),hl=Symbol.for("BufferList");function he(t){if(!(this instanceof he))return new he(t);he._init.call(this,t)}he._init=function(e){Object.defineProperty(this,hl,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};he.prototype._new=function(e){return new he(e)};he.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};he.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};he.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};he.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};he.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||At.alloc(0);let o=!!e,s=this._offset(n),a=i-n,u=a,c=o&&r||0,f=s[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:At.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,c),c+=this._bufs[l].length;return e}if(u<=this._bufs[s[0]].length-f)return o?this._bufs[s[0]].copy(e,r,f,f+u):this._bufs[s[0]].slice(f,f+u);o||(e=At.allocUnsafe(a));for(let l=s[0];l<this._bufs.length;l++){let h=this._bufs[l].length-f;if(u>h)this._bufs[l].copy(e,c,f),c+=h;else{this._bufs[l].copy(e,c,f,f+u),c+=h;break}u-=h,f&&(f=0)}return e.length>c?e.slice(0,c):e};he.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};he.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};he.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};he.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};he.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(At.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(At.from(e));return this};he.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};he.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=At.from([t]):typeof t=="string"?t=At.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=At.from(t.buffer,t.byteOffset,t.byteLength):At.isBuffer(t)||(t=At.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let s=this._bufs[i];for(;o<s.length;)if(s.length-o>=t.length){let u=s.indexOf(t,o);if(u!==-1)return this._reverseOffset([i,u]);o=s.length-t.length+1}else{let u=this._reverseOffset([i,o]);if(this._match(u,t))return u;o++}o=0}return-1};he.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?he.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:he.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();he.prototype._isBufferList=function(e){return e instanceof he||he.isBufferList(e)};he.isBufferList=function(e){return e!=null&&e[hl]};pl.exports=he});var gl=I((iS,yl)=>{yl.exports=Ra;var dl=128,Jm=127,e2=~Jm,t2=Math.pow(2,31);function Ra(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw Ra.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=t2;)e[r++]=t&255|dl,t/=128;for(;t&e2;)e[r++]=t&255|dl,t>>>=7;return e[r]=t|0,Ra.bytes=r-n+1,e}});var wl=I((oS,xl)=>{xl.exports=Na;var r2=128,ml=127;function Na(t,e){var r=0,e=e||0,n=0,i=e,o,s=t.length;do{if(i>=s||n>49)throw Na.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&ml)<<n:(o&ml)*Math.pow(2,n),n+=7}while(o>=r2);return Na.bytes=i-e,r}});var bl=I((sS,vl)=>{var n2=Math.pow(2,7),i2=Math.pow(2,14),o2=Math.pow(2,21),s2=Math.pow(2,28),a2=Math.pow(2,35),u2=Math.pow(2,42),c2=Math.pow(2,49),f2=Math.pow(2,56),l2=Math.pow(2,63);vl.exports=function(t){return t<n2?1:t<i2?2:t<o2?3:t<s2?4:t<a2?5:t<u2?6:t<c2?7:t<f2?8:t<l2?9:10}});var wi=I((aS,El)=>{El.exports={encode:gl(),decode:wl(),encodingLength:bl()}});var La=I((uS,Al)=>{"use strict";var Bl=wi(),{Buffer:h2}=Er(),Sl=(t,e,r)=>{let n=Bl.encode(t,e,r);return Sl.bytes=Bl.encode.bytes,e||h2.from(n)};Al.exports=Sl});var Dl=I((cS,Ro)=>{"use strict";var{Buffer:Tl}=Er(),Il=Da(),Cl=La(),Ua=8,_l=10*1024;function kl(t){t=t||{};let e=Math.max(t.poolSize||_l,t.minPoolSize||Ua),r=t.lengthEncoder||Cl;return async function*(i){let o=Tl.alloc(e),s=0;for await(let a of i){r(a.length,o,s);let u=o.slice(s,s+r.bytes);s+=r.bytes,o.length-s<Ua&&(o=Tl.alloc(e),s=0),yield new Il().append(u).append(a)}}}kl.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||Cl;return new Il([r(t.length),t.slice()])};Ro.exports=kl;Ro.exports.MIN_POOL_SIZE=Ua;Ro.exports.DEFAULT_POOL_SIZE=_l});var Pa=I((fS,Ll)=>{"use strict";var Rl=wi(),{Buffer:p2}=Er(),d2=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),Nl=t=>{let e=Rl.decode(p2.isBuffer(t)?t:d2(t));return Nl.bytes=Rl.decode.bytes,e};Ll.exports=Nl});var Ol=I((lS,No)=>{"use strict";var{Buffer:y2}=Er(),Fa=Da(),g2=Pa(),Ul=8,Pl=1024*1024*4,Fl=y2.alloc(0),Br={LENGTH:"readLength",DATA:"readData"},m2={[Br.LENGTH]:(t,e,r,n)=>{e=e.append(t);let i;try{i=n.lengthDecoder(e)}catch(o){if(e.length>n.maxLengthLength)throw Object.assign(o,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(o instanceof RangeError)return{mode:Br.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw o}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(n.lengthDecoder.bytes),e=new Fa,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(Fl),{mode:Br.LENGTH,chunk:t,buffer:e,data:Fl}):{mode:Br.DATA,chunk:t,buffer:e,state:{dataLength:i},data:void 0}},[Br.DATA]:(t,e,r,n)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:Br.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:i}=r,o=e.shallowSlice(0,i),s=e.length>i?e.shallowSlice(i):void 0;return e=new Fa,n.onData&&n.onData(o),{mode:Br.LENGTH,chunk:s,buffer:e,state:void 0,data:o}}};function Oa(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||g2,maxLengthLength:t.maxLengthLength||Ul,maxDataLength:t.maxDataLength||Pl,onLength:t.onLength,onData:t.onData};return async function*(n){let i=new Fa,o=Br.LENGTH,s;for await(let a of n){let u=a;for(;u;){let c=m2[o](u,i,s,e);o=c.mode,u=c.chunk,i=c.buffer,s=c.state,c.data&&(yield c.data)}}if(i.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}Oa.fromReader=(t,e)=>{let r=1,n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(o){if(o.code==="ERR_UNDER_READ")return{done:!0,value:null};throw o}finally{r=1}}};return Oa({...e||{},onLength:o=>{r=o}})(n)};No.exports=Oa;No.exports.MAX_LENGTH_LENGTH=Ul;No.exports.MAX_DATA_LENGTH=Pl});var ql=I((hS,Ml)=>{"use strict";var{Buffer:x2}=Er(),Kl=(t,e,r)=>(e=e||x2.allocUnsafe(4),e.writeInt32BE(t,r),e);Kl.bytes=4;Ml.exports=Kl});var Vl=I((pS,jl)=>{"use strict";var zl=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};zl.bytes=4;jl.exports=zl});var Ka=I(Wr=>{"use strict";Wr.encode=Dl();Wr.decode=Ol();Wr.varintEncode=La();Wr.varintDecode=Pa();Wr.int32BEEncode=ql();Wr.int32BEDecode=Vl()});var th=I((yS,Ma)=>{"use strict";var Rn=typeof Reflect=="object"?Reflect:null,Hl=Rn&&typeof Rn.apply=="function"?Rn.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Lo;Rn&&typeof Rn.ownKeys=="function"?Lo=Rn.ownKeys:Object.getOwnPropertySymbols?Lo=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Lo=function(e){return Object.getOwnPropertyNames(e)};function w2(t){console&&console.warn&&console.warn(t)}var Gl=Number.isNaN||function(e){return e!==e};function ue(){ue.init.call(this)}Ma.exports=ue;Ma.exports.once=B2;ue.EventEmitter=ue;ue.prototype._events=void 0;ue.prototype._eventsCount=0;ue.prototype._maxListeners=void 0;var $l=10;function Uo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ue,"defaultMaxListeners",{enumerable:!0,get:function(){return $l},set:function(t){if(typeof t!="number"||t<0||Gl(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$l=t}});ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ue.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Gl(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Wl(t){return t._maxListeners===void 0?ue.defaultMaxListeners:t._maxListeners}ue.prototype.getMaxListeners=function(){return Wl(this)};ue.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(u===void 0)return!1;if(typeof u=="function")Hl(u,this,r);else for(var c=u.length,f=Jl(u,c),n=0;n<c;++n)Hl(f[n],this,r);return!0};function Yl(t,e,r,n){var i,o,s;if(Uo(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Wl(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,w2(a)}return t}ue.prototype.addListener=function(e,r){return Yl(this,e,r,!1)};ue.prototype.on=ue.prototype.addListener;ue.prototype.prependListener=function(e,r){return Yl(this,e,r,!0)};function v2(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zl(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=v2.bind(n);return i.listener=r,n.wrapFn=i,i}ue.prototype.once=function(e,r){return Uo(r),this.on(e,Zl(this,e,r)),this};ue.prototype.prependOnceListener=function(e,r){return Uo(r),this.prependListener(e,Zl(this,e,r)),this};ue.prototype.removeListener=function(e,r){var n,i,o,s,a;if(Uo(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():b2(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};ue.prototype.off=ue.prototype.removeListener;ue.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Xl(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?E2(i):Jl(i,i.length)}ue.prototype.listeners=function(e){return Xl(this,e,!0)};ue.prototype.rawListeners=function(e){return Xl(this,e,!1)};ue.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ql.call(t,e)};ue.prototype.listenerCount=Ql;function Ql(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ue.prototype.eventNames=function(){return this._eventsCount>0?Lo(this._events):[]};function Jl(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b2(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function E2(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function B2(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}eh(t,e,o,{once:!0}),e!=="error"&&S2(t,i,{once:!0})})}function S2(t,e,r){typeof t.on=="function"&&eh(t,"error",e,r)}function eh(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var Ha=I((DS,Ln)=>{var nh=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},Va=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),Ko=t=>t&&typeof t.sink=="function"&&Va(t.source),k2=t=>e=>(t.sink(e),t.source),ih=(...t)=>{if(Ko(t[0])){let e=t[0];t[0]=()=>e.source}else if(Va(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&Ko(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)Ko(t[e])&&(t[e]=k2(t[e]));return nh(...t)};Ln.exports=ih;Ln.exports.pipe=ih;Ln.exports.rawPipe=nh;Ln.exports.isIterable=Va;Ln.exports.isDuplex=Ko});var uh=I((OS,ah)=>{ah.exports=sh;var oh=128,D2=127,R2=~D2,N2=Math.pow(2,31);function sh(t,e,r){e=e||[],r=r||0;for(var n=r;t>=N2;)e[r++]=t&255|oh,t/=128;for(;t&R2;)e[r++]=t&255|oh,t>>>=7;return e[r]=t|0,sh.bytes=r-n+1,e}});var lh=I((KS,fh)=>{fh.exports=$a;var L2=128,ch=127;function $a(t,e){var r=0,e=e||0,n=0,i=e,o,s=t.length;do{if(i>=s)throw $a.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&ch)<<n:(o&ch)*Math.pow(2,n),n+=7}while(o>=L2);return $a.bytes=i-e,r}});var ph=I((MS,hh)=>{var U2=Math.pow(2,7),P2=Math.pow(2,14),F2=Math.pow(2,21),O2=Math.pow(2,28),K2=Math.pow(2,35),M2=Math.pow(2,42),q2=Math.pow(2,49),z2=Math.pow(2,56),j2=Math.pow(2,63);hh.exports=function(t){return t<U2?1:t<P2?2:t<F2?3:t<O2?4:t<K2?5:t<M2?6:t<q2?7:t<z2?8:t<j2?9:10}});var yh=I((qS,dh)=>{dh.exports={encode:uh(),decode:lh(),encodingLength:ph()}});var xh=I((zS,mh)=>{"use strict";var gh=yh();mh.exports=t=>{if(!(t instanceof Uint8Array))throw new Error("arg needs to be a Uint8Array");let e=[];for(;t.length>0;){let r=gh.decode(t);e.push(r),t=t.slice(gh.decode.bytes)}return e}});var vh=I((jS,wh)=>{"use strict";var V2=async t=>{for await(let e of t);};wh.exports=V2});var zo={};Ce(zo,{base36:()=>W2,base36upper:()=>Y2});var W2,Y2,Ja=ae(()=>{kt();W2=pr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y2=pr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Pn={};Ce(Pn,{base64:()=>Z2,base64pad:()=>X2,base64url:()=>Q2,base64urlpad:()=>J2});var Z2,X2,Q2,J2,Ei=ae(()=>{kt();Z2=be({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),X2=be({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Q2=be({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),J2=be({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var jo={};Ce(jo,{base16:()=>ex,base16upper:()=>tx});var ex,tx,eu=ae(()=>{kt();ex=be({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tx=be({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Ho=I((B3,_h)=>{"use strict";var Yr=So(),Vo=Yr.Reader,Ch=Yr.Writer,ze=Yr.util,pt=Yr.roots["libp2p-crypto-keys"]||(Yr.roots["libp2p-crypto-keys"]={});pt.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();pt.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=ze.newBuffer([]),t.encode=function(r,n){return n||(n=Ch.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof Vo||(r=Vo.create(r));for(var i=n===void 0?r.len:r.pos+n,o=new pt.PublicKey;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:o.Type=r.int32();break;case 2:o.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw ze.ProtocolError("missing required 'Type'",{instance:o});if(!o.hasOwnProperty("Data"))throw ze.ProtocolError("missing required 'Data'",{instance:o});return o},t.fromObject=function(r){if(r instanceof pt.PublicKey)return r;var n=new pt.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?ze.base64.decode(r.Data,n.Data=ze.newBuffer(ze.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=ze.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?pt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?ze.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yr.util.toJSONOptions)},t}();pt.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=ze.newBuffer([]),t.encode=function(r,n){return n||(n=Ch.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof Vo||(r=Vo.create(r));for(var i=n===void 0?r.len:r.pos+n,o=new pt.PrivateKey;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:o.Type=r.int32();break;case 2:o.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw ze.ProtocolError("missing required 'Type'",{instance:o});if(!o.hasOwnProperty("Data"))throw ze.ProtocolError("missing required 'Data'",{instance:o});return o},t.fromObject=function(r){if(r instanceof pt.PrivateKey)return r;var n=new pt.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?ze.base64.decode(r.Data,n.Data=ze.newBuffer(ze.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=ze.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?pt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?ze.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yr.util.toJSONOptions)},t}();_h.exports=pt});var ce=I((S3,kh)=>{kh.exports={options:{usePureJavaScript:!1}}});var Nh=I((A3,Rh)=>{var tu={};Rh.exports=tu;var Dh={};tu.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=rx(t,e);else{var i=0,o=e.length,s=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};tu.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=Dh[e];if(!r){r=Dh[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),s=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var u=0,c=a;u<s.length;++u)c+=s[u]*i,s[u]=c&255,c>>=8;for(;c>0;)s.push(c&255),c>>=8}for(var f=0;t[f]===o&&f<t.length-1;++f)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function rx(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var s=0,a=t.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=e[o[r]];return u}});var Ie=I((T3,Fh)=>{var Lh=ce(),Uh=Nh(),g=Fh.exports=Lh.util=Lh.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(a){return setImmediate(a)};return}if(g.setImmediate=function(a){setTimeout(a,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let a=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(f){f()})}};var s=a,t="forge.setImmediate",e=[];g.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=g.setImmediate;g.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),o(u)):(e.push(u),e.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self=="undefined"?window:self}();g.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};g.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};g.isArrayBufferView=function(t){return t&&g.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Bi(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}g.ByteBuffer=ru;function ru(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(g.isArrayBuffer(t)||g.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(n){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof ru||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}g.ByteStringBuffer=ru;var nx=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>nx&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};g.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};g.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};g.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(g.encodeUtf8(t))};g.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};g.ByteStringBuffer.prototype.putInt=function(t,e){Bi(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};g.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};g.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};g.ByteStringBuffer.prototype.getInt=function(t){Bi(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};g.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};g.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var t=g.createBuffer(this.data);return t.read=this.read,t};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function ix(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=g.isArrayBuffer(t),n=g.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}g.DataBuffer=ix;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};g.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};g.DataBuffer.prototype.putBytes=function(t,e){if(g.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof g.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&g.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof g.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=g.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};g.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};g.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};g.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(t,e){Bi(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};g.DataBuffer.prototype.putSignedInt=function(t,e){return Bi(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};g.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};g.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};g.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};g.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};g.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};g.DataBuffer.prototype.getInt=function(t){Bi(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};g.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};g.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return g.binary.raw.encode(e);if(t==="hex")return g.binary.hex.encode(e);if(t==="base64")return g.binary.base64.encode(e);if(t==="utf8")return g.text.utf8.decode(e);if(t==="utf16")return g.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};g.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=g.encodeUtf8(t)),new g.ByteBuffer(t)};g.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};g.xorBytes=function(t,e,r){for(var n="",i="",o="",s=0,a=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),a>=10&&(n+=o,o="",a=0),o+=String.fromCharCode(i),++a;return n+=o,n};g.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};g.bytesToHex=function(t){return g.createBuffer(t).toHex()};g.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ar=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Ph="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(t,e){for(var r="",n="",i,o,s,a=0;a<t.length;)i=t.charCodeAt(a++),o=t.charCodeAt(a++),s=t.charCodeAt(a++),r+=Sr.charAt(i>>2),r+=Sr.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Sr.charAt((o&15)<<2|s>>6),r+=isNaN(s)?"=":Sr.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,s=0;s<t.length;)r=Ar[t.charCodeAt(s++)-43],n=Ar[t.charCodeAt(s++)-43],i=Ar[t.charCodeAt(s++)-43],o=Ar[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};g.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};g.decodeUtf8=function(t){return decodeURIComponent(escape(t))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Uh.encode,decode:Uh.decode}};g.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};g.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};g.binary.base64.encode=function(t,e){for(var r="",n="",i,o,s,a=0;a<t.byteLength;)i=t[a++],o=t[a++],s=t[a++],r+=Sr.charAt(i>>2),r+=Sr.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Sr.charAt((o&15)<<2|s>>6),r+=isNaN(s)?"=":Sr.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,s,a,u=0,c=r;u<t.length;)i=Ar[t.charCodeAt(u++)-43],o=Ar[t.charCodeAt(u++)-43],s=Ar[t.charCodeAt(u++)-43],a=Ar[t.charCodeAt(u++)-43],n[c++]=i<<2|o>>4,s!==64&&(n[c++]=(o&15)<<4|s>>2,a!==64&&(n[c++]=(s&3)<<6|a));return e?c-r:n.subarray(0,c)};g.binary.base58.encode=function(t,e){return g.binary.baseN.encode(t,Ph,e)};g.binary.base58.decode=function(t,e){return g.binary.baseN.decode(t,Ph,e)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(t,e,r){t=g.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};g.text.utf8.decode=function(t){return g.decodeUtf8(String.fromCharCode.apply(null,t))};g.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,s=r,a=0;a<t.length;++a)i[s++]=t.charCodeAt(a),o+=2;return e?o-r:n};g.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};g.deflate=function(t,e,r){if(e=g.decode64(t.deflate(g.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};g.inflate=function(t,e,r){var n=t.inflate(g.encode64(e)).rval;return n===null?null:g.decode64(n)};var nu=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=g.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},iu=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},ox=function(t,e,r,n){var i=iu(t,e);i===null&&(i={}),i[r]=n,nu(t,e,i)},sx=function(t,e,r){var n=iu(t,e);return n!==null&&(n=r in n?n[r]:null),n},ax=function(t,e,r){var n=iu(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),nu(t,e,n)}},ux=function(t,e){nu(t,e,null)},Go=function(t,e,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,o=!1,s=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(u){s=u}if(o)break}if(!o)throw s;return n};g.setItem=function(t,e,r,n,i){Go(ox,arguments,i)};g.getItem=function(t,e,r,n){return Go(sx,arguments,n)};g.removeItem=function(t,e,r,n){Go(ax,arguments,n)};g.clearItems=function(t,e,r){Go(ux,arguments,r)};g.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};g.format=function(t){for(var e=/%./g,r,n,i=0,o=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&o.push(n),s=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(t.substring(s)),o.join("")};g.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,a=n===void 0?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+a:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):"")};g.formatSize=function(t){return t>=1073741824?t=g.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=g.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=g.formatNumber(t/1024,0)+" KiB":t=g.formatNumber(t,0)+" bytes",t};g.bytesFromIP=function(t){return t.indexOf(".")!==-1?g.bytesFromIPv4(t):t.indexOf(":")!==-1?g.bytesFromIPv6(t):null};g.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=g.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};g.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=g.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=g.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};g.bytesToIP=function(t){return t.length===4?g.bytesToIPv4(t):t.length===16?g.bytesToIPv6(t):null};g.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};g.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=g.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var s=r[r.length-1],a=e.length;!s||a!==s.end+1?r.push({start:a,end:a}):(s.end=a,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};g.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in g&&!t.update)return e(null,g.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,e(null,g.cores);if(typeof Worker=="undefined")return g.cores=1,e(null,g.cores);if(typeof Blob=="undefined")return g.cores=2,e(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var a=Date.now(),u=a+4;Date.now()<u;);self.postMessage({st:a,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,a,u){if(a===0){var c=Math.floor(s.reduce(function(f,l){return f+l},0)/s.length);return g.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,g.cores)}i(u,function(f,l){s.push(o(u,l)),n(s,a-1,u)})}function i(s,a){for(var u=[],c=[],f=0;f<s;++f){var l=new Worker(r);l.addEventListener("message",function(h){if(c.push(h.data),c.length===s){for(var d=0;d<s;++d)u[d].terminate();a(null,c)}}),u.push(l)}for(var f=0;f<s;++f)u[f].postMessage(f)}function o(s,a){for(var u=[],c=0;c<s;++c)for(var f=a[c],l=u[c]=[],h=0;h<s;++h)if(c!==h){var d=a[h];(f.st>d.st&&f.st<d.et||d.st>f.st&&d.st<f.et)&&l.push(h)}return u.reduce(function(p,y){return Math.max(p,y.length)},0)}}});var $o=I((I3,Oh)=>{var Si=ce();Si.pki=Si.pki||{};var ou=Oh.exports=Si.pki.oids=Si.oids=Si.oids||{};function C(t,e){ou[t]=e,ou[e]=t}function se(t,e){ou[t]=e}C("1.2.840.113549.1.1.1","rsaEncryption");C("1.2.840.113549.1.1.4","md5WithRSAEncryption");C("1.2.840.113549.1.1.5","sha1WithRSAEncryption");C("1.2.840.113549.1.1.7","RSAES-OAEP");C("1.2.840.113549.1.1.8","mgf1");C("1.2.840.113549.1.1.9","pSpecified");C("1.2.840.113549.1.1.10","RSASSA-PSS");C("1.2.840.113549.1.1.11","sha256WithRSAEncryption");C("1.2.840.113549.1.1.12","sha384WithRSAEncryption");C("1.2.840.113549.1.1.13","sha512WithRSAEncryption");C("1.3.101.112","EdDSA25519");C("1.2.840.10040.4.3","dsa-with-sha1");C("1.3.14.3.2.7","desCBC");C("1.3.14.3.2.26","sha1");C("1.3.14.3.2.29","sha1WithRSASignature");C("2.16.840.1.101.3.4.2.1","sha256");C("2.16.840.1.101.3.4.2.2","sha384");C("2.16.840.1.101.3.4.2.3","sha512");C("2.16.840.1.101.3.4.2.4","sha224");C("2.16.840.1.101.3.4.2.5","sha512-224");C("2.16.840.1.101.3.4.2.6","sha512-256");C("1.2.840.113549.2.2","md2");C("1.2.840.113549.2.5","md5");C("1.2.840.113549.1.7.1","data");C("1.2.840.113549.1.7.2","signedData");C("1.2.840.113549.1.7.3","envelopedData");C("1.2.840.113549.1.7.4","signedAndEnvelopedData");C("1.2.840.113549.1.7.5","digestedData");C("1.2.840.113549.1.7.6","encryptedData");C("1.2.840.113549.1.9.1","emailAddress");C("1.2.840.113549.1.9.2","unstructuredName");C("1.2.840.113549.1.9.3","contentType");C("1.2.840.113549.1.9.4","messageDigest");C("1.2.840.113549.1.9.5","signingTime");C("1.2.840.113549.1.9.6","counterSignature");C("1.2.840.113549.1.9.7","challengePassword");C("1.2.840.113549.1.9.8","unstructuredAddress");C("1.2.840.113549.1.9.14","extensionRequest");C("1.2.840.113549.1.9.20","friendlyName");C("1.2.840.113549.1.9.21","localKeyId");C("1.2.840.113549.1.9.22.1","x509Certificate");C("1.2.840.113549.1.12.10.1.1","keyBag");C("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");C("1.2.840.113549.1.12.10.1.3","certBag");C("1.2.840.113549.1.12.10.1.4","crlBag");C("1.2.840.113549.1.12.10.1.5","secretBag");C("1.2.840.113549.1.12.10.1.6","safeContentsBag");C("1.2.840.113549.1.5.13","pkcs5PBES2");C("1.2.840.113549.1.5.12","pkcs5PBKDF2");C("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");C("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");C("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");C("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");C("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");C("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");C("1.2.840.113549.2.7","hmacWithSHA1");C("1.2.840.113549.2.8","hmacWithSHA224");C("1.2.840.113549.2.9","hmacWithSHA256");C("1.2.840.113549.2.10","hmacWithSHA384");C("1.2.840.113549.2.11","hmacWithSHA512");C("1.2.840.113549.3.7","des-EDE3-CBC");C("2.16.840.1.101.3.4.1.2","aes128-CBC");C("2.16.840.1.101.3.4.1.22","aes192-CBC");C("2.16.840.1.101.3.4.1.42","aes256-CBC");C("2.5.4.3","commonName");C("2.5.4.4","surname");C("2.5.4.5","serialNumber");C("2.5.4.6","countryName");C("2.5.4.7","localityName");C("2.5.4.8","stateOrProvinceName");C("2.5.4.9","streetAddress");C("2.5.4.10","organizationName");C("2.5.4.11","organizationalUnitName");C("2.5.4.12","title");C("2.5.4.13","description");C("2.5.4.15","businessCategory");C("2.5.4.17","postalCode");C("2.5.4.42","givenName");C("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");C("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");C("2.16.840.1.113730.1.1","nsCertType");C("2.16.840.1.113730.1.13","nsComment");se("2.5.29.1","authorityKeyIdentifier");se("2.5.29.2","keyAttributes");se("2.5.29.3","certificatePolicies");se("2.5.29.4","keyUsageRestriction");se("2.5.29.5","policyMapping");se("2.5.29.6","subtreesConstraint");se("2.5.29.7","subjectAltName");se("2.5.29.8","issuerAltName");se("2.5.29.9","subjectDirectoryAttributes");se("2.5.29.10","basicConstraints");se("2.5.29.11","nameConstraints");se("2.5.29.12","policyConstraints");se("2.5.29.13","basicConstraints");C("2.5.29.14","subjectKeyIdentifier");C("2.5.29.15","keyUsage");se("2.5.29.16","privateKeyUsagePeriod");C("2.5.29.17","subjectAltName");C("2.5.29.18","issuerAltName");C("2.5.29.19","basicConstraints");se("2.5.29.20","cRLNumber");se("2.5.29.21","cRLReason");se("2.5.29.22","expirationDate");se("2.5.29.23","instructionCode");se("2.5.29.24","invalidityDate");se("2.5.29.25","cRLDistributionPoints");se("2.5.29.26","issuingDistributionPoint");se("2.5.29.27","deltaCRLIndicator");se("2.5.29.28","issuingDistributionPoint");se("2.5.29.29","certificateIssuer");se("2.5.29.30","nameConstraints");C("2.5.29.31","cRLDistributionPoints");C("2.5.29.32","certificatePolicies");se("2.5.29.33","policyMappings");se("2.5.29.34","policyConstraints");C("2.5.29.35","authorityKeyIdentifier");se("2.5.29.36","policyConstraints");C("2.5.29.37","extKeyUsage");se("2.5.29.46","freshestCRL");se("2.5.29.54","inhibitAnyPolicy");C("1.3.6.1.4.1.11129.2.4.2","timestampList");C("1.3.6.1.5.5.7.1.1","authorityInfoAccess");C("1.3.6.1.5.5.7.3.1","serverAuth");C("1.3.6.1.5.5.7.3.2","clientAuth");C("1.3.6.1.5.5.7.3.3","codeSigning");C("1.3.6.1.5.5.7.3.4","emailProtection");C("1.3.6.1.5.5.7.3.8","timeStamping")});var Ti=I((C3,Mh)=>{var ye=ce();Ie();$o();var R=Mh.exports=ye.asn1=ye.asn1||{};R.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};R.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};R.create=function(t,e,r,n,i){if(ye.util.isArray(n)){for(var o=[],s=0;s<n.length;++s)n[s]!==void 0&&o.push(n[s]);n=o}var a={tagClass:t,type:e,constructed:r,composed:r||ye.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=R.copy(a)),a};R.copy=function(t,e){var r;if(ye.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(R.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:R.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};R.equals=function(t,e,r){if(ye.util.isArray(t)){if(!ye.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!R.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&R.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};R.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Ai(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var cx=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;Ai(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};R.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=ye.util.createBuffer(t));var r=t.length(),n=Wo(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function Wo(t,e,r,n){var i;Ai(t,e,2);var o=t.getByte();e--;var s=o&192,a=o&31;i=t.length();var u=cx(t,e);if(e-=i-t.length(),u!==void 0&&u>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=u,c}u=e}var f,l,h=(o&32)==32;if(h)if(f=[],u===void 0)for(;;){if(Ai(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),f.push(Wo(t,e,r+1,n)),e-=i-t.length()}else for(;u>0;)i=t.length(),f.push(Wo(t,u,r+1,n)),e-=i-t.length(),u-=i-t.length();if(f===void 0&&s===R.Class.UNIVERSAL&&a===R.Type.BITSTRING&&(l=t.bytes(u)),f===void 0&&n.decodeBitStrings&&s===R.Class.UNIVERSAL&&a===R.Type.BITSTRING&&u>1){var d=t.read,p=e,y=0;if(a===R.Type.BITSTRING&&(Ai(t,e,1),y=t.getByte(),e--),y===0)try{i=t.length();var x={strict:!0,decodeBitStrings:!0},w=Wo(t,e,r+1,x),A=i-t.length();e-=A,a==R.Type.BITSTRING&&A++;var _=w.tagClass;A===u&&(_===R.Class.UNIVERSAL||_===R.Class.CONTEXT_SPECIFIC)&&(f=[w])}catch(k){}f===void 0&&(t.read=d,e=p)}if(f===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(a===R.Type.BMPSTRING)for(f="";u>0;u-=2)Ai(t,e,2),f+=String.fromCharCode(t.getInt16()),e-=2;else f=t.getBytes(u),e-=u}var F=l===void 0?null:{bitStringContents:l};return R.create(s,a,h,f,F)}R.toDer=function(t){var e=ye.util.createBuffer(),r=t.tagClass|t.type,n=ye.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=R.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(R.toDer(t.value[o]))}else if(t.type===R.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===R.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),a="";do a+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(a.length|128);for(var o=a.length-1;o>=0;--o)e.putByte(a.charCodeAt(o))}return e.putBuffer(n),e};R.oidToDer=function(t){var e=t.split("."),r=ye.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,s,a=2;a<e.length;++a){n=!0,i=[],o=parseInt(e[a],10);do s=o&127,o=o>>>7,n||(s|=128),i.push(s),n=!1;while(o>0);for(var u=i.length-1;u>=0;--u)r.putByte(i[u])}return r};R.derToOid=function(t){var e;typeof t=="string"&&(t=ye.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};R.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var u=t.charAt(10),c=10;u!=="+"&&u!=="-"&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,0),c&&(u=t.charAt(c),u==="+"||u==="-")){var f=parseInt(t.substr(c+1,2),10),l=parseInt(t.substr(c+4,2),10),h=f*60+l;h*=6e4,u==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};R.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;t.charAt(t.length-1)==="Z"&&(f=!0);var l=t.length-5,h=t.charAt(l);if(h==="+"||h==="-"){var d=parseInt(t.substr(l+1,2),10),p=parseInt(t.substr(l+4,2),10);c=d*60+p,c*=6e4,h==="+"&&(c*=-1),f=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,s,a,u)),e};R.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};R.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};R.integerToDer=function(t){var e=ye.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};R.derToInteger=function(t){typeof t=="string"&&(t=ye.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};R.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(i=!0,e.value&&ye.util.isArray(e.value))for(var o=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[o]&&(i=R.validate(t.value[o],e.value[s],r,n),i?++o:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Kh=/[^\\u0000-\\u00ff]/;R.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case R.Class.UNIVERSAL:n+="Universal:";break;case R.Class.APPLICATION:n+="Application:";break;case R.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case R.Class.PRIVATE:n+="Private:";break}if(t.tagClass===R.Class.UNIVERSAL)switch(n+=t.type,t.type){case R.Type.NONE:n+=" (None)";break;case R.Type.BOOLEAN:n+=" (Boolean)";break;case R.Type.INTEGER:n+=" (Integer)";break;case R.Type.BITSTRING:n+=" (Bit string)";break;case R.Type.OCTETSTRING:n+=" (Octet string)";break;case R.Type.NULL:n+=" (Null)";break;case R.Type.OID:n+=" (Object Identifier)";break;case R.Type.ODESC:n+=" (Object Descriptor)";break;case R.Type.EXTERNAL:n+=" (External or Instance of)";break;case R.Type.REAL:n+=" (Real)";break;case R.Type.ENUMERATED:n+=" (Enumerated)";break;case R.Type.EMBEDDED:n+=" (Embedded PDV)";break;case R.Type.UTF8:n+=" (UTF8)";break;case R.Type.ROID:n+=" (Relative Object Identifier)";break;case R.Type.SEQUENCE:n+=" (Sequence)";break;case R.Type.SET:n+=" (Set)";break;case R.Type.PRINTABLESTRING:n+=" (Printable String)";break;case R.Type.IA5String:n+=" (IA5String (ASCII))";break;case R.Type.UTCTIME:n+=" (UTC time)";break;case R.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case R.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,a="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(s+=1,a+=R.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(a+=","));n+=i+"Sub values: "+s+a}else{if(n+=i+"Value: ",t.type===R.Type.OID){var u=R.derToOid(t.value);n+=u,ye.pki&&ye.pki.oids&&u in ye.pki.oids&&(n+=" ("+ye.pki.oids[u]+") ")}if(t.type===R.Type.INTEGER)try{n+=R.derToInteger(t.value)}catch(f){n+="0x"+ye.util.bytesToHex(t.value)}else if(t.type===R.Type.BITSTRING){if(t.value.length>1?n+="0x"+ye.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===R.Type.OCTETSTRING)Kh.test(t.value)||(n+="("+t.value+") "),n+="0x"+ye.util.bytesToHex(t.value);else if(t.type===R.Type.UTF8)try{n+=ye.util.decodeUtf8(t.value)}catch(f){if(f.message==="URI malformed")n+="0x"+ye.util.bytesToHex(t.value)+" (malformed UTF8)";else throw f}else t.type===R.Type.PRINTABLESTRING||t.type===R.Type.IA5String?n+=t.value:Kh.test(t.value)?n+="0x"+ye.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var au=I((_3,qh)=>{var Ne=ce();Ie();qh.exports=Ne.cipher=Ne.cipher||{};Ne.cipher.algorithms=Ne.cipher.algorithms||{};Ne.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ne.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ne.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Ne.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ne.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ne.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Ne.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Ne.cipher.algorithms[t]=e};Ne.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Ne.cipher.algorithms?Ne.cipher.algorithms[t]:null};var su=Ne.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};su.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Ne.util.createBuffer(),this.output=t.output||Ne.util.createBuffer(),this.mode.start(e)};su.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};su.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var cu=I((k3,zh)=>{var Le=ce();Ie();Le.cipher=Le.cipher||{};var G=zh.exports=Le.cipher.modes=Le.cipher.modes||{};G.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};G.ecb.prototype.start=function(t){};G.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};G.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};G.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};G.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};G.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};G.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Yo(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};G.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};G.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};G.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};G.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};G.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Le.util.createBuffer(),this._partialBytes=0};G.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Yo(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};G.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};G.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};G.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Le.util.createBuffer(),this._partialBytes=0};G.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Yo(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};G.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};G.ofb.prototype.decrypt=G.ofb.prototype.encrypt;G.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Le.util.createBuffer(),this._partialBytes=0};G.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Yo(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};G.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Zo(this._inBlock)};G.ctr.prototype.decrypt=G.ctr.prototype.encrypt;G.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Le.util.createBuffer(),this._partialBytes=0,this._R=3774873600};G.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Le.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Le.util.createBuffer(t.additionalData):r=Le.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Le.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(uu(n*8)))}this._inBlock=this._j0.slice(0),Zo(this._inBlock),this._partialBytes=0,r=Le.util.createBuffer(r),this._aDataLength=uu(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};G.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Zo(this._inBlock)};G.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Zo(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};G.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Le.util.createBuffer();var n=this._aDataLength.concat(uu(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};G.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};G.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};G.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};G.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};G.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],u=s/n|0,c=(n-1-s%n)*e;a[u]=1<<e-1<<c,o[s]=this.generateSubHashTable(this.multiply(a,t),e)}return o};G.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var s=1;s<o;++s){var a=i[o],u=i[s];i[o+s]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function Yo(t,e){if(typeof t=="string"&&(t=Le.util.createBuffer(t)),Le.util.isArray(t)&&t.length>4){var r=t;t=Le.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Le.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function Zo(t){t[t.length-1]=t[t.length-1]+1&4294967295}function uu(t){return[t/4294967296|0,t&4294967295]}});var pu=I((D3,Gh)=>{var pe=ce();au();cu();Ie();Gh.exports=pe.aes=pe.aes||{};pe.aes.startEncrypting=function(t,e,r,n){var i=Xo({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};pe.aes.createEncryptionCipher=function(t,e){return Xo({key:t,output:null,decrypt:!1,mode:e})};pe.aes.startDecrypting=function(t,e,r,n){var i=Xo({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};pe.aes.createDecryptionCipher=function(t,e){return Xo({key:t,output:null,decrypt:!0,mode:e})};pe.aes.Algorithm=function(t,e){fu||Vh();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return hu(r._w,n,i,!1)},decrypt:function(n,i){return hu(r._w,n,i,!0)}}}),r._init=!1};pe.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=pe.util.createBuffer(e);else if(pe.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=pe.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!pe.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!pe.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=Hh(e,t.decrypt&&!s),this._init=!0}};pe.aes._expandKey=function(t,e){return fu||Vh(),Hh(t,e)};pe.aes._updateBlock=hu;Fn("AES-ECB",pe.cipher.modes.ecb);Fn("AES-CBC",pe.cipher.modes.cbc);Fn("AES-CFB",pe.cipher.modes.cfb);Fn("AES-OFB",pe.cipher.modes.ofb);Fn("AES-CTR",pe.cipher.modes.ctr);Fn("AES-GCM",pe.cipher.modes.gcm);function Fn(t,e){var r=function(){return new pe.aes.Algorithm(t,e)};pe.cipher.registerAlgorithm(t,r)}var fu=!1,On=4,$e,lu,jh,Zr,Tt;function Vh(){fu=!0,jh=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;$e=new Array(256),lu=new Array(256),Zr=new Array(4),Tt=new Array(4);for(var e=0;e<4;++e)Zr[e]=new Array(256),Tt[e]=new Array(256);for(var r=0,n=0,i,o,s,a,u,c,f,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,$e[r]=a,lu[a]=r,u=t[a],i=t[r],o=t[i],s=t[o],c=u<<24^a<<16^a<<8^(a^u),f=(i^o^s)<<24^(r^s)<<16^(r^o^s)<<8^(r^i^s);for(var l=0;l<4;++l)Zr[l][r]=c,Tt[l][a]=f,c=c<<24|c>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function Hh(t,e){for(var r=t.slice(0),n,i=1,o=r.length,s=o+6+1,a=On*s,u=o;u<a;++u)n=r[u-1],u%o==0?(n=$e[n>>>16&255]<<24^$e[n>>>8&255]<<16^$e[n&255]<<8^$e[n>>>24]^jh[i]<<24,i++):o>6&&u%o==4&&(n=$e[n>>>24]<<24^$e[n>>>16&255]<<16^$e[n>>>8&255]<<8^$e[n&255]),r[u]=r[u-o]^n;if(e){var c,f=Tt[0],l=Tt[1],h=Tt[2],d=Tt[3],p=r.slice(0);a=r.length;for(var u=0,y=a-On;u<a;u+=On,y-=On)if(u===0||u===a-On)p[u]=r[y],p[u+1]=r[y+3],p[u+2]=r[y+2],p[u+3]=r[y+1];else for(var x=0;x<On;++x)c=r[y+x],p[u+(3&-x)]=f[$e[c>>>24]]^l[$e[c>>>16&255]]^h[$e[c>>>8&255]]^d[$e[c&255]];r=p}return r}function hu(t,e,r,n){var i=t.length/4-1,o,s,a,u,c;n?(o=Tt[0],s=Tt[1],a=Tt[2],u=Tt[3],c=lu):(o=Zr[0],s=Zr[1],a=Zr[2],u=Zr[3],c=$e);var f,l,h,d,p,y,x;f=e[0]^t[0],l=e[n?3:1]^t[1],h=e[2]^t[2],d=e[n?1:3]^t[3];for(var w=3,A=1;A<i;++A)p=o[f>>>24]^s[l>>>16&255]^a[h>>>8&255]^u[d&255]^t[++w],y=o[l>>>24]^s[h>>>16&255]^a[d>>>8&255]^u[f&255]^t[++w],x=o[h>>>24]^s[d>>>16&255]^a[f>>>8&255]^u[l&255]^t[++w],d=o[d>>>24]^s[f>>>16&255]^a[l>>>8&255]^u[h&255]^t[++w],f=p,l=y,h=x;r[0]=c[f>>>24]<<24^c[l>>>16&255]<<16^c[h>>>8&255]<<8^c[d&255]^t[++w],r[n?3:1]=c[l>>>24]<<24^c[h>>>16&255]<<16^c[d>>>8&255]<<8^c[f&255]^t[++w],r[2]=c[h>>>24]<<24^c[d>>>16&255]<<16^c[f>>>8&255]<<8^c[l&255]^t[++w],r[n?1:3]=c[d>>>24]<<24^c[f>>>16&255]<<16^c[l>>>8&255]<<8^c[h&255]^t[++w]}function Xo(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=pe.cipher.createDecipher(r,t.key):n=pe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,s){var a=null;s instanceof pe.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(n,s)},n}});var Yh=I((R3,Wh)=>{var xe=ce();au();cu();Ie();Wh.exports=xe.des=xe.des||{};xe.des.startEncrypting=function(t,e,r,n){var i=Qo({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};xe.des.createEncryptionCipher=function(t,e){return Qo({key:t,output:null,decrypt:!1,mode:e})};xe.des.startDecrypting=function(t,e,r,n){var i=Qo({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};xe.des.createDecryptionCipher=function(t,e){return Qo({key:t,output:null,decrypt:!0,mode:e})};xe.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return $h(r._keys,n,i,!1)},decrypt:function(n,i){return $h(r._keys,n,i,!0)}}}),r._init=!1};xe.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=xe.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=xx(e),this._init=!0}};Ft("DES-ECB",xe.cipher.modes.ecb);Ft("DES-CBC",xe.cipher.modes.cbc);Ft("DES-CFB",xe.cipher.modes.cfb);Ft("DES-OFB",xe.cipher.modes.ofb);Ft("DES-CTR",xe.cipher.modes.ctr);Ft("3DES-ECB",xe.cipher.modes.ecb);Ft("3DES-CBC",xe.cipher.modes.cbc);Ft("3DES-CFB",xe.cipher.modes.cfb);Ft("3DES-OFB",xe.cipher.modes.ofb);Ft("3DES-CTR",xe.cipher.modes.ctr);function Ft(t,e){var r=function(){return new xe.des.Algorithm(t,e)};xe.cipher.registerAlgorithm(t,r)}var fx=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],lx=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],hx=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],px=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],dx=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],yx=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],gx=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],mx=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function xx(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=t.length()>8?3:1,x=[],w=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],A=0,_,F=0;F<y;F++){var k=t.getInt32(),L=t.getInt32();_=(k>>>4^L)&252645135,L^=_,k^=_<<4,_=(L>>>-16^k)&65535,k^=_,L^=_<<-16,_=(k>>>2^L)&858993459,L^=_,k^=_<<2,_=(L>>>-16^k)&65535,k^=_,L^=_<<-16,_=(k>>>1^L)&1431655765,L^=_,k^=_<<1,_=(L>>>8^k)&16711935,k^=_,L^=_<<8,_=(k>>>1^L)&1431655765,L^=_,k^=_<<1,_=k<<8|L>>>20&240,k=L<<24|L<<8&16711680|L>>>8&65280|L>>>24&240,L=_;for(var W=0;W<w.length;++W){w[W]?(k=k<<2|k>>>26,L=L<<2|L>>>26):(k=k<<1|k>>>27,L=L<<1|L>>>27),k&=-15,L&=-15;var J=e[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|i[k>>>16&15]|o[k>>>12&15]|s[k>>>8&15]|a[k>>>4&15],Se=u[L>>>28]|c[L>>>24&15]|f[L>>>20&15]|l[L>>>16&15]|h[L>>>12&15]|d[L>>>8&15]|p[L>>>4&15];_=(Se>>>16^J)&65535,x[A++]=J^_,x[A++]=Se^_<<16}}return x}function $h(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,a=e[0],u=e[1];s=(a>>>4^u)&252645135,u^=s,a^=s<<4,s=(a>>>16^u)&65535,u^=s,a^=s<<16,s=(u>>>2^a)&858993459,a^=s,u^=s<<2,s=(u>>>8^a)&16711935,a^=s,u^=s<<8,s=(a>>>1^u)&1431655765,u^=s,a^=s<<1,a=a<<1|a>>>31,u=u<<1|u>>>31;for(var c=0;c<i;c+=3){for(var f=o[c+1],l=o[c+2],h=o[c];h!=f;h+=l){var d=u^t[h],p=(u>>>4|u<<28)^t[h+1];s=a,a=u,u=s^(lx[d>>>24&63]|px[d>>>16&63]|yx[d>>>8&63]|mx[d&63]|fx[p>>>24&63]|hx[p>>>16&63]|dx[p>>>8&63]|gx[p&63])}s=a,a=u,u=s}a=a>>>1|a<<31,u=u>>>1|u<<31,s=(a>>>1^u)&1431655765,u^=s,a^=s<<1,s=(u>>>8^a)&16711935,a^=s,u^=s<<8,s=(u>>>2^a)&858993459,a^=s,u^=s<<2,s=(a>>>16^u)&65535,u^=s,a^=s<<16,s=(a>>>4^u)&252645135,u^=s,a^=s<<4,r[0]=a,r[1]=u}function Qo(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=xe.cipher.createDecipher(r,t.key):n=xe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,s){var a=null;s instanceof xe.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(n,s)},n}});var Xr=I((N3,Zh)=>{var Jo=ce();Zh.exports=Jo.md=Jo.md||{};Jo.md.algorithms=Jo.md.algorithms||{}});var Qh=I((L3,Xh)=>{var ir=ce();Xr();Ie();var wx=Xh.exports=ir.hmac=ir.hmac||{};wx.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,s){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in ir.md.algorithms)e=ir.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(s===null)s=t;else{if(typeof s=="string")s=ir.util.createBuffer(s);else if(ir.util.isArray(s)){var a=s;s=ir.util.createBuffer();for(var u=0;u<a.length;++u)s.putByte(a[u])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=ir.util.createBuffer(),n=ir.util.createBuffer(),c=s.length();for(var u=0;u<c;++u){var a=s.at(u);r.putByte(54^a),n.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var Kn=I(()=>{});var ep=I((F3,Jh)=>{var We=ce();Qh();Xr();Ie();var vx=We.pkcs5=We.pkcs5||{},or;We.util.isNodejs&&!We.options.usePureJavaScript&&(or=Kn());Jh.exports=We.pbkdf2=vx.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),We.util.isNodejs&&!We.options.usePureJavaScript&&or.pbkdf2&&(i===null||typeof i!="object")&&(or.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?or.pbkdf2Sync.length===4?or.pbkdf2(t,e,r,n,function(_,F){if(_)return o(_);o(null,F.toString("binary"))}):or.pbkdf2(t,e,r,n,i,function(_,F){if(_)return o(_);o(null,F.toString("binary"))}):or.pbkdf2Sync.length===4?or.pbkdf2Sync(t,e,r,n).toString("binary"):or.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in We.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=We.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var a=new Error("Derived key is too long.");if(o)return o(a);throw a}var u=Math.ceil(n/s),c=n-(u-1)*s,f=We.hmac.create();f.start(i,t);var l="",h,d,p;if(!o){for(var y=1;y<=u;++y){f.start(null,null),f.update(e),f.update(We.util.int32ToBytes(y)),h=p=f.digest().getBytes();for(var x=2;x<=r;++x)f.start(null,null),f.update(p),d=f.digest().getBytes(),h=We.util.xorBytes(h,d,s),p=d;l+=y<u?h:h.substr(0,c)}return l}var y=1,x;function w(){if(y>u)return o(null,l);f.start(null,null),f.update(e),f.update(We.util.int32ToBytes(y)),h=p=f.digest().getBytes(),x=2,A()}function A(){if(x<=r)return f.start(null,null),f.update(p),d=f.digest().getBytes(),h=We.util.xorBytes(h,d,s),p=d,++x,We.util.setImmediate(A);l+=y<u?h:h.substr(0,c),++y,w()}w()}});var np=I((O3,rp)=>{var es=ce();Ie();var tp=rp.exports=es.pem=es.pem||{};tp.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=ts(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=ts(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=ts(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=ts(t.headers[i]);return t.procType&&(r+=`\r
`),r+=es.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};tp.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var s=o[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var a={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:es.util.decode64(o[3])};if(e.push(a),!!o[2]){for(var u=o[2].split(i),c=0;o&&c<u.length;){for(var f=u[c].replace(/\s+$/,""),l=c+1;l<u.length;++l){var h=u[l];if(!/\s/.test(h[0]))break;f+=h,c=l}if(o=f.match(n),o){for(var d={name:o[1],values:[]},p=o[2].split(","),y=0;y<p.length;++y)d.values.push(bx(p[y]));if(a.procType)if(!a.contentDomain&&d.name==="Content-Domain")a.contentDomain=p[0]||"";else if(!a.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:p[0],parameters:p[1]||null}}else a.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:p[0],type:p[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function ts(t){for(var e=t.name+": ",r=[],n=function(u,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,s=-1,i=0;i<e.length;++i,++o)if(o>65&&s!==-1){var a=e[s];a===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+a+e.substr(s+1),o=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function bx(t){return t.replace(/^\s+/,"")}});var cp=I((K3,up)=>{var Ot=ce();Xr();Ie();var ip=up.exports=Ot.sha256=Ot.sha256||{};Ot.md.sha256=Ot.md.algorithms.sha256=ip;ip.create=function(){op||Ex();var t=null,e=Ot.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Ot.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ot.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),ap(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ot.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(du.substr(0,n.blockLength-s));for(var a,u,c=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};ap(l,r,i);var h=Ot.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var du=null,op=!1,sp=null;function Ex(){du=String.fromCharCode(128),du+=Ot.util.fillString(String.fromCharCode(0),64),sp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],op=!0}function ap(t,e,r){for(var n,i,o,s,a,u,c,f,l,h,d,p,y,x,w,A=r.length();A>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(f=t.h0,l=t.h1,h=t.h2,d=t.h3,p=t.h4,y=t.h5,x=t.h6,w=t.h7,c=0;c<64;++c)s=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),a=x^p&(y^x),o=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),u=f&l|h&(f^l),n=w+s+a+sp[c]+e[c],i=o+u,w=x,x=y,y=p,p=d+n>>>0,d=h,h=l,l=f,f=n+i>>>0;t.h0=t.h0+f|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+d|0,t.h4=t.h4+p|0,t.h5=t.h5+y|0,t.h6=t.h6+x|0,t.h7=t.h7+w|0,A-=64}}});var lp=I((M3,fp)=>{var Kt=ce();Ie();var rs=null;Kt.util.isNodejs&&!Kt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(rs=Kn());var Bx=fp.exports=Kt.prng=Kt.prng||{};Bx.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,f){if(!f)return e.generateSync(c);var l=e.plugin.cipher,h=e.plugin.increment,d=e.plugin.formatKey,p=e.plugin.formatSeed,y=Kt.util.createBuffer();e.key=null,x();function x(w){if(w)return f(w);if(y.length()>=c)return f(null,y.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Kt.util.nextTick(function(){o(x)});var A=l(e.key,e.seed);e.generated+=A.length,y.putBytes(A),e.key=d(l(e.key,h(e.seed))),e.seed=p(l(e.key,e.seed)),Kt.util.setImmediate(x)}},e.generateSync=function(c){var f=e.plugin.cipher,l=e.plugin.increment,h=e.plugin.formatKey,d=e.plugin.formatSeed;e.key=null;for(var p=Kt.util.createBuffer();p.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&s();var y=f(e.key,e.seed);e.generated+=y.length,p.putBytes(y),e.key=h(f(e.key,l(e.seed))),e.seed=d(f(e.key,e.seed))}return p.getBytes(c)};function o(c){if(e.pools[0].messageLength>=32)return a(),c();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(l,h){if(l)return c(l);e.collect(h),a(),c()})}function s(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var f=1,l=0;l<32;++l)e.reseeds%f==0&&(c.update(e.pools[l].digest().getBytes()),e.pools[l].start()),f=f<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var h=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function u(c){var f=null,l=Kt.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(f=function(k){return h.getRandomValues(k)});var d=Kt.util.createBuffer();if(f)for(;d.length()<c;){var p=Math.max(1,Math.min(c-d.length(),65536)/4),y=new Uint32Array(Math.floor(p));try{f(y);for(var x=0;x<y.length;++x)d.putInt32(y[x])}catch(k){if(!(typeof QuotaExceededError!="undefined"&&k instanceof QuotaExceededError))throw k}}if(d.length()<c)for(var w,A,_,F=Math.floor(Math.random()*65536);d.length()<c;){A=16807*(F&65535),w=16807*(F>>16),A+=(w&32767)<<16,A+=w>>15,A=(A&2147483647)+(A>>31),F=A&4294967295;for(var x=0;x<3;++x)_=F>>>(x<<3),_^=Math.floor(Math.random()*256),d.putByte(_&255)}return d.getBytes(c)}return rs?(e.seedFile=function(c,f){rs.randomBytes(c,function(l,h){if(l)return f(l);f(null,h.toString())})},e.seedFileSync=function(c){return rs.randomBytes(c).toString()}):(e.seedFile=function(c,f){try{f(null,u(c))}catch(l){f(l)}},e.seedFileSync=u),e.collect=function(c){for(var f=c.length,l=0;l<f;++l)e.pools[e.pool].update(c.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,f){for(var l="",h=0;h<f;h+=8)l+=String.fromCharCode(c>>h&255);e.collect(l)},e.registerWorker=function(c){if(c===self)e.seedFile=function(l,h){function d(p){var y=p.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",d),h(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var h=l.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(d,p){c.postMessage({forge:{prng:{err:d,bytes:p}}})})};c.addEventListener("message",f)}},e}});var Ii=I((q3,yu)=>{var Ue=ce();pu();cp();lp();Ie();(function(){if(Ue.random&&Ue.random.getBytes){yu.exports=Ue.random;return}(function(t){var e={},r=new Array(4),n=Ue.util.createBuffer();e.formatKey=function(l){var h=Ue.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),Ue.aes._expandKey(l,!1)},e.formatSeed=function(l){var h=Ue.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},e.cipher=function(l,h){return Ue.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Ue.md.sha256;function i(){var l=Ue.prng.create(e);return l.getBytes=function(h,d){return l.generate(h,d)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),s=null,a=Ue.util.globalScope,u=a.crypto||a.msCrypto;if(u&&u.getRandomValues&&(s=function(l){return u.getRandomValues(l)}),Ue.options.usePureJavaScript||!Ue.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,o.collectInt(+new Date,32),typeof navigator!="undefined"){var c="";for(var f in navigator)try{typeof navigator[f]=="string"&&(c+=navigator[f])}catch(l){}o.collect(c),c=null}t&&(t().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),t().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!Ue.random)Ue.random=o;else for(var f in o)Ue.random[f]=o[f];Ue.random.createInstance=i,yu.exports=Ue.random})(typeof jQuery!="undefined"?jQuery:null)})()});var yp=I((z3,dp)=>{var Je=ce();Ie();var gu=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],hp=[1,2,3,5],Sx=function(t,e){return t<<e&65535|(t&65535)>>16-e},Ax=function(t,e){return(t&65535)>>e|t<<16-e&65535};dp.exports=Je.rc2=Je.rc2||{};Je.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Je.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),s=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(gu[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-o,gu[r.at(128-o)&s]),a=127-o;a>=0;a--)r.setAt(a,gu[r.at(a+1)^r.at(a+o)]);return r};var pp=function(t,e,r){var n=!1,i=null,o=null,s=null,a,u,c,f,l=[];for(t=Je.rc2.expandKey(t,e),c=0;c<64;c++)l.push(t.getInt16Le());r?(a=function(p){for(c=0;c<4;c++)p[c]+=l[f]+(p[(c+3)%4]&p[(c+2)%4])+(~p[(c+3)%4]&p[(c+1)%4]),p[c]=Sx(p[c],hp[c]),f++},u=function(p){for(c=0;c<4;c++)p[c]+=l[p[(c+3)%4]&63]}):(a=function(p){for(c=3;c>=0;c--)p[c]=Ax(p[c],hp[c]),p[c]-=l[f]+(p[(c+3)%4]&p[(c+2)%4])+(~p[(c+3)%4]&p[(c+1)%4]),f--},u=function(p){for(c=3;c>=0;c--)p[c]-=l[p[(c+3)%4]&63]});var h=function(p){var y=[];for(c=0;c<4;c++){var x=i.getInt16Le();s!==null&&(r?x^=s.getInt16Le():s.putInt16Le(x)),y.push(x&65535)}f=r?0:63;for(var w=0;w<p.length;w++)for(var A=0;A<p[w][0];A++)p[w][1](y);for(c=0;c<4;c++)s!==null&&(r?s.putInt16Le(y[c]):y[c]^=s.getInt16Le()),o.putInt16Le(y[c])},d=null;return d={start:function(p,y){p&&typeof p=="string"&&(p=Je.util.createBuffer(p)),n=!1,i=Je.util.createBuffer(),o=y||new Je.util.createBuffer,s=p,d.output=o},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)h([[5,a],[1,u],[6,a],[1,u],[5,a]])},finish:function(p){var y=!0;if(r)if(p)y=p(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(y&&(n=!0,d.update()),!r&&(y=i.length()===0,y))if(p)y=p(8,o,!r);else{var w=o.length(),A=o.at(w-1);A>w?y=!1:o.truncate(A)}return y}},d};Je.rc2.startEncrypting=function(t,e,r){var n=Je.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Je.rc2.createEncryptionCipher=function(t,e){return pp(t,e,!0)};Je.rc2.startDecrypting=function(t,e,r){var n=Je.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Je.rc2.createDecryptionCipher=function(t,e){return pp(t,e,!1)}});var os=I((j3,Bp)=>{var mu=ce();Bp.exports=mu.jsbn=mu.jsbn||{};var sr,Tx=244837814094590,gp=(Tx&16777215)==15715070;function T(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}mu.jsbn.BigInteger=T;function te(){return new T(null)}function Ix(t,e,r,n,i,o){for(;--o>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function Cx(t,e,r,n,i,o){for(var s=e&32767,a=e>>15;--o>=0;){var u=this.data[t]&32767,c=this.data[t++]>>15,f=a*u+c*s;u=s*u+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(u>>>30)+(f>>>15)+a*c+(i>>>30),r.data[n++]=u&1073741823}return i}function mp(t,e,r,n,i,o){for(var s=e&16383,a=e>>14;--o>=0;){var u=this.data[t]&16383,c=this.data[t++]>>14,f=a*u+c*s;u=s*u+((f&16383)<<14)+r.data[n]+i,i=(u>>28)+(f>>14)+a*c,r.data[n++]=u&268435455}return i}typeof navigator=="undefined"?(T.prototype.am=mp,sr=28):gp&&navigator.appName=="Microsoft Internet Explorer"?(T.prototype.am=Cx,sr=30):gp&&navigator.appName!="Netscape"?(T.prototype.am=Ix,sr=26):(T.prototype.am=mp,sr=28);T.prototype.DB=sr;T.prototype.DM=(1<<sr)-1;T.prototype.DV=1<<sr;var xu=52;T.prototype.FV=Math.pow(2,xu);T.prototype.F1=xu-sr;T.prototype.F2=2*sr-xu;var _x="0123456789abcdefghijklmnopqrstuvwxyz",ns=new Array,Mn,dt;Mn="0".charCodeAt(0);for(dt=0;dt<=9;++dt)ns[Mn++]=dt;Mn="a".charCodeAt(0);for(dt=10;dt<36;++dt)ns[Mn++]=dt;Mn="A".charCodeAt(0);for(dt=10;dt<36;++dt)ns[Mn++]=dt;function xp(t){return _x.charAt(t)}function wp(t,e){var r=ns[t.charCodeAt(e)];return r??-1}function kx(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Dx(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function Tr(t){var e=te();return e.fromInt(t),e}function Rx(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=r==8?t[n]&255:wp(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=s:o+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&T.ZERO.subTo(this,this)}function Nx(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Lx(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this.data[s]>>a)>0&&(i=!0,o=xp(n));s>=0;)a<e?(n=(this.data[s]&(1<<a)-1)<<e-a,n|=this.data[--s]>>(a+=this.DB-e)):(n=this.data[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=xp(n));return i?o:"0"}function Ux(){var t=te();return T.ZERO.subTo(this,t),t}function Px(){return this.s<0?this.negate():this}function Fx(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function is(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Ox(){return this.t<=0?0:this.DB*(this.t-1)+is(this.data[this.t-1]^this.s&this.DM)}function Kx(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Mx(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function qx(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+o+1]=this.data[a]>>n|s,s=(this.data[a]&i)<<r;for(a=o-1;a>=0;--a)e.data[a]=0;e.data[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function zx(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&o)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function jx(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Vx(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&T.ZERO.subTo(e,e)}function Hx(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Gx(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=te());var o=te(),s=this.s,a=t.s,u=this.DB-is(n.data[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,f=o.data[c-1];if(f!=0){var l=f*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,y=r.t,x=y-c,w=e??te();for(o.dlShiftTo(x,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),T.ONE.dlShiftTo(c,w),w.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--x>=0;){var A=r.data[--y]==f?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+p)*d);if((r.data[y]+=o.am(0,A,r,x,0,c))<A)for(o.dlShiftTo(x,w),r.subTo(w,r);r.data[y]<--A;)r.subTo(w,r)}e!=null&&(r.drShiftTo(c,e),s!=a&&T.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&T.ZERO.subTo(r,r)}}}function $x(t){var e=te();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(T.ZERO)>0&&t.subTo(e,e),e}function Qr(t){this.m=t}function Wx(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Yx(t){return t}function Zx(t){t.divRemTo(this.m,null,t)}function Xx(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Qx(t,e){t.squareTo(e),this.reduce(e)}Qr.prototype.convert=Wx;Qr.prototype.revert=Yx;Qr.prototype.reduce=Zx;Qr.prototype.mulTo=Xx;Qr.prototype.sqrTo=Qx;function Jx(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Jr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function ew(t){var e=te();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(T.ZERO)>0&&this.m.subTo(e,e),e}function tw(t){var e=te();return t.copyTo(e),this.reduce(e),e}function rw(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function nw(t,e){t.squareTo(e),this.reduce(e)}function iw(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Jr.prototype.convert=ew;Jr.prototype.revert=tw;Jr.prototype.reduce=rw;Jr.prototype.mulTo=iw;Jr.prototype.sqrTo=nw;function ow(){return(this.t>0?this.data[0]&1:this.s)==0}function sw(t,e){if(t>4294967295||t<1)return T.ONE;var r=te(),n=te(),i=e.convert(this),o=is(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function aw(t,e){var r;return t<256||e.isEven()?r=new Qr(e):r=new Jr(e),this.exp(t,r)}T.prototype.copyTo=kx;T.prototype.fromInt=Dx;T.prototype.fromString=Rx;T.prototype.clamp=Nx;T.prototype.dlShiftTo=Kx;T.prototype.drShiftTo=Mx;T.prototype.lShiftTo=qx;T.prototype.rShiftTo=zx;T.prototype.subTo=jx;T.prototype.multiplyTo=Vx;T.prototype.squareTo=Hx;T.prototype.divRemTo=Gx;T.prototype.invDigit=Jx;T.prototype.isEven=ow;T.prototype.exp=sw;T.prototype.toString=Lx;T.prototype.negate=Ux;T.prototype.abs=Px;T.prototype.compareTo=Fx;T.prototype.bitLength=Ox;T.prototype.mod=$x;T.prototype.modPowInt=aw;T.ZERO=Tr(0);T.ONE=Tr(1);function uw(){var t=te();return this.copyTo(t),t}function cw(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function fw(){return this.t==0?this.s:this.data[0]<<24>>24}function lw(){return this.t==0?this.s:this.data[0]<<16>>16}function hw(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function pw(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function dw(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Tr(r),i=te(),o=te(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s}function yw(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=wp(t,a);if(u<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&T.ZERO.subTo(this,this)}function gw(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(T.ONE.shiftLeft(t-1),wu,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(T.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function mw(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function xw(t){return this.compareTo(t)==0}function ww(t){return this.compareTo(t)<0?this:t}function vw(t){return this.compareTo(t)>0?this:t}function bw(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Ew(t,e){return t&e}function Bw(t){var e=te();return this.bitwiseTo(t,Ew,e),e}function wu(t,e){return t|e}function Sw(t){var e=te();return this.bitwiseTo(t,wu,e),e}function vp(t,e){return t^e}function Aw(t){var e=te();return this.bitwiseTo(t,vp,e),e}function bp(t,e){return t&~e}function Tw(t){var e=te();return this.bitwiseTo(t,bp,e),e}function Iw(){for(var t=te(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Cw(t){var e=te();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function _w(t){var e=te();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function kw(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function Dw(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+kw(this.data[t]);return this.s<0?this.t*this.DB:-1}function Rw(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Nw(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Rw(this.data[r]^e);return t}function Lw(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Uw(t,e){var r=T.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Pw(t){return this.changeBit(t,wu)}function Fw(t){return this.changeBit(t,bp)}function Ow(t){return this.changeBit(t,vp)}function Kw(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Mw(t){var e=te();return this.addTo(t,e),e}function qw(t){var e=te();return this.subTo(t,e),e}function zw(t){var e=te();return this.multiplyTo(t,e),e}function jw(t){var e=te();return this.divRemTo(t,e,null),e}function Vw(t){var e=te();return this.divRemTo(t,null,e),e}function Hw(t){var e=te(),r=te();return this.divRemTo(t,e,r),new Array(e,r)}function Gw(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function $w(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Ci(){}function Ep(t){return t}function Ww(t,e,r){t.multiplyTo(e,r)}function Yw(t,e){t.squareTo(e)}Ci.prototype.convert=Ep;Ci.prototype.revert=Ep;Ci.prototype.mulTo=Ww;Ci.prototype.sqrTo=Yw;function Zw(t){return this.exp(t,new Ci)}function Xw(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Qw(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function qn(t){this.r2=te(),this.q3=te(),T.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Jw(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=te();return t.copyTo(e),this.reduce(e),e}function ev(t){return t}function tv(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function rv(t,e){t.squareTo(e),this.reduce(e)}function nv(t,e,r){t.multiplyTo(e,r),this.reduce(r)}qn.prototype.convert=Jw;qn.prototype.revert=ev;qn.prototype.reduce=tv;qn.prototype.mulTo=nv;qn.prototype.sqrTo=rv;function iv(t,e){var r=t.bitLength(),n,i=Tr(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new Qr(e):e.isEven()?o=new qn(e):o=new Jr(e);var s=new Array,a=3,u=n-1,c=(1<<n)-1;if(s[1]=o.convert(this),n>1){var f=te();for(o.sqrTo(s[1],f);a<=c;)s[a]=te(),o.mulTo(f,s[a-2],s[a]),a+=2}var l=t.t-1,h,d=!0,p=te(),y;for(r=is(t.data[l])-1;l>=0;){for(r>=u?h=t.data[l]>>r-u&c:(h=(t.data[l]&(1<<r+1)-1)<<u-r,l>0&&(h|=t.data[l-1]>>this.DB+r-u)),a=n;(h&1)==0;)h>>=1,--a;if((r-=a)<0&&(r+=this.DB,--l),d)s[h].copyTo(i),d=!1;else{for(;a>1;)o.sqrTo(i,p),o.sqrTo(p,i),a-=2;a>0?o.sqrTo(i,p):(y=i,i=p,p=y),o.mulTo(p,s[h],i)}for(;l>=0&&(t.data[l]&1<<r)==0;)o.sqrTo(i,p),y=i,i=p,p=y,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function ov(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function sv(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function av(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return T.ZERO;for(var r=t.clone(),n=this.clone(),i=Tr(1),o=Tr(0),s=Tr(0),a=Tr(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(a,o)):(n.subTo(r,n),e&&s.subTo(i,s),a.subTo(o,a))}if(n.compareTo(T.ONE)!=0)return T.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var It=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],uv=(1<<26)/It[It.length-1];function cv(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=It[It.length-1]){for(e=0;e<It.length;++e)if(r.data[0]==It[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<It.length;){for(var n=It[e],i=e+1;i<It.length&&n<uv;)n*=It[i++];for(n=r.modInt(n);e<i;)if(n%It[e++]==0)return!1}return r.millerRabin(t)}function fv(t){var e=this.subtract(T.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=lv(),o,s=0;s<t;++s){do o=new T(this.bitLength(),i);while(o.compareTo(T.ONE)<=0||o.compareTo(e)>=0);var a=o.modPow(n,this);if(a.compareTo(T.ONE)!=0&&a.compareTo(e)!=0){for(var u=1;u++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(T.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function lv(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}T.prototype.chunkSize=hw;T.prototype.toRadix=dw;T.prototype.fromRadix=yw;T.prototype.fromNumber=gw;T.prototype.bitwiseTo=bw;T.prototype.changeBit=Uw;T.prototype.addTo=Kw;T.prototype.dMultiply=Gw;T.prototype.dAddOffset=$w;T.prototype.multiplyLowerTo=Xw;T.prototype.multiplyUpperTo=Qw;T.prototype.modInt=sv;T.prototype.millerRabin=fv;T.prototype.clone=uw;T.prototype.intValue=cw;T.prototype.byteValue=fw;T.prototype.shortValue=lw;T.prototype.signum=pw;T.prototype.toByteArray=mw;T.prototype.equals=xw;T.prototype.min=ww;T.prototype.max=vw;T.prototype.and=Bw;T.prototype.or=Sw;T.prototype.xor=Aw;T.prototype.andNot=Tw;T.prototype.not=Iw;T.prototype.shiftLeft=Cw;T.prototype.shiftRight=_w;T.prototype.getLowestSetBit=Dw;T.prototype.bitCount=Nw;T.prototype.testBit=Lw;T.prototype.setBit=Pw;T.prototype.clearBit=Fw;T.prototype.flipBit=Ow;T.prototype.add=Mw;T.prototype.subtract=qw;T.prototype.multiply=zw;T.prototype.divide=jw;T.prototype.remainder=Vw;T.prototype.divideAndRemainder=Hw;T.prototype.modPow=iv;T.prototype.modInverse=av;T.prototype.pow=Zw;T.prototype.gcd=ov;T.prototype.isProbablePrime=cv});var Cp=I((V3,Ip)=>{var Mt=ce();Xr();Ie();var Sp=Ip.exports=Mt.sha1=Mt.sha1||{};Mt.md.sha1=Mt.md.algorithms.sha1=Sp;Sp.create=function(){Ap||hv();var t=null,e=Mt.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Mt.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Mt.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),Tp(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Mt.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(vu.substr(0,n.blockLength-s));for(var a,u,c=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)a=n.fullMessageLength[f+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};Tp(l,r,i);var h=Mt.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var vu=null,Ap=!1;function hv(){vu=String.fromCharCode(128),vu+=Mt.util.fillString(String.fromCharCode(0),64),Ap=!0}function Tp(t,e,r){for(var n,i,o,s,a,u,c,f,l=r.length();l>=64;){for(i=t.h0,o=t.h1,s=t.h2,a=t.h3,u=t.h4,f=0;f<16;++f)n=r.getInt32(),e[f]=n,c=a^o&(s^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<20;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=a^o&(s^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<32;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=o^s^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<40;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=o^s^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<60;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=o&s|a&(o^s),n=(i<<5|i>>>27)+c+u+2400959708+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<80;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=o^s^a,n=(i<<5|i>>>27)+c+u+3395469782+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+s|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,l-=64}}});var Dp=I((H3,kp)=>{var qt=ce();Ie();Ii();Cp();var _p=kp.exports=qt.pkcs1=qt.pkcs1||{};_p.encode_rsa_oaep=function(t,e,r){var n,i,o,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),o?o.start():o=qt.md.sha1.create(),s||(s=o);var a=Math.ceil(t.n.bitLength()/8),u=a-2*o.digestLength-2;if(e.length>u){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=u,c}n||(n=""),o.update(n,"raw");for(var f=o.digest(),l="",h=u-e.length,d=0;d<h;d++)l+="\0";var p=f.getBytes()+l+""+e;if(!i)i=qt.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var y=ss(i,a-o.digestLength-1,s),x=qt.util.xorBytes(p,y,p.length),w=ss(x,o.digestLength,s),A=qt.util.xorBytes(i,w,i.length);return"\0"+A+x};_p.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=e.length,x.expectedLength=s,x}if(i===void 0?i=qt.md.sha1.create():i.start(),o||(o=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),u=e.charAt(0),c=e.substring(1,i.digestLength+1),f=e.substring(1+i.digestLength),l=ss(f,i.digestLength,o),h=qt.util.xorBytes(c,l,c.length),d=ss(h,s-i.digestLength-1,o),p=qt.util.xorBytes(f,d,f.length),y=p.substring(0,i.digestLength),x=u!=="\0",w=0;w<i.digestLength;++w)x|=a.charAt(w)!==y.charAt(w);for(var A=1,_=i.digestLength,F=i.digestLength;F<p.length;F++){var k=p.charCodeAt(F),L=k&1^1,W=A?65534:0;x|=k&W,A=A&L,_+=A}if(x||p.charCodeAt(_)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(_+1)};function ss(t,e,r){r||(r=qt.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}});var Rp=I((G3,bu)=>{var Ir=ce();Ie();os();Ii();(function(){if(Ir.prime){bu.exports=Ir.prime;return}var t=bu.exports=Ir.prime=Ir.prime||{},e=Ir.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,h){return l|h};t.generateProbablePrime=function(l,h,d){typeof h=="function"&&(d=h,h={}),h=h||{};var p=h.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var y=h.prng||Ir.random,x={nextBytes:function(w){for(var A=y.getBytesSync(w.length),_=0;_<w.length;++_)w[_]=A.charCodeAt(_)}};if(p.name==="PRIMEINC")return o(l,x,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function o(l,h,d,p){return"workers"in d?u(l,h,d,p):s(l,h,d,p)}function s(l,h,d,p){var y=c(l,h),x=0,w=f(y.bitLength());"millerRabinTests"in d&&(w=d.millerRabinTests);var A=10;"maxBlockTime"in d&&(A=d.maxBlockTime),a(y,l,h,x,w,A,p)}function a(l,h,d,p,y,x,w){var A=+new Date;do{if(l.bitLength()>h&&(l=c(h,d)),l.isProbablePrime(y))return w(null,l);l.dAddOffset(r[p++%8],0)}while(x<0||+new Date-A<x);Ir.util.setImmediate(function(){a(l,h,d,p,y,x,w)})}function u(l,h,d,p){if(typeof Worker=="undefined")return s(l,h,d,p);var y=c(l,h),x=d.workers,w=d.workLoad||100,A=w*30/8,_=d.workerScript||"forge/prime.worker.js";if(x===-1)return Ir.util.estimateCores(function(k,L){k&&(L=2),x=L-1,F()});F();function F(){x=Math.max(1,x);for(var k=[],L=0;L<x;++L)k[L]=new Worker(_);for(var W=x,L=0;L<x;++L)k[L].addEventListener("message",Se);var J=!1;function Se(Ye){if(!J){--W;var rt=Ye.data;if(rt.found){for(var He=0;He<k.length;++He)k[He].terminate();return J=!0,p(null,new e(rt.prime,16))}y.bitLength()>l&&(y=c(l,h));var an=y.toString(16);Ye.target.postMessage({hex:an,workLoad:w}),y.dAddOffset(A,0)}}}}function c(l,h){var d=new e(l,h),p=l-1;return d.testBit(p)||d.bitwiseTo(e.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var us=I(($3,Kp)=>{var K=ce();Ti();os();$o();Dp();Rp();Ii();Ie();typeof X=="undefined"&&(X=K.jsbn.BigInteger);var X,Eu=K.util.isNodejs?Kn():null,m=K.asn1,yt=K.util;K.pki=K.pki||{};Kp.exports=K.pki.rsa=K.rsa=K.rsa||{};var j=K.pki,pv=[6,4,2,4,2,4,6,2],dv={name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},yv={name:"RSAPrivateKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},gv={name:"RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},mv=K.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},xv={name:"DigestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},wv=function(t){var e;if(t.algorithm in j.oids)e=j.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=m.oidToDer(e).getBytes(),i=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),o=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);o.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,n)),o.value.push(m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,""));var s=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(s),m.toDer(i).getBytes()},Np=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(X.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(X.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new X(K.util.bytesToHex(K.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(X.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var s=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};j.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=Lp(t,e,r)):(i=K.util.createBuffer(),i.putBytes(t));for(var s=new X(i.toHex(),16),a=Np(s,e,n),u=a.toString(16),c=K.util.createBuffer(),f=o-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(K.util.hexToBytes(u)),c.getBytes()};j.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var s=new X(K.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=Np(s,e,r),u=a.toString(16),c=K.util.createBuffer(),f=i-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(K.util.hexToBytes(u)),n!==!1?as(c.getBytes(),e,r):c.getBytes()};j.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||K.random,i={nextBytes:function(a){for(var u=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=u.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",s;if(o==="PRIMEINC")s={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new X(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+o);return s};j.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new X(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,s,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,c=u-1;t.pqState===0?(t.num=new X(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(X.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(bv(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(pv[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(X.ONE),t.q1=t.q.subtract(X.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(X.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var f=t.e.modInverse(t.phi);t.keys={privateKey:j.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:j.rsa.setPublicKey(t.n,t.e)}}s=+new Date,a+=s-o,o=s}return t.keys!==null};j.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!K.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(Up("generateKeyPair"))return Eu.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,u,c){if(a)return n(a);n(null,{privateKey:j.privateKeyFromPem(c),publicKey:j.publicKeyFromPem(u)})});if(Pp("generateKey")&&Pp("exportKey"))return yt.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Op(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return yt.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var u=j.privateKeyFromAsn1(m.fromDer(K.util.createBuffer(a)));n(null,{privateKey:u,publicKey:j.setRsaPublicKey(u.n,u.e)})}});if(Fp("generateKey")&&Fp("exportKey")){var i=yt.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Op(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var u=a.target.result,c=yt.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);c.oncomplete=function(f){var l=f.target.result,h=j.privateKeyFromAsn1(m.fromDer(K.util.createBuffer(l)));n(null,{privateKey:h,publicKey:j.setRsaPublicKey(h.n,h.e)})},c.onerror=function(f){n(f)}},i.onerror=function(a){n(a)};return}}else if(Up("generateKeyPairSync")){var o=Eu.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:j.privateKeyFromPem(o.privateKey),publicKey:j.publicKeyFromPem(o.publicKey)}}}var s=j.rsa.createKeyPairGenerationState(t,e,r);if(!n)return j.rsa.stepKeyPairGenerationState(s,0),s.keys;vv(s,r,n)};j.setRsaPublicKey=j.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,u,c){return Lp(a,u,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,u){return K.pkcs1.encode_rsa_oaep(u,a,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return j.rsa.encrypt(s,r,!0)},r.verify=function(n,i,o,s){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(u,c){c=as(c,r,!0);var f=m.fromDer(c,{parseAllBytes:s._parseAllDigestBytes}),l={},h=[];if(!m.validate(f,xv,l,h)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=h,d}var p=m.derToOid(l.algorithmIdentifier);if(!(p===K.oids.md2||p===K.oids.md5||p===K.oids.sha1||p===K.oids.sha224||p===K.oids.sha256||p===K.oids.sha384||p===K.oids.sha512||p===K.oids["sha512-224"]||p===K.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===K.oids.md2||p===K.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(u,c){return c=as(c,r,!0),u===c}});var a=j.rsa.decrypt(i,r,!0,!1);return o.verify(n,a,r.n.bitLength())},r};j.setRsaPrivateKey=j.rsa.setPrivateKey=function(t,e,r,n,i,o,s,a){var u={n:t,e,d:r,p:n,q:i,dP:o,dQ:s,qInv:a};return u.decrypt=function(c,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=j.rsa.decrypt(c,u,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:as};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(d,p){return K.pkcs1.decode_rsa_oaep(p,d,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,u,!1)},u.sign=function(c,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:wv},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return c}},l=1);var h=f.encode(c,u.n.bitLength());return j.rsa.encrypt(h,u,l)},u};j.wrapRsaPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(j.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,m.toDer(t).getBytes())])};j.privateKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,dv,e,r)&&(t=m.fromDer(K.util.createBuffer(e.privateKey))),e={},r=[],!m.validate(t,yv,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,s,a,u,c,f,l;return i=K.util.createBuffer(e.privateKeyModulus).toHex(),o=K.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=K.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=K.util.createBuffer(e.privateKeyPrime1).toHex(),u=K.util.createBuffer(e.privateKeyPrime2).toHex(),c=K.util.createBuffer(e.privateKeyExponent1).toHex(),f=K.util.createBuffer(e.privateKeyExponent2).toHex(),l=K.util.createBuffer(e.privateKeyCoefficient).toHex(),j.setRsaPrivateKey(new X(i,16),new X(o,16),new X(s,16),new X(a,16),new X(u,16),new X(c,16),new X(f,16),new X(l,16))};j.privateKeyToAsn1=j.privateKeyToRSAPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.e)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.d)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.p)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.q)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.dP)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.dQ)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.qInv))])};j.publicKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,mv,e,r)){var n=m.derToOid(e.publicKeyOid);if(n!==j.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!m.validate(t,gv,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=K.util.createBuffer(e.publicKeyModulus).toHex(),s=K.util.createBuffer(e.publicKeyExponent).toHex();return j.setRsaPublicKey(new X(o,16),new X(s,16))};j.publicKeyToAsn1=j.publicKeyToSubjectPublicKeyInfo=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(j.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,[j.publicKeyToRSAPublicKey(t)])])};j.publicKeyToRSAPublicKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,zt(t.e))])};function Lp(t,e,r){var n=K.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var s=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var u=0;u<s;++u)n.putByte(a)}else for(;s>0;){for(var c=0,f=K.random.getBytes(s),u=0;u<s;++u)a=f.charCodeAt(u),a===0?++c:n.putByte(a);s=c}return n.putByte(0),n.putBytes(t),n}function as(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=K.util.createBuffer(t),s=o.getByte(),a=o.getByte();if(s!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var u=0;if(a===0){u=i-3-n;for(var c=0;c<u;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(u=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++u}else if(a===2)for(u=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++u}var f=o.getByte();if(f!==0||u!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function vv(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(a,u){if(a)return r(a);if(t.p=u,t.q!==null)return s(a,t.q);o(t.qBits,s)})}function o(a,u){K.prime.generateProbablePrime(a,n,u)}function s(a,u){if(a)return r(a);if(t.q=u,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)!==0){t.p=null,i();return}if(t.q.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)!==0){t.q=null,o(t.qBits,s);return}if(t.p1=t.p.subtract(X.ONE),t.q1=t.q.subtract(X.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(X.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,s);return}var f=t.e.modInverse(t.phi);t.keys={privateKey:j.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:j.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function zt(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=K.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function bv(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function Up(t){return K.util.isNodejs&&typeof Eu[t]=="function"}function Pp(t){return typeof yt.globalScope!="undefined"&&typeof yt.globalScope.crypto=="object"&&typeof yt.globalScope.crypto.subtle=="object"&&typeof yt.globalScope.crypto.subtle[t]=="function"}function Fp(t){return typeof yt.globalScope!="undefined"&&typeof yt.globalScope.msCrypto=="object"&&typeof yt.globalScope.msCrypto.subtle=="object"&&typeof yt.globalScope.msCrypto.subtle[t]=="function"}function Op(t){for(var e=K.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var Hp=I((W3,Vp)=>{var U=ce();pu();Ti();Yh();Xr();$o();ep();np();Ii();yp();us();Ie();typeof Mp=="undefined"&&(Mp=U.jsbn.BigInteger);var Mp,b=U.asn1,V=U.pki=U.pki||{};Vp.exports=V.pbe=U.pbe=U.pbe||{};var en=V.oids,Ev={name:"EncryptedPrivateKeyInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Bv={name:"PBES2Algorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Sv={name:"pkcs-12PbeParams",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"iterations"}]};V.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=U.random.getBytesSync(r.saltSize),i=r.count,o=b.integerToDer(i),s,a,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,f,l;switch(r.algorithm){case"aes128":s=16,c=16,f=en["aes128-CBC"],l=U.aes.createEncryptionCipher;break;case"aes192":s=24,c=16,f=en["aes192-CBC"],l=U.aes.createEncryptionCipher;break;case"aes256":s=32,c=16,f=en["aes256-CBC"],l=U.aes.createEncryptionCipher;break;case"des":s=8,c=8,f=en.desCBC,l=U.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=jp(d),y=U.pkcs5.pbkdf2(e,n,i,s,p),x=U.random.getBytesSync(c),w=l(y);w.start(x),w.update(b.toDer(t)),w.finish(),u=w.output.getBytes();var A=Av(n,o,s,d);a=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(en.pkcs5PBES2).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(en.pkcs5PBKDF2).getBytes()),A]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){s=24;var _=new U.util.ByteBuffer(n),y=V.pbe.generatePkcs12Key(e,_,1,i,s),x=V.pbe.generatePkcs12Key(e,_,2,i,s),w=U.des.createEncryptionCipher(y);w.start(x),w.update(b.toDer(t)),w.finish(),u=w.output.getBytes(),a=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(en["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,n),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var F=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[a,b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,u)]);return F};V.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!b.validate(t,Ev,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=b.derToOid(n.encryptionOid),a=V.pbe.getCipher(s,n.encryptionParams,e),u=U.util.createBuffer(n.encryptedData);return a.update(u),a.finish()&&(r=b.fromDer(a.output)),r};V.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:b.toDer(t).getBytes()};return U.pem.encode(r,{maxline:e})};V.encryptedPrivateKeyFromPem=function(t){var e=U.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return b.fromDer(e.body)};V.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=V.wrapRsaPrivateKey(V.privateKeyToAsn1(t));return n=V.encryptPrivateKeyInfo(n,e,r),V.encryptedPrivateKeyToPem(n)}var i,o,s,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,o=U.random.getBytesSync(16),a=U.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,o=U.random.getBytesSync(16),a=U.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,o=U.random.getBytesSync(16),a=U.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,o=U.random.getBytesSync(8),a=U.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,o=U.random.getBytesSync(8),a=U.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=U.pbe.opensslDeriveBytes(e,o.substr(0,8),s),f=a(c);f.start(o),f.update(b.toDer(V.privateKeyToAsn1(t))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:U.util.bytesToHex(o).toUpperCase()},body:f.output.getBytes()};return U.pem.encode(l)};V.decryptRsaPrivateKey=function(t,e){var r=null,n=U.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,s;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,s=U.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,s=U.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,s=U.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,s=U.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,s=U.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,s=function(l){return U.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,s=function(l){return U.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,s=function(l){return U.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=U.util.hexToBytes(n.dekInfo.parameters),u=U.pbe.opensslDeriveBytes(e,a.substr(0,8),o),c=s(u);if(c.start(a),c.update(U.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=V.decryptPrivateKeyInfo(b.fromDer(r),e):r=b.fromDer(r),r!==null&&(r=V.privateKeyFromAsn1(r)),r};V.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var s,a;if(typeof o=="undefined"||o===null){if(!("sha1"in U.md))throw new Error('"sha1" hash algorithm unavailable.');o=U.md.sha1.create()}var u=o.digestLength,c=o.blockLength,f=new U.util.ByteBuffer,l=new U.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)l.putInt16(t.charCodeAt(a));l.putInt16(0)}var h=l.length(),d=e.length(),p=new U.util.ByteBuffer;p.fillWithByte(r,c);var y=c*Math.ceil(d/c),x=new U.util.ByteBuffer;for(a=0;a<y;a++)x.putByte(e.at(a%d));var w=c*Math.ceil(h/c),A=new U.util.ByteBuffer;for(a=0;a<w;a++)A.putByte(l.at(a%h));var _=x;_.putBuffer(A);for(var F=Math.ceil(i/u),k=1;k<=F;k++){var L=new U.util.ByteBuffer;L.putBytes(p.bytes()),L.putBytes(_.bytes());for(var W=0;W<n;W++)o.start(),o.update(L.getBytes()),L=o.digest();var J=new U.util.ByteBuffer;for(a=0;a<c;a++)J.putByte(L.at(a%u));var Se=Math.ceil(d/c)+Math.ceil(h/c),Ye=new U.util.ByteBuffer;for(s=0;s<Se;s++){var rt=new U.util.ByteBuffer(_.getBytes(c)),He=511;for(a=J.length()-1;a>=0;a--)He=He>>8,He+=J.at(a)+rt.at(a),rt.setAt(a,He&255);Ye.putBuffer(rt)}_=Ye,f.putBuffer(L)}return f.truncate(f.length()-i),f};V.pbe.getCipher=function(t,e,r){switch(t){case V.oids.pkcs5PBES2:return V.pbe.getCipherForPBES2(t,e,r);case V.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case V.oids["pbewithSHAAnd40BitRC2-CBC"]:return V.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};V.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!b.validate(e,Bv,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=b.derToOid(n.kdfOid),t!==V.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=b.derToOid(n.encOid),t!==V.oids["aes128-CBC"]&&t!==V.oids["aes192-CBC"]&&t!==V.oids["aes256-CBC"]&&t!==V.oids["des-EDE3-CBC"]&&t!==V.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var s=n.kdfSalt,a=U.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var u,c;switch(V.oids[t]){case"aes128-CBC":u=16,c=U.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,c=U.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,c=U.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,c=U.des.createDecryptionCipher;break;case"desCBC":u=8,c=U.des.createDecryptionCipher;break}var f=zp(n.prfOid),l=U.pkcs5.pbkdf2(r,s,a,u,f),h=n.encIv,d=c(l);return d.start(h),d};V.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!b.validate(e,Sv,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=U.util.createBuffer(n.salt),a=U.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var u,c,f;switch(t){case V.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,f=U.des.startDecrypting;break;case V.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,f=function(y,x){var w=U.rc2.createDecryptionCipher(y,40);return w.start(x,null),w};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var l=zp(n.prfOid),h=V.pbe.generatePkcs12Key(r,s,1,a,u,l);l.start();var d=V.pbe.generatePkcs12Key(r,s,2,a,c,l);return f(h,d)};V.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in U.md))throw new Error('"md5" hash algorithm unavailable.');n=U.md.md5.create()}e===null&&(e="");for(var i=[qp(n,t+e)],o=16,s=1;o<r;++s,o+=16)i.push(qp(n,i[s-1]+t+e));return i.join("").substr(0,r)};function qp(t,e){return t.start().update(e).digest().getBytes()}function zp(t){var e;if(!t)e="hmacWithSHA1";else if(e=V.oids[b.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return jp(e)}function jp(t){var e=U.md;switch(t){case"hmacWithSHA224":e=U.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Av(t,e,r,n){var i=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,t),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,U.util.hexToBytes(r.toString(16))),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(V.oids[n]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),i}});var Bu={};Ce(Bu,{identity:()=>Tv});var Tv,Gp=ae(()=>{kt();lr();Tv=no({prefix:"\0",name:"identity",encode:t=>x0(t),decode:t=>m0(t)})});var Su={};Ce(Su,{base2:()=>Iv});var Iv,$p=ae(()=>{kt();Iv=be({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Au={};Ce(Au,{base8:()=>Cv});var Cv,Wp=ae(()=>{kt();Cv=be({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Tu={};Ce(Tu,{base10:()=>_v});var _v,Yp=ae(()=>{kt();_v=pr({prefix:"9",name:"base10",alphabet:"0123456789"})});var _i={};Ce(_i,{identity:()=>Rv});var Zp,kv,Xp,Dv,Rv,cs=ae(()=>{lr();ln();Zp=0,kv="identity",Xp=Qt,Dv=t=>hr(Zp,Xp(t)),Rv={code:Zp,name:kv,encode:Xp,digest:Dv}});var Qp=ae(()=>{lr()});var n6,i6,Jp=ae(()=>{n6=new TextEncoder,i6=new TextDecoder});var Iu,s6,ed=ae(()=>{Gp();$p();Wp();Yp();eu();ii();Ja();pn();Ei();mr();cs();Qp();Jp();gn();Iu={...Bu,...Su,...Au,...Tu,...jo,...ni,...zo,...hn,...Pn},s6={...Kr,..._i}});function td(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var rd,Cu,Uv,fs,_u=ae(()=>{ed();rd=td("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Cu=td("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Uv={utf8:rd,"utf-8":rd,hex:Iu.base16,latin1:Cu,ascii:Cu,binary:Cu,...Iu},fs=Uv});var Cr={};Ce(Cr,{fromString:()=>Pv});function Pv(t,e="utf8"){let r=fs[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var _r=ae(()=>{_u()});var ki={};Ce(ki,{concat:()=>Fv});function Fv(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var Di=ae(()=>{});var Ri=I(nd=>{"use strict";nd.get=(t=globalThis)=>{let e=t.crypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var ku=I((h6,od)=>{"use strict";var{concat:Ov}=(Di(),ki),{fromString:id}=(_r(),Cr),Kv=Ri();function Mv({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:o=32767}={}){let s=Kv.get();r*=8;async function a(c,f){let l=s.getRandomValues(new Uint8Array(i)),h=s.getRandomValues(new Uint8Array(e)),d={name:t,iv:h},p={name:"PBKDF2",salt:l,iterations:o,hash:{name:n}},y=await s.subtle.importKey("raw",id(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),x=await s.subtle.deriveKey(p,y,{name:t,length:r},!0,["encrypt"]),w=await s.subtle.encrypt(d,x,c);return Ov([l,d.iv,new Uint8Array(w)])}async function u(c,f){let l=c.slice(0,i),h=c.slice(i,i+e),d=c.slice(i+e),p={name:t,iv:h},y={name:"PBKDF2",salt:l,iterations:o,hash:{name:n}},x=await s.subtle.importKey("raw",id(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),w=await s.subtle.deriveKey(y,x,{name:t,length:r},!0,["decrypt"]),A=await s.subtle.decrypt(p,w,d);return new Uint8Array(A)}return{encrypt:a,decrypt:u}}od.exports={create:Mv}});var ad=I((p6,sd)=>{"use strict";var{base64:qv}=(Ei(),Pn),zv=ku();sd.exports={import:async function(t,e){let r=qv.decode(t);return await zv.create().decrypt(r,e)}}});var zn={};Ce(zn,{equals:()=>jv});function jv(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var jn=ae(()=>{});var kr={};Ce(kr,{toString:()=>Vv});function Vv(t,e="utf8"){let r=fs[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Dr=ae(()=>{_u()});var hd=I((y6,ld)=>{var ge=ce();Xr();Ie();var Ni=ld.exports=ge.sha512=ge.sha512||{};ge.md.sha512=ge.md.algorithms.sha512=Ni;var ud=ge.sha384=ge.sha512.sha384=ge.sha512.sha384||{};ud.create=function(){return Ni.create("SHA-384")};ge.md.sha384=ge.md.algorithms.sha384=ud;ge.sha512.sha256=ge.sha512.sha256||{create:function(){return Ni.create("SHA-512/256")}};ge.md["sha512/256"]=ge.md.algorithms["sha512/256"]=ge.sha512.sha256;ge.sha512.sha224=ge.sha512.sha224||{create:function(){return Ni.create("SHA-512/224")}};ge.md["sha512/224"]=ge.md.algorithms["sha512/224"]=ge.sha512.sha224;Ni.create=function(t){if(cd||Hv(),typeof t=="undefined"&&(t="SHA-512"),!(t in tn))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=tn[t],r=null,n=ge.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var u=a.messageLengthSize/4,c=0;c<u;++c)a.fullMessageLength.push(0);n=ge.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return a},a.start(),a.update=function(u,c){c==="utf8"&&(u=ge.util.encodeUtf8(u));var f=u.length;a.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=f[1],f[1]=f[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(u),fd(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var u=ge.util.createBuffer();u.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,f=c&a.blockLength-1;u.putBytes(Du.substr(0,a.blockLength-f));for(var l,h,d=a.fullMessageLength[0]*8,p=0;p<a.fullMessageLength.length-1;++p)l=a.fullMessageLength[p+1]*8,h=l/4294967296>>>0,d+=h,u.putInt32(d>>>0),d=l>>>0;u.putInt32(d);for(var y=new Array(r.length),p=0;p<r.length;++p)y[p]=r[p].slice(0);fd(y,i,u);var x=ge.util.createBuffer(),w;t==="SHA-512"?w=y.length:t==="SHA-384"?w=y.length-2:w=y.length-4;for(var p=0;p<w;++p)x.putInt32(y[p][0]),(p!==w-1||t!=="SHA-512/224")&&x.putInt32(y[p][1]);return x},a};var Du=null,cd=!1,Ru=null,tn=null;function Hv(){Du=String.fromCharCode(128),Du+=ge.util.fillString(String.fromCharCode(0),128),Ru=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],tn={},tn["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],tn["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],tn["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],tn["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],cd=!0}function fd(t,e,r){for(var n,i,o,s,a,u,c,f,l,h,d,p,y,x,w,A,_,F,k,L,W,J,Se,Ye,rt,He,an,Ji,Ae,Ze,M,Ds,Rs,Ns,Ls,c0=r.length();c0>=128;){for(Ae=0;Ae<16;++Ae)e[Ae][0]=r.getInt32()>>>0,e[Ae][1]=r.getInt32()>>>0;for(;Ae<80;++Ae)Ds=e[Ae-2],Ze=Ds[0],M=Ds[1],n=((Ze>>>19|M<<13)^(M>>>29|Ze<<3)^Ze>>>6)>>>0,i=((Ze<<13|M>>>19)^(M<<3|Ze>>>29)^(Ze<<26|M>>>6))>>>0,Ns=e[Ae-15],Ze=Ns[0],M=Ns[1],o=((Ze>>>1|M<<31)^(Ze>>>8|M<<24)^Ze>>>7)>>>0,s=((Ze<<31|M>>>1)^(Ze<<24|M>>>8)^(Ze<<25|M>>>7))>>>0,Rs=e[Ae-7],Ls=e[Ae-16],M=i+Rs[1]+s+Ls[1],e[Ae][0]=n+Rs[0]+o+Ls[0]+(M/4294967296>>>0)>>>0,e[Ae][1]=M>>>0;for(y=t[0][0],x=t[0][1],w=t[1][0],A=t[1][1],_=t[2][0],F=t[2][1],k=t[3][0],L=t[3][1],W=t[4][0],J=t[4][1],Se=t[5][0],Ye=t[5][1],rt=t[6][0],He=t[6][1],an=t[7][0],Ji=t[7][1],Ae=0;Ae<80;++Ae)c=((W>>>14|J<<18)^(W>>>18|J<<14)^(J>>>9|W<<23))>>>0,f=((W<<18|J>>>14)^(W<<14|J>>>18)^(J<<23|W>>>9))>>>0,l=(rt^W&(Se^rt))>>>0,h=(He^J&(Ye^He))>>>0,a=((y>>>28|x<<4)^(x>>>2|y<<30)^(x>>>7|y<<25))>>>0,u=((y<<4|x>>>28)^(x<<30|y>>>2)^(x<<25|y>>>7))>>>0,d=(y&w|_&(y^w))>>>0,p=(x&A|F&(x^A))>>>0,M=Ji+f+h+Ru[Ae][1]+e[Ae][1],n=an+c+l+Ru[Ae][0]+e[Ae][0]+(M/4294967296>>>0)>>>0,i=M>>>0,M=u+p,o=a+d+(M/4294967296>>>0)>>>0,s=M>>>0,an=rt,Ji=He,rt=Se,He=Ye,Se=W,Ye=J,M=L+i,W=k+n+(M/4294967296>>>0)>>>0,J=M>>>0,k=_,L=F,_=w,F=A,w=y,A=x,M=i+s,y=n+o+(M/4294967296>>>0)>>>0,x=M>>>0;M=t[0][1]+x,t[0][0]=t[0][0]+y+(M/4294967296>>>0)>>>0,t[0][1]=M>>>0,M=t[1][1]+A,t[1][0]=t[1][0]+w+(M/4294967296>>>0)>>>0,t[1][1]=M>>>0,M=t[2][1]+F,t[2][0]=t[2][0]+_+(M/4294967296>>>0)>>>0,t[2][1]=M>>>0,M=t[3][1]+L,t[3][0]=t[3][0]+k+(M/4294967296>>>0)>>>0,t[3][1]=M>>>0,M=t[4][1]+J,t[4][0]=t[4][0]+W+(M/4294967296>>>0)>>>0,t[4][1]=M>>>0,M=t[5][1]+Ye,t[5][0]=t[5][0]+Se+(M/4294967296>>>0)>>>0,t[5][1]=M>>>0,M=t[6][1]+He,t[6][0]=t[6][0]+rt+(M/4294967296>>>0)>>>0,t[6][1]=M>>>0,M=t[7][1]+Ji,t[7][0]=t[7][0]+an+(M/4294967296>>>0)>>>0,t[7][1]=M>>>0,c0-=128}}});var dd=I((g6,pd)=>{"use strict";var ls=65536;function Gv(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>ls)for(;r<t;)r+ls>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+ls)),r+=ls);else crypto.getRandomValues(e);return e}pd.exports=Gv});var Nu=I((m6,yd)=>{"use strict";var $v=dd(),Wv=Et();yd.exports=function(t){if(isNaN(t)||t<=0)throw Wv(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return $v(t)}});var hs=I(Li=>{"use strict";Ie();os();var Yv=ce(),{fromString:Zv}=(_r(),Cr),{toString:gd}=(Dr(),kr),{concat:md}=(Di(),ki);Li.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=md([new Uint8Array(e-r.length),r])}return gd(r,"base64url")};Li.base64urlToBigInteger=t=>{let e=Li.base64urlToBuffer(t);return new Yv.jsbn.BigInteger(gd(e,"base16"),16)};Li.base64urlToBuffer=(t,e)=>{let r=Zv(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=md([new Uint8Array(e-r.length),r])}return r}});var vd=I(Ui=>{"use strict";Ti();us();var Rr=ce(),{bigIntegerToUintBase64url:jt,base64urlToBigInteger:Vt}=hs(),{fromString:xd}=(_r(),Cr),{toString:wd}=(Dr(),kr);Ui.pkcs1ToJwk=function(t){let e=Rr.asn1.fromDer(wd(t,"ascii")),r=Rr.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:jt(r.n),e:jt(r.e),d:jt(r.d),p:jt(r.p),q:jt(r.q),dp:jt(r.dP),dq:jt(r.dQ),qi:jt(r.qInv),alg:"RS256",kid:"2011-04-29"}};Ui.jwkToPkcs1=function(t){let e=Rr.pki.privateKeyToAsn1({n:Vt(t.n),e:Vt(t.e),d:Vt(t.d),p:Vt(t.p),q:Vt(t.q),dP:Vt(t.dp),dQ:Vt(t.dq),qInv:Vt(t.qi)});return xd(Rr.asn1.toDer(e).getBytes(),"ascii")};Ui.pkixToJwk=function(t){let e=Rr.asn1.fromDer(wd(t,"ascii")),r=Rr.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:jt(r.n),e:jt(r.e),alg:"RS256",kid:"2011-04-29"}};Ui.jwkToPkix=function(t){let e=Rr.pki.publicKeyToAsn1({n:Vt(t.n),e:Vt(t.e)});return xd(Rr.asn1.toDer(e).getBytes(),"ascii")}});var Sd=I((v6,Bd)=>{"use strict";us();var bd=ce(),{base64urlToBigInteger:Xv}=hs();function Ed(t,e){return e.map(r=>Xv(t[r]))}function Qv(t){return bd.pki.setRsaPrivateKey(...Ed(t,["n","e","d","p","q","dp","dq","qi"]))}function Jv(t){return bd.pki.setRsaPublicKey(...Ed(t,["n","e"]))}Bd.exports={jwk2pub:Jv,jwk2priv:Qv}});var Id=I(ur=>{"use strict";var ar=Ri(),eb=Nu(),{toString:tb}=(Dr(),kr),{fromString:rb}=(_r(),Cr);ur.utils=vd();ur.generateKey=async function(t){let e=await ar.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Ad(e);return{privateKey:r[0],publicKey:r[1]}};ur.unmarshalPrivateKey=async function(t){let r=[await ar.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await nb(t)],n=await Ad({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};ur.getRandomValues=eb;ur.hashAndSign=async function(t,e){let r=await ar.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await ar.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,n.byteOffset,n.byteLength)};ur.hashAndVerify=async function(t,e,r){let n=await ar.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return ar.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)};function Ad(t){return Promise.all([ar.get().subtle.exportKey("jwk",t.privateKey),ar.get().subtle.exportKey("jwk",t.publicKey)])}function nb(t){return ar.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:ib,jwk2priv:ob}=Sd();function Td(t,e,r,n){let i=e?ib(t):ob(t),o=tb(Uint8Array.from(r),"ascii"),s=n(o,i);return rb(s,"ascii")}ur.encrypt=function(t,e){return Td(t,!0,e,(r,n)=>n.encrypt(r))};ur.decrypt=function(t,e){return Td(t,!1,e,(r,n)=>n.decrypt(r))}});var ps=I((E6,Cd)=>{"use strict";var{base64:sb}=(Ei(),Pn),ab=ku();Cd.exports={export:async function(t,e){let n=await ab.create().encrypt(t,e);return sb.encode(n)}}});var Nd=I((B6,Rd)=>{"use strict";var{sha256:_d}=(mr(),Kr),kd=Et(),{equals:Dd}=(jn(),zn),{toString:ub}=(Dr(),kr);hd();var ds=ce(),gt=Id(),ys=Ho(),cb=ps(),gs=class{constructor(e){this._key=e}async verify(e,r){return gt.hashAndVerify(this._key,r,e)}marshal(){return gt.utils.jwkToPkix(this._key)}get bytes(){return ys.PublicKey.encode({Type:ys.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return gt.encrypt(this._key,e)}equals(e){return Dd(this.bytes,e.bytes)}async hash(){let{bytes:e}=await _d.digest(this.bytes);return e}},Pi=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return gt.getRandomValues(16)}async sign(e){return gt.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw kd(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new gs(this._publicKey)}decrypt(e){return gt.decrypt(this._key,e)}marshal(){return gt.utils.jwkToPkcs1(this._key)}get bytes(){return ys.PrivateKey.encode({Type:ys.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return Dd(this.bytes,e.bytes)}async hash(){let{bytes:e}=await _d.digest(this.bytes);return e}async id(){let e=await this.public.hash();return ub(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new ds.util.ByteBuffer(this.marshal()),i=ds.asn1.fromDer(n),o=ds.pki.privateKeyFromAsn1(i),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return ds.pki.encryptRsaPrivateKey(o,e,s)}else{if(r==="libp2p-key")return cb.export(this.bytes,e);throw kd(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function fb(t){let e=gt.utils.pkcs1ToJwk(t),r=await gt.unmarshalPrivateKey(e);return new Pi(r.privateKey,r.publicKey)}function lb(t){let e=gt.utils.pkixToJwk(t);return new gs(e)}async function hb(t){let e=await gt.unmarshalPrivateKey(t);return new Pi(e.privateKey,e.publicKey)}async function pb(t){let e=await gt.generateKey(t);return new Pi(e.privateKey,e.publicKey)}Rd.exports={RsaPublicKey:gs,RsaPrivateKey:Pi,unmarshalRsaPublicKey:lb,unmarshalRsaPrivateKey:fb,generateKeyPair:pb,fromJwk:hb}});var jd=I(ne=>{"use strict";var db=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ne,"__esModule",{value:!0});ne.utils=ne.curve25519=ne.getSharedSecret=ne.verify=ne.sign=ne.getPublicKey=ne.Signature=ne.Point=ne.RistrettoPoint=ne.ExtendedPoint=ne.CURVE=void 0;var yb=db(Kn()),ve=BigInt(0),$=BigInt(1),Me=BigInt(2),Ld=BigInt(255),Ud=Me**BigInt(252)+BigInt("27742317777372353535851937790883648493"),fe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:Me**Ld-BigInt(19),l:Ud,n:Ud,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")};ne.CURVE=fe;var Pd=Me**BigInt(256),Fi=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),S6=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),gb=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),mb=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),xb=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),wb=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Q=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof we))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(we.ZERO)?Q.ZERO:new Q(e.x,e.y,$,B(e.x*e.y))}static toAffineBatch(e){let r=Eb(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Fd(e);let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=e,u=B(r*a),c=B(o*i),f=B(n*a),l=B(s*i);return u===c&&f===l}negate(){return new Q(B(-this.x),this.y,this.z,B(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=fe,o=B(e**Me),s=B(r**Me),a=B(Me*B(n**Me)),u=B(i*o),c=B(B((e+r)**Me)-o-s),f=u+s,l=f-a,h=u-s,d=B(c*l),p=B(f*h),y=B(c*h),x=B(l*f);return new Q(d,p,x,y)}add(e){Fd(e);let{x:r,y:n,z:i,t:o}=this,{x:s,y:a,z:u,t:c}=e,f=B((n-r)*(a+s)),l=B((n+r)*(a-s)),h=B(l-f);if(h===ve)return this.double();let d=B(i*Me*c),p=B(o*Me*u),y=p+d,x=l+f,w=p-d,A=B(y*h),_=B(x*w),F=B(y*w),k=B(h*x);return new Q(A,_,k,F)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let a=1;a<2**(e-1);a++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(Q.BASE)&&(r=we.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Pu.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Q.normalizeZ(i),Pu.set(r,i)));let o=Q.ZERO,s=Q.ZERO,a=1+256/n,u=2**(n-1),c=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<a;h++){let d=h*u,p=Number(e&c);if(e>>=l,p>u&&(p-=f,e+=$),p===0){let y=i[d];h%2&&(y=y.negate()),s=s.add(y)}else{let y=i[d+Math.abs(p)-1];p<0&&(y=y.negate()),o=o.add(y)}}return Q.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(Hn(e,fe.l),r)}multiplyUnsafe(e){let r=Hn(e,fe.l,!1),n=Q.BASE,i=Q.ZERO;if(r===ve)return i;if(this.equals(i)||r===$)return this;if(this.equals(n))return this.wNAF(r);let o=i,s=this;for(;r>ve;)r&$&&(o=o.add(s)),s=s.double(),r>>=$;return o}isSmallOrder(){return this.multiplyUnsafe(fe.h).equals(Q.ZERO)}isTorsionFree(){return this.multiplyUnsafe(fe.l).equals(Q.ZERO)}toAffine(e=ms(this.z)){let{x:r,y:n,z:i}=this,o=B(r*e),s=B(n*e);if(B(i*e)!==$)throw new Error("invZ was invalid");return new we(o,s)}fromRistrettoBytes(){Uu()}toRistrettoBytes(){Uu()}fromRistrettoHash(){Uu()}};ne.ExtendedPoint=Q;Q.BASE=new Q(fe.Gx,fe.Gy,$,B(fe.Gx*fe.Gy));Q.ZERO=new Q(ve,$,$,ve);function Fd(t){if(!(t instanceof Q))throw new TypeError("ExtendedPoint expected")}function Lu(t){if(!(t instanceof et))throw new TypeError("RistrettoPoint expected")}function Uu(){throw new Error("Legacy method: switch to RistrettoPoint")}var et=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=fe,n=B(Fi*e*e),i=B((n+$)*xb),o=BigInt(-1),s=B((o-r*n)*B(n+r)),{isValid:a,value:u}=Ou(i,s),c=B(u*e);Nr(c)||(c=B(-c)),a||(u=c),a||(o=n);let f=B(o*(n-$)*wb-s),l=u*u,h=B((u+u)*s),d=B(f*gb),p=B($-l),y=B($+l);return new Q(B(h*y),B(p*d),B(d*y),B(h*p))}static hashToCurve(e){e=Ht(e,64);let r=Fu(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Fu(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new et(n.add(o))}static fromHex(e){e=Ht(e,32);let{a:r,d:n}=fe,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Fu(e);if(!Bb(Vn(o),e)||Nr(o))throw new Error(i);let s=B(o*o),a=B($+r*s),u=B($-r*s),c=B(a*a),f=B(u*u),l=B(r*n*c-f),{isValid:h,value:d}=qd(B(l*f)),p=B(d*u),y=B(d*p*l),x=B((o+o)*p);Nr(x)&&(x=B(-x));let w=B(a*y),A=B(x*w);if(!h||Nr(A)||w===ve)throw new Error(i);return new et(new Q(x,w,$,A))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=B(B(n+r)*B(n-r)),s=B(e*r),{value:a}=qd(B(o*s**Me)),u=B(a*o),c=B(a*s),f=B(u*c*i),l;if(Nr(i*f)){let d=B(r*Fi),p=B(e*Fi);e=d,r=p,l=B(u*mb)}else l=c;Nr(e*f)&&(r=B(-r));let h=B((n-r)*l);return Nr(h)&&(h=B(-h)),Vn(h)}toHex(){return Oi(this.toRawBytes())}toString(){return this.toHex()}equals(e){Lu(e);let r=this.ep,n=e.ep,i=B(r.x*n.y)===B(r.y*n.x),o=B(r.y*n.y)===B(r.x*n.x);return i||o}add(e){return Lu(e),new et(this.ep.add(e.ep))}subtract(e){return Lu(e),new et(this.ep.subtract(e.ep))}multiply(e){return new et(this.ep.multiply(e))}multiplyUnsafe(e){return new et(this.ep.multiplyUnsafe(e))}};ne.RistrettoPoint=et;et.BASE=new et(Q.BASE);et.ZERO=new et(Q.ZERO);var Pu=new WeakMap,we=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Pu.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=fe;e=Ht(e,32);let o=e.slice();o[31]=e[31]&~128;let s=Lr(o);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=Pd)throw new Error("Expected 0 < hex < 2**256");let a=B(s*s),u=B(a-$),c=B(n*a+$),{isValid:f,value:l}=Ou(u,c);if(!f)throw new Error("Point.fromHex: invalid y coordinate");let h=(l&$)===$;return(e[31]&128)!=0!==h&&(l=B(-l)),new we(l,s)}static async fromPrivateKey(e){return(await Ki(e)).point}toRawBytes(){let e=Vn(this.y);return e[31]|=this.x&$?128:0,e}toHex(){return Oi(this.toRawBytes())}toX25519(){let{y:e}=this,r=B(($+e)*ms($-e));return Vn(r)}isTorsionFree(){return Q.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new we(B(-this.x),this.y)}add(e){return Q.fromAffine(this).add(Q.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Q.fromAffine(this).multiply(e,this).toAffine()}};ne.Point=we;we.BASE=new we(fe.Gx,fe.Gy);we.ZERO=new we(ve,$);var rn=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ht(e,64),n=we.fromHex(r.slice(0,32),!1),i=Lr(r.slice(32,64));return new rn(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof we))throw new Error("Expected Point instance");return Hn(r,fe.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Vn(this.s),32),e}toHex(){return Oi(this.toRawBytes())}};ne.Signature=rn;function vb(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var bb=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Oi(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=bb[t[r]];return e}function Od(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Kd(t){let e=32,r=t.toString(16).padStart(e*2,"0");return Od(r)}function Vn(t){return Kd(t).reverse()}function Nr(t){return(B(t)&$)===$}function Lr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Oi(Uint8Array.from(t).reverse()))}function Fu(t){return B(Lr(t)&Me**Ld-$)}function B(t,e=fe.P){let r=t%e;return r>=ve?r:e+r}function ms(t,e=fe.P){if(t===ve||e<=ve)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=B(t,e),n=e,i=ve,o=$,s=$,a=ve;for(;r!==ve;){let c=n/r,f=n%r,l=i-s*c,h=o-a*c;n=r,r=f,i=s,o=a,s=l,a=h}if(n!==$)throw new Error("invert: does not exist");return B(i,e)}function Eb(t,e=fe.P){let r=new Array(t.length),n=t.reduce((o,s,a)=>s===ve?o:(r[a]=o,B(o*s,e)),$),i=ms(n,e);return t.reduceRight((o,s,a)=>s===ve?o:(r[a]=B(o*r[a],e),B(o*s,e)),i),r}function Ct(t,e){let{P:r}=fe,n=t;for(;e-- >ve;)n*=n,n%=r;return n}function Md(t){let{P:e}=fe,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),u=t*t%e*t%e,c=Ct(u,Me)*u%e,f=Ct(c,$)*t%e,l=Ct(f,r)*f%e,h=Ct(l,n)*l%e,d=Ct(h,i)*h%e,p=Ct(d,o)*d%e,y=Ct(p,s)*p%e,x=Ct(y,s)*p%e,w=Ct(x,n)*l%e;return{pow_p_5_8:Ct(w,Me)*t%e,b2:u}}function Ou(t,e){let r=B(e*e*e),n=B(r*r*e),i=Md(t*n).pow_p_5_8,o=B(t*r*i),s=B(e*o*o),a=o,u=B(o*Fi),c=s===t,f=s===B(-t),l=s===B(-t*Fi);return c&&(o=a),(f||l)&&(o=u),Nr(o)&&(o=B(-o)),{isValid:c||f,value:o}}function qd(t){return Ou($,t)}async function Ku(...t){let e=await ne.utils.sha512(vb(...t)),r=Lr(e);return B(r,fe.l)}function Bb(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ht(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Od(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Hn(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(ve<t)return t}else if(ve<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function zd(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Sb(t){return Lr(zd(Ht(t,32)))}async function Ki(t){if(t=typeof t=="bigint"||typeof t=="number"?Kd(Hn(t,Pd)):Ht(t),t.length!==32)throw new Error("Expected 32 bytes");let e=await ne.utils.sha512(t),r=zd(e.slice(0,32)),n=e.slice(32,64),i=B(Lr(r),fe.l),o=we.BASE.multiply(i),s=o.toRawBytes();return{head:r,prefix:n,scalar:i,point:o,pointBytes:s}}async function Ab(t){return(await Ki(t)).pointBytes}ne.getPublicKey=Ab;async function Tb(t,e){t=Ht(t);let{prefix:r,scalar:n,pointBytes:i}=await Ki(e),o=await Ku(r,t),s=we.BASE.multiply(o),a=await Ku(s.toRawBytes(),i,t),u=B(o+a*n,fe.l);return new rn(s,u).toRawBytes()}ne.sign=Tb;async function Ib(t,e,r){e=Ht(e),r instanceof we||(r=we.fromHex(r,!1));let{r:n,s:i}=t instanceof rn?t.assertValidity():rn.fromHex(t),o=Q.BASE.multiplyUnsafe(i),s=await Ku(n.toRawBytes(),r.toRawBytes(),e),a=Q.fromAffine(r).multiplyUnsafe(s);return Q.fromAffine(n).add(a).subtract(o).multiplyUnsafe(fe.h).equals(Q.ZERO)}ne.verify=Ib;async function Cb(t,e){let{head:r}=await Ki(t),n=we.fromHex(e).toX25519();return ne.curve25519.scalarMult(r,n)}ne.getSharedSecret=Cb;we.BASE._setWindowSize(8);function xs(t,e,r){let n=B(t*(e-r));return e=B(e-n),r=B(r+n),[e,r]}function _b(t,e){let{P:r}=fe,n=Hn(t,r),i=Hn(e,r),o=BigInt(121665),s=n,a=$,u=ve,c=n,f=$,l=ve,h;for(let x=BigInt(255-1);x>=ve;x--){let w=i>>x&$;l^=w,h=xs(l,a,c),a=h[0],c=h[1],h=xs(l,u,f),u=h[0],f=h[1],l=w;let A=a+u,_=B(A*A),F=a-u,k=B(F*F),L=_-k,W=c+f,J=c-f,Se=B(J*A),Ye=B(W*F);c=B((Se+Ye)**Me),f=B(s*(Se-Ye)**Me),a=B(_*k),u=B(L*(_+B(o*L)))}h=xs(l,a,c),a=h[0],c=h[1],h=xs(l,u,f),u=h[0],f=h[1];let{pow_p_5_8:d,b2:p}=Md(u),y=B(Ct(d,BigInt(3))*p);return B(a*y)}function kb(t){return Vn(B(t,fe.P))}function Db(t){let e=Ht(t,32);return e[31]&=127,Lr(e)}ne.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=Db(e),n=Sb(t),i=_b(r,n);if(i===ve)throw new Error("Invalid private or public key received");return kb(i)},scalarMultBase(t){return ne.curve25519.scalarMult(t,ne.curve25519.BASE_POINT_U)}};var Ur={node:yb.default,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};ne.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:Oi,getExtendedPublicKey:Ki,mod:B,invert:ms,hashToPrivateScalar:t=>{if(t=Ht(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=B(Lr(t),fe.l);if(e===ve||e===$)throw new Error("Invalid private key");return e},randomBytes:(t=32)=>{if(Ur.web)return Ur.web.getRandomValues(new Uint8Array(t));if(Ur.node){let{randomBytes:e}=Ur.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ne.utils.randomBytes(32),sha512:async t=>{if(Ur.web){let e=await Ur.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(Ur.node)return Uint8Array.from(Ur.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=we.BASE){let r=e.equals(we.BASE)?e:new we(e.x,e.y);return r._setWindowSize(t),r.multiply(Me),r}}});var Hd=I(Pr=>{"use strict";var Mi=jd(),Rb=32,Nb=64,ws=32;Pr.publicKeyLength=Rb;Pr.privateKeyLength=Nb;Pr.generateKey=async function(){let t=Mi.utils.randomPrivateKey(),e=await Mi.getPublicKey(t);return{privateKey:Vd(t,e),publicKey:e}};Pr.generateKeyFromSeed=async function(t){if(t.length!==ws)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await Mi.getPublicKey(e);return{privateKey:Vd(e,r),publicKey:r}};Pr.hashAndSign=function(t,e){let r=t.slice(0,ws);return Mi.sign(e,r)};Pr.hashAndVerify=function(t,e,r){return Mi.verify(e,r,t)};function Vd(t,e){let r=new Uint8Array(Pr.privateKeyLength);for(let n=0;n<ws;n++)r[n]=t[n],r[ws+n]=e[n];return r}});var Zd=I((I6,Yd)=>{"use strict";var Gd=Et(),{equals:$d}=(jn(),zn),{sha256:Wd}=(mr(),Kr),{base58btc:Lb}=(pn(),hn),{identity:Ub}=(cs(),_i),je=Hd(),vs=Ho(),Pb=ps(),bs=class{constructor(e){this._key=$n(e,je.publicKeyLength)}async verify(e,r){return je.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return vs.PublicKey.encode({Type:vs.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return $d(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Wd.digest(this.bytes);return e}},Gn=class{constructor(e,r){this._key=$n(e,je.privateKeyLength),this._publicKey=$n(r,je.publicKeyLength)}async sign(e){return je.hashAndSign(this._key,e)}get public(){return new bs(this._publicKey)}marshal(){return this._key}get bytes(){return vs.PrivateKey.encode({Type:vs.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return $d(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Wd.digest(this.bytes);return e}async id(){let e=await Ub.digest(this.public.bytes);return Lb.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return Pb.export(this.bytes,e);throw Gd(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function Fb(t){if(t.length>je.privateKeyLength){t=$n(t,je.privateKeyLength+je.publicKeyLength);let n=t.slice(0,je.privateKeyLength),i=t.slice(je.privateKeyLength,t.length);return new Gn(n,i)}t=$n(t,je.privateKeyLength);let e=t.slice(0,je.privateKeyLength),r=t.slice(je.publicKeyLength);return new Gn(e,r)}function Ob(t){return t=$n(t,je.publicKeyLength),new bs(t)}async function Kb(){let{privateKey:t,publicKey:e}=await je.generateKey();return new Gn(t,e)}async function Mb(t){let{privateKey:e,publicKey:r}=await je.generateKeyFromSeed(t);return new Gn(e,r)}function $n(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw Gd(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}Yd.exports={Ed25519PublicKey:bs,Ed25519PrivateKey:Gn,unmarshalEd25519PrivateKey:Fb,unmarshalEd25519PublicKey:Ob,generateKeyPair:Kb,generateKeyPairFromSeed:Mb}});var py=I(Z=>{"use strict";var qb=Z&&Z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z,"__esModule",{value:!0});Z.utils=Z.schnorr=Z.verify=Z.signSync=Z.sign=Z.getSharedSecret=Z.recoverPublicKey=Z.getPublicKey=Z.Signature=Z.Point=Z.CURVE=void 0;var zb=qb(Kn()),Y=BigInt(0),me=BigInt(1),Be=BigInt(2),qi=BigInt(3),jb=BigInt(8),Mu=Be**BigInt(256),le={a:Y,b:BigInt(7),P:Mu-Be**BigInt(32)-BigInt(977),n:Mu-BigInt("432420386565659656852420866394968145599"),h:me,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};Z.CURVE=le;function Xd(t){let{a:e,b:r}=le,n=N(t*t),i=N(n*t);return N(i+e*t+r)}var Es=le.a===Y,ie=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof oe))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new ie(e.x,e.y,me)}static toAffineBatch(e){let r=$b(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return ie.toAffineBatch(e).map(ie.fromAffine)}equals(e){if(!(e instanceof ie))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=e,u=N(i**Be),c=N(a**Be),f=N(r*c),l=N(o*u),h=N(N(n*a)*c),d=N(N(s*i)*u);return f===l&&h===d}negate(){return new ie(this.x,N(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=N(e**Be),o=N(r**Be),s=N(o**Be),a=N(Be*(N((e+o)**Be)-i-s)),u=N(qi*i),c=N(u**Be),f=N(c-Be*a),l=N(u*(a-f)-jb*s),h=N(Be*r*n);return new ie(f,l,h)}add(e){if(!(e instanceof ie))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:o,y:s,z:a}=e;if(o===Y||s===Y)return this;if(r===Y||n===Y)return e;let u=N(i**Be),c=N(a**Be),f=N(r*c),l=N(o*u),h=N(N(n*a)*c),d=N(N(s*i)*u),p=N(l-f),y=N(d-h);if(p===Y)return y===Y?this.double():ie.ZERO;let x=N(p**Be),w=N(p*x),A=N(f*x),_=N(y**Be-w-Be*A),F=N(y*(A-_)-h*w),k=N(i*a*p);return new ie(_,F,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=ey(e),n=ie.BASE,i=ie.ZERO;if(r===Y)return i;if(r===me)return this;if(!Es){let h=i,d=this;for(;r>Y;)r&me&&(h=h.add(d)),d=d.double(),r>>=me;return h}let{k1neg:o,k1:s,k2neg:a,k2:u}=ry(r),c=i,f=i,l=this;for(;s>Y||u>Y;)s&me&&(c=c.add(l)),u&me&&(f=f.add(l)),l=l.double(),s>>=me,u>>=me;return o&&(c=c.negate()),a&&(f=f.negate()),f=new ie(N(f.x*le.beta),f.y,f.z),c.add(f)}precomputeWindow(e){let r=Es?128/e+1:256/e+1,n=[],i=this,o=i;for(let s=0;s<r;s++){o=i,n.push(o);for(let a=1;a<2**(e-1);a++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(ie.BASE)&&(r=oe.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&qu.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=ie.normalizeZ(i),qu.set(r,i)));let o=ie.ZERO,s=ie.ZERO,a=1+(Es?128/n:256/n),u=2**(n-1),c=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let h=0;h<a;h++){let d=h*u,p=Number(e&c);if(e>>=l,p>u&&(p-=f,e+=me),p===0){let y=i[d];h%2&&(y=y.negate()),s=s.add(y)}else{let y=i[d+Math.abs(p)-1];p<0&&(y=y.negate()),o=o.add(y)}}return{p:o,f:s}}multiply(e,r){let n=ey(e),i,o;if(Es){let{k1neg:s,k1:a,k2neg:u,k2:c}=ry(n),{p:f,f:l}=this.wNAF(a,r),{p:h,f:d}=this.wNAF(c,r);s&&(f=f.negate()),u&&(h=h.negate()),h=new ie(N(h.x*le.beta),h.y,h.z),i=f.add(h),o=l.add(d)}else{let{p:s,f:a}=this.wNAF(n,r);i=s,o=a}return ie.normalizeZ([i,o])[0]}toAffine(e=Vi(this.z)){let{x:r,y:n,z:i}=this,o=e,s=N(o*o),a=N(s*o),u=N(r*s),c=N(n*a);if(N(i*o)!==me)throw new Error("invZ was invalid");return new oe(u,c)}};ie.BASE=new ie(le.Gx,le.Gy,me);ie.ZERO=new ie(Y,me,Y);var qu=new WeakMap,oe=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,qu.delete(this)}static fromCompressedHex(e){let r=e.length===32,n=mt(r?e:e.subarray(1));if(!As(n))throw new Error("Point is not on curve");let i=Xd(n),o=Gb(i),s=(o&me)===me;r?s&&(o=N(-o)):(e[0]&1)==1!==s&&(o=N(-o));let a=new oe(n,o);return a.assertValidity(),a}static fromUncompressedHex(e){let r=mt(e.subarray(1,33)),n=mt(e.subarray(33,65)),i=new oe(r,n);return i.assertValidity(),i}static fromHex(e){let r=$t(e),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return oe.BASE.multiply(Zn(e))}static fromSignature(e,r,n){e=$t(e);let i=ny(e),{r:o,s}=oy(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");if(i===Y)throw new Error("Cannot recover signature: msgHash cannot be 0");let a=n&1?"03":"02",u=oe.fromHex(a+cr(o)),{n:c}=le,f=Vi(o,c),l=N(-i*f,c),h=N(s*f,c),d=oe.BASE.multiplyAndAddUnsafe(u,l,h);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(e=!1){return Fr(this.toHex(e))}toHex(e=!1){let r=cr(this.x);return e?`${this.y&me?"03":"02"}${r}`:`04${r}${cr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!As(r)||!As(n))throw new Error(e);let i=N(n*n),o=Xd(r);if(N(i-o)!==Y)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new oe(this.x,N(-this.y))}double(){return ie.fromAffine(this).double().toAffine()}add(e){return ie.fromAffine(this).add(ie.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ie.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let o=ie.fromAffine(this).multiply(r),s=ie.fromAffine(e).multiplyUnsafe(n),a=o.add(s);return a.equals(ie.ZERO)?void 0:a.toAffine()}};Z.Point=oe;oe.BASE=new oe(le.Gx,le.Gy);oe.ZERO=new oe(Y,Y);function Qd(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Jd(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Wn(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:mt(r),left:t.subarray(e+2)}}function Vb(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Wn(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Jd(t.subarray(2)),{data:n,left:i}=Jd(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Wn(i)}`);return{r:e,s:n}}var Gt=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=zi(e),n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Wn(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Gt(Bs(i.slice(0,64)),Bs(i.slice(64,128)))}static fromDER(e){let r=zi(e);if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Vb(r?e:Fr(e));return new Gt(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Yn(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Yn(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=le.n>>me;return this.s>e}normalizeS(){return this.hasHighS()?new Gt(this.r,le.n-this.s):this}toDERRawBytes(e=!1){return Fr(this.toDERHex(e))}toDERHex(e=!1){let r=Qd(ji(this.s));if(e)return r;let n=Qd(ji(this.r)),i=ji(n.length/2),o=ji(r.length/2);return`30${ji(n.length/2+r.length/2+4)}02${i}${n}02${o}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Fr(this.toCompactHex())}toCompactHex(){return cr(this.r)+cr(this.s)}};Z.Signature=Gt;function zu(...t){if(!t.every(zi))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function zi(t){return t instanceof Uint8Array}var Hb=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wn(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Hb[t[r]];return e}function cr(t){if(t>Mu)throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function ju(t){return Fr(cr(t))}function ji(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Bs(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Fr(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function mt(t){return Bs(Wn(t))}function $t(t){return t instanceof Uint8Array?Uint8Array.from(t):Fr(t)}function ey(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Yn(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function N(t,e=le.P){let r=t%e;return r>=Y?r:e+r}function xt(t,e){let{P:r}=le,n=t;for(;e-- >Y;)n*=n,n%=r;return n}function Gb(t){let{P:e}=le,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=t*t*t%e,c=u*u*t%e,f=xt(c,qi)*c%e,l=xt(f,qi)*c%e,h=xt(l,Be)*u%e,d=xt(h,n)*h%e,p=xt(d,i)*d%e,y=xt(p,s)*p%e,x=xt(y,a)*y%e,w=xt(x,s)*p%e,A=xt(w,qi)*c%e,_=xt(A,o)*d%e,F=xt(_,r)*u%e;return xt(F,Be)}function Vi(t,e=le.P){if(t===Y||e<=Y)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=N(t,e),n=e,i=Y,o=me,s=me,a=Y;for(;r!==Y;){let c=n/r,f=n%r,l=i-s*c,h=o-a*c;n=r,r=f,i=s,o=a,s=l,a=h}if(n!==me)throw new Error("invert: does not exist");return N(i,e)}function $b(t,e=le.P){let r=new Array(t.length),n=t.reduce((o,s,a)=>s===Y?o:(r[a]=o,N(o*s,e)),me),i=Vi(n,e);return t.reduceRight((o,s,a)=>s===Y?o:(r[a]=N(o*r[a],e),N(o*s,e)),i),r}var ty=(t,e)=>(t+e/Be)/e,Ss=Be**BigInt(128);function ry(t){let{n:e}=le,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-me*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=ty(o*t,e),a=ty(-n*t,e),u=N(t-s*r-a*i,e),c=N(-s*n-a*o,e),f=u>Ss,l=c>Ss;if(f&&(u=e-u),l&&(c=e-c),u>Ss||c>Ss)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:l,k2:c}}function ny(t){let{n:e}=le,n=t.length*8-256,i=mt(t);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var Vu=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return Z.utils.hmacSha256(this.k,...e)}hmacSync(...e){if(typeof Z.utils.hmacSha256Sync!="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");let r=Z.utils.hmacSha256Sync(this.k,...e);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}};function Yn(t){return Y<t&&t<le.n}function As(t){return Y<t&&t<le.P}function iy(t,e,r){let n=mt(t);if(!Yn(n))return;let{n:i}=le,o=oe.BASE.multiply(n),s=N(o.x,i);if(s===Y)return;let a=N(Vi(n,i)*N(e+r*s,i),i);if(a===Y)return;let u=new Gt(s,a),c=(o.x===u.r?0:2)|Number(o.y&me);return{sig:u,recovery:c}}function Zn(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=Bs(t)}else if(zi(t)){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=mt(t)}else throw new TypeError("Expected valid private key");if(!Yn(e))throw new Error("Expected private key: 0 < key < n");return e}function Hu(t){return t instanceof oe?(t.assertValidity(),t):oe.fromHex(t)}function oy(t){if(t instanceof Gt)return t.assertValidity(),t;try{return Gt.fromDER(t)}catch(e){return Gt.fromCompact(t)}}function Wb(t,e=!1){return oe.fromPrivateKey(t).toRawBytes(e)}Z.getPublicKey=Wb;function Yb(t,e,r,n=!1){return oe.fromSignature(t,e,r).toRawBytes(n)}Z.recoverPublicKey=Yb;function sy(t){let e=zi(t),r=typeof t=="string",n=(e||r)&&t.length;return e?n===33||n===65:r?n===66||n===130:t instanceof oe}function Zb(t,e,r=!1){if(sy(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!sy(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Hu(e);return n.assertValidity(),n.multiply(Zn(t)).toRawBytes(r)}Z.getSharedSecret=Zb;function ay(t){let e=t.length>32?t.slice(0,32):t;return mt(e)}function Xb(t){let e=ay(t),r=N(e,le.n);return uy(r<Y?e:r)}function uy(t){if(typeof t!="bigint")throw new Error("Expected bigint");let e=cr(t);return Fr(e)}function cy(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=$t(t),i=Zn(e),o=[uy(i),Xb(n)];if(r!=null){r===!0&&(r=Z.utils.randomBytes(32));let u=$t(r);if(u.length!==32)throw new Error("sign: Expected 32 bytes of extra data");o.push(u)}let s=zu(...o),a=ay(n);return{seed:s,m:a,d:i}}function fy(t,e){let{sig:r,recovery:n}=t,{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let a=o?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}async function Qb(t,e,r={}){let{seed:n,m:i,d:o}=cy(t,e,r.extraEntropy),s,a=new Vu;for(await a.reseed(n);!(s=iy(await a.generate(),i,o));)await a.reseed();return fy(s,r)}Z.sign=Qb;function Jb(t,e,r={}){let{seed:n,m:i,d:o}=cy(t,e,r.extraEntropy),s,a=new Vu;for(a.reseedSync(n);!(s=iy(a.generateSync(),i,o));)a.reseedSync();return fy(s,r)}Z.signSync=Jb;var e8={strict:!0};function t8(t,e,r,n=e8){let i;try{i=oy(t),e=$t(e)}catch(y){return!1}let{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;let a=ny(e);if(a===Y)return!1;let u;try{u=Hu(r)}catch(y){return!1}let{n:c}=le,f=Vi(s,c),l=N(a*f,c),h=N(o*f,c),d=oe.BASE.multiplyAndAddUnsafe(u,l,h);return d?N(d.x,c)===o:!1}Z.verify=t8;async function Gu(t,...e){let r=new Uint8Array(t.split("").map(o=>o.charCodeAt(0))),n=await Z.utils.sha256(r),i=await Z.utils.sha256(zu(n,n,...e));return mt(i)}async function ly(t,e,r){let n=ju(t),i=await Gu("BIP0340/challenge",n,e.toRawX(),r);return N(i,le.n)}function $u(t){return(t.y&me)===Y}var nn=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=$t(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=mt(r.subarray(0,32)),i=mt(r.subarray(32,64));return new nn(n,i)}assertValidity(){let{r:e,s:r}=this;if(!As(e)||!Yn(r))throw new Error("Invalid signature")}toHex(){return cr(this.r)+cr(this.s)}toRawBytes(){return Fr(this.toHex())}};function r8(t){return oe.fromPrivateKey(t).toRawX()}async function n8(t,e,r=Z.utils.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);let{n}=le,i=$t(t),o=Zn(e),s=$t(r);if(s.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let a=oe.fromPrivateKey(o),u=$u(a)?o:n-o,c=await Gu("BIP0340/aux",s),f=u^c,l=await Gu("BIP0340/nonce",ju(f),a.toRawX(),i),h=N(l,n);if(h===Y)throw new Error("sign: Creation of signature failed. k is zero");let d=oe.fromPrivateKey(h),p=$u(d)?h:n-h,y=await ly(d.x,a,i),x=new nn(d.x,N(p+y*u,n)).toRawBytes();if(!await hy(x,i,a.toRawX()))throw new Error("sign: Invalid signature produced");return x}async function hy(t,e,r){let n=t instanceof nn,i;try{i=n?t:nn.fromHex(t),n&&i.assertValidity()}catch(l){return!1}let{r:o,s}=i,a=$t(e),u;try{u=Hu(r)}catch(l){return!1}let c=await ly(o,u,a),f=oe.BASE.multiplyAndAddUnsafe(u,Zn(s),N(-c,le.n));return!(!f||!$u(f)||f.x!==o)}Z.schnorr={Signature:nn,getPublicKey:r8,sign:n8,verify:hy};oe.BASE._setWindowSize(8);var at={node:zb.default,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};Z.utils={isValidPrivateKey(t){try{return Zn(t),!0}catch(e){return!1}},hashToPrivateKey:t=>{if(t=$t(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=N(mt(t),le.n);if(e===Y||e===me)throw new Error("Invalid private key");return ju(e)},randomBytes:(t=32)=>{if(at.web)return at.web.getRandomValues(new Uint8Array(t));if(at.node){let{randomBytes:e}=at.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Z.utils.hashToPrivateKey(Z.utils.randomBytes(40)),bytesToHex:Wn,mod:N,sha256:async t=>{if(at.web){let e=await at.web.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}else if(at.node){let{createHash:e}=at.node;return Uint8Array.from(e("sha256").update(t).digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(at.web){let r=await at.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=zu(...e),i=await at.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(at.node){let{createHmac:r}=at.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(t=8,e=oe.BASE){let r=e===oe.BASE?e:new oe(e.x,e.y);return r._setWindowSize(t),r.multiply(qi),r}}});var gy=I((_6,yy)=>{"use strict";var Hi=Et(),Or=py(),{sha256:dy}=(mr(),Kr);yy.exports=()=>{let t=32;function e(){return Or.utils.randomPrivateKey()}async function r(c,f){let{digest:l}=await dy.digest(f);try{return await Or.sign(l,c)}catch(h){throw Hi(h,"ERR_INVALID_INPUT")}}async function n(c,f,l){try{let{digest:h}=await dy.digest(l);return Or.verify(f,h,c)}catch(h){throw Hi(h,"ERR_INVALID_INPUT")}}function i(c){return Or.Point.fromHex(c).toRawBytes(!0)}function o(c){return Or.Point.fromHex(c).toRawBytes(!1)}function s(c){try{Or.getPublicKey(c,!0)}catch(f){throw Hi(f,"ERR_INVALID_PRIVATE_KEY")}}function a(c){try{Or.Point.fromHex(c)}catch(f){throw Hi(f,"ERR_INVALID_PUBLIC_KEY")}}function u(c){try{return Or.getPublicKey(c,!0)}catch(f){throw Hi(f,"ERR_INVALID_PRIVATE_KEY")}}return{generateKey:e,privateKeyLength:t,hashAndSign:r,hashAndVerify:n,compressPublicKey:i,decompressPublicKey:o,validatePrivateKey:s,validatePublicKey:a,computePublicKey:u}}});var vy=I((k6,wy)=>{"use strict";var{sha256:my}=(mr(),Kr),i8=Et(),{equals:xy}=(jn(),zn),{toString:o8}=(Dr(),kr),s8=ps();wy.exports=(t,e,r)=>{r=r||gy()();class n{constructor(c){r.validatePublicKey(c),this._key=c}verify(c,f){return r.hashAndVerify(this._key,f,c)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return xy(this.bytes,c.bytes)}async hash(){let{bytes:c}=await my.digest(this.bytes);return c}}class i{constructor(c,f){this._key=c,this._publicKey=f||r.computePublicKey(c),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(c){return r.hashAndSign(this._key,c)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return xy(this.bytes,c.bytes)}async hash(){let{bytes:c}=await my.digest(this.bytes);return c}async id(){let c=await this.public.hash();return o8(c,"base58btc")}async export(c,f="libp2p-key"){if(f==="libp2p-key")return s8.export(this.bytes,c);throw i8(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function o(u){return new i(u)}function s(u){return new n(u)}async function a(){let u=await r.generateKey();return new i(u)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:o,unmarshalSecp256k1PublicKey:s,generateKeyPair:a}}});var Ey=I((D6,by)=>{"use strict";by.exports={SHA1:20,SHA256:32,SHA512:64}});var Ay=I(Sy=>{"use strict";var By=Ri(),a8=Ey(),u8={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},c8=async(t,e)=>{let r=await By.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};Sy.create=async function(t,e){let r=u8[t],n=await By.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return c8(n,i)},length:a8[t]}}});var ky=I((N6,_y)=>{"use strict";var Ty=Et(),{concat:Iy}=(Di(),ki),{fromString:f8}=(_r(),Cr),l8=Ay(),Cy={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};_y.exports=async(t,e,r)=>{let n=Cy[t];if(!n){let A=Object.keys(Cy).join(" / ");throw Ty(new Error(`unknown cipher type '${t}'. Must be ${A}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw Ty(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,o=n.ivSize,s=20,a=f8("key expansion"),u=2*(o+i+s),c=await l8.create(e,r),f=await c.digest(a),l=[],h=0;for(;h<u;){let A=await c.digest(Iy([f,a])),_=A.length;h+_>u&&(_=u-h),l.push(A),h+=_,f=await c.digest(f)}let d=u/2,p=Iy(l),y=p.slice(0,d),x=p.slice(d,u),w=A=>({iv:A.slice(0,o),cipherKey:A.slice(o,o+i),macKey:A.slice(o+i)});return{k1:w(y),k2:w(x)}}});var Ry=I((L6,Dy)=>{"use strict";var h8=Et();Dy.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw h8(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var Oy=I(Fy=>{"use strict";var p8=Et(),Gi=Ri(),{base64urlToBuffer:Ny}=hs(),d8=Ry(),{toString:Wu}=(Dr(),kr),{concat:y8}=(Di(),ki),{equals:g8}=(jn(),zn),Ly={"P-256":256,"P-384":384,"P-521":521};Fy.generateEphmeralKeyPair=async function(t){d8(Object.keys(Ly),t);let e=await Gi.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(i,o)=>{let s;o?s=await Gi.get().subtle.importKey("jwk",x8(t,o),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):s=e.privateKey;let a=[await Gi.get().subtle.importKey("jwk",Py(t,i),{name:"ECDH",namedCurve:t},!1,[]),s],u=await Gi.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:a[0]},a[1],Ly[t]);return new Uint8Array(u,u.byteOffset,u.byteLength)},n=await Gi.get().subtle.exportKey("jwk",e.publicKey);return{key:m8(n),genSharedKey:r}};var Uy={"P-256":32,"P-384":48,"P-521":66};function m8(t){let e=Uy[t.crv];return y8([Uint8Array.from([4]),Ny(t.x,e),Ny(t.y,e)],1+e*2)}function Py(t,e){let r=Uy[t];if(g8(!e.slice(0,1),Uint8Array.from([4])))throw p8(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Wu(e.slice(1,r+1),"base64url"),y:Wu(e.slice(1+r),"base64url"),ext:!0}}var x8=(t,e)=>({...Py(t,e.public),d:Wu(e.private,"base64url")})});var My=I((P6,Ky)=>{"use strict";var w8=Oy();Ky.exports=async t=>w8.generateEphmeralKeyPair(t)});var jy=I((F6,zy)=>{"use strict";var Wt=Ho();Ti();Hp();var Yu=ce(),$i=Et(),{fromString:v8}=(_r(),Cr),b8=ad(),wt={rsa:Nd(),ed25519:Zd(),secp256k1:vy()(Wt,Nu())},Ts={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function Xn(t){let e=wt[t.toLowerCase()];if(!e){let r=Object.keys(wt).join(" / ");throw $i(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var E8=async(t,e)=>Xn(t).generateKeyPair(e),B8=async(t,e,r)=>{let n=Xn(t);if(t.toLowerCase()!=="ed25519")throw $i(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(e,r)},S8=t=>{let e=Wt.PublicKey.decode(t),r=e.Data;switch(e.Type){case Wt.KeyType.RSA:return wt.rsa.unmarshalRsaPublicKey(r);case Wt.KeyType.Ed25519:return wt.ed25519.unmarshalEd25519PublicKey(r);case Wt.KeyType.Secp256k1:if(wt.secp256k1)return wt.secp256k1.unmarshalSecp256k1PublicKey(r);throw $i(new Error(Ts.message),Ts.code);default:Xn(e.Type)}},A8=(t,e)=>(e=(e||"rsa").toLowerCase(),Xn(e),t.bytes),qy=async t=>{let e=Wt.PrivateKey.decode(t),r=e.Data;switch(e.Type){case Wt.KeyType.RSA:return wt.rsa.unmarshalRsaPrivateKey(r);case Wt.KeyType.Ed25519:return wt.ed25519.unmarshalEd25519PrivateKey(r);case Wt.KeyType.Secp256k1:if(wt.secp256k1)return wt.secp256k1.unmarshalSecp256k1PrivateKey(r);throw $i(new Error(Ts.message),Ts.code);default:Xn(e.Type)}},T8=(t,e)=>(e=(e||"rsa").toLowerCase(),Xn(e),t.bytes),I8=async(t,e)=>{try{let i=await b8.import(t,e);return qy(i)}catch(i){}let r=Yu.pki.decryptRsaPrivateKey(t,e);if(r===null)throw $i(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=Yu.asn1.toDer(Yu.pki.privateKeyToAsn1(r));return n=v8(n.getBytes(),"ascii"),wt.rsa.unmarshalRsaPrivateKey(n)};zy.exports={supportedKeys:wt,keysPBM:Wt,keyStretcher:ky(),generateEphemeralKeyPair:My(),generateKeyPair:E8,generateKeyPairFromSeed:B8,unmarshalPublicKey:S8,marshalPublicKey:A8,unmarshalPrivateKey:qy,marshalPrivateKey:T8,import:I8}});var Vy=I((O6,Zu)=>{"use strict";function C8(t,{className:e,symbolName:r}){let n=Symbol.for(r),i={[e]:class extends t{constructor(...o){super(...o);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return i[`is${e}`]=o=>!!(o&&o[n]),i}function _8(t,{className:e,symbolName:r,withoutNew:n}){let i=Symbol.for(r),o={[e]:function(...s){if(n&&!(this instanceof o))return new o(...s);let a=t.call(this,...s)||this;return a&&!a[i]&&Object.defineProperty(a,i,{value:!0}),a}}[e];return o.prototype=Object.create(t.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,Symbol.toStringTag,{get(){return e}}),o[`is${e}`]=s=>!!(s&&s[i]),o}Zu.exports=C8;Zu.exports.proto=_8});var $y=I((K6,Gy)=>{"use strict";var Qn=So(),Hy=Qn.Reader,k8=Qn.Writer,_e=Qn.util,Wi=Qn.roots["libp2p-peer-id"]||(Qn.roots["libp2p-peer-id"]={});Wi.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.id=_e.newBuffer([]),t.prototype.pubKey=_e.newBuffer([]),t.prototype.privKey=_e.newBuffer([]),t.encode=function(r,n){return n||(n=k8.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},t.decode=function(r,n){r instanceof Hy||(r=Hy.create(r));for(var i=n===void 0?r.len:r.pos+n,o=new Wi.PeerIdProto;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:o.id=r.bytes();break;case 2:o.pubKey=r.bytes();break;case 3:o.privKey=r.bytes();break;default:r.skipType(s&7);break}}if(!o.hasOwnProperty("id"))throw _e.ProtocolError("missing required 'id'",{instance:o});return o},t.fromObject=function(r){if(r instanceof Wi.PeerIdProto)return r;var n=new Wi.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?_e.base64.decode(r.id,n.id=_e.newBuffer(_e.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?_e.base64.decode(r.pubKey,n.pubKey=_e.newBuffer(_e.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?_e.base64.decode(r.privKey,n.privKey=_e.newBuffer(_e.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=_e.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=_e.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=_e.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?_e.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?_e.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?_e.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Qn.util.toJSONOptions)},t}();Gy.exports=Wi});var r1=I((Ve,t1)=>{"use strict";var{CID:Xu}=(yn(),C0),D8=(ii(),ni),R8=(Ja(),zo),N8=(pn(),hn),L8=(Ei(),Pn),{base58btc:Qu}=(pn(),hn),{base32:U8}=(ii(),ni),{base16:Wy}=(eu(),jo),Yi=(ln(),ro),Yt=jy(),P8=Vy(),{PeerIdProto:Yy}=$y(),{equals:on}=(jn(),zn),{fromString:Zi}=(_r(),Cr),{toString:F8}=(Dr(),kr),{identity:Is}=(cs(),_i),Zy={...D8,...R8,...N8,...L8},O8=Object.keys(Zy).reduce((t,e)=>t.or(Zy[e]),U8.decoder),K8=112,Xy=114,Qy=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!on(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=Qu.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=Yi.decode(this.id);e.code===Is.code&&(this._pubKey=Yt.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return Yt.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return Yt.marshalPrivateKey(this.privKey)}marshal(e){return Yy.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:e1(this.marshalPrivKey()),pubKey:e1(this.marshalPubKey())}}toHexString(){return Wy.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=Xu.createV1(Xy,Yi.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return on(this.id,e);if(e.id)return on(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&on(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(Yi.decode(this.id).code===Is.code)return!0}catch(e){}return!1}},Zt=P8(Qy,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Ve=t1.exports=Zt;var Xi=t=>t.bytes.length<=42?Yi.create(Is.code,t.bytes).bytes:t.hash(),Ju=async(t,e)=>{let r=await Xi(e);return new Zt(r,t,e)};Ve.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await Yt.generateKeyPair(t.keyType,t.bits);return Ju(e,e.public)};Ve.createFromHexString=t=>new Zt(Wy.decode("f"+t));Ve.createFromBytes=t=>{try{let e=Xu.decode(t);if(!Jy(e))throw new Error("Supplied PeerID CID is invalid");return Ve.createFromCID(e)}catch{if(Yi.decode(t).code!==Is.code)throw new Error("Supplied PeerID CID is invalid");return new Zt(t)}};Ve.createFromB58String=t=>Ve.createFromBytes(Qu.decode("z"+t));var Jy=t=>t.code===Xy||t.code===K8;Ve.createFromCID=t=>{if(t=Xu.asCID(t),!t||!Jy(t))throw new Error("Supplied PeerID CID is invalid");return new Zt(t.multihash.bytes)};Ve.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=Zi(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await Yt.unmarshalPublicKey(e);return Ju(void 0,r)};Ve.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=Zi(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await Yt.unmarshalPrivateKey(t);return Ju(e,e.public)};Ve.createFromJSON=async t=>{let e=Qu.decode("z"+t.id),r=t.privKey&&Zi(t.privKey,"base64pad"),n=t.pubKey&&Zi(t.pubKey,"base64pad"),i=n&&await Yt.unmarshalPublicKey(n);if(!r)return new Zt(e,void 0,i);let o=await Yt.unmarshalPrivateKey(r),s=await Xi(o.public),a;if(i&&(a=await Xi(i)),i&&!on(s,a))throw new Error("Public and private key do not match");if(e&&!on(s,e))throw new Error("Id and private key do not match");return new Zt(e,o,i)};Ve.createFromProtobuf=async t=>{typeof t=="string"&&(t=Zi(t,"base16"));let{id:e,privKey:r,pubKey:n}=Yy.decode(t);r=r?await Yt.unmarshalPrivateKey(r):!1,n=n?await Yt.unmarshalPublicKey(n):!1;let i,o;if(r&&(o=await Xi(r.public)),n&&(i=await Xi(n)),r){if(n&&!on(o,i))throw new Error("Public and private key do not match");return new Zt(o,r,r.public)}if(n)return new Zt(i,void 0,n);if(e)return new Zt(e);throw new Error("Protobuf did not contain any usable key material")};Ve.parse=t=>((t.charAt(0)==="1"||t.charAt(0)==="Q")&&(t=`z${t}`),Ve.createFromBytes(O8.decode(t)));Ve.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function e1(t){if(t)return F8(t,"base64pad")}});var i1=I((M6,n1)=>{"use strict";function Cs(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Cs.prototype.define=function(t,e){for(let r in t){let n=t[r].map(function(i){return i.toLowerCase()});r=r.toLowerCase();for(let i=0;i<n.length;i++){let o=n[i];if(o[0]!=="*"){if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+r+'".');this._types[o]=r}}if(e||!this._extensions[r]){let i=n[0];this._extensions[r]=i[0]!=="*"?i:i.substr(1)}}};Cs.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(r.length<e.length-1||!n)&&this._types[r]||null};Cs.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};n1.exports=Cs});var s1=I((q6,o1)=>{o1.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var u1=I((z6,a1)=>{"use strict";var M8=i1();a1.exports=new M8(s1())});var S1=I(ei=>{"use strict";var t0=va(),Jn=Ea(),h1=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ei.Buffer=S;ei.SlowBuffer=Z8;ei.INSPECT_MAX_BYTES=50;var _s=2147483647;ei.kMaxLength=_s;S.TYPED_ARRAY_SUPPORT=H8();!S.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function H8(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(r){return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(!!S.isBuffer(this))return this.buffer}});Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(!!S.isBuffer(this))return this.byteOffset}});function fr(t){if(t>_s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,S.prototype),e}function S(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return r0(t)}return p1(t,e,r)}S.poolSize=8192;function p1(t,e,r){if(typeof t=="string")return $8(t,e);if(ArrayBuffer.isView(t))return W8(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Xt(t,ArrayBuffer)||t&&Xt(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Xt(t,SharedArrayBuffer)||t&&Xt(t.buffer,SharedArrayBuffer)))return i0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return S.from(n,e,r);var i=Y8(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return S.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}S.from=function(t,e,r){return p1(t,e,r)};Object.setPrototypeOf(S.prototype,Uint8Array.prototype);Object.setPrototypeOf(S,Uint8Array);function d1(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function G8(t,e,r){return d1(t),t<=0?fr(t):e!==void 0?typeof r=="string"?fr(t).fill(e,r):fr(t).fill(e):fr(t)}S.alloc=function(t,e,r){return G8(t,e,r)};function r0(t){return d1(t),fr(t<0?0:o0(t)|0)}S.allocUnsafe=function(t){return r0(t)};S.allocUnsafeSlow=function(t){return r0(t)};function $8(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!S.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=y1(t,e)|0,n=fr(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function n0(t){for(var e=t.length<0?0:o0(t.length)|0,r=fr(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function W8(t){if(Xt(t,Uint8Array)){var e=new Uint8Array(t);return i0(e.buffer,e.byteOffset,e.byteLength)}return n0(t)}function i0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,S.prototype),n}function Y8(t){if(S.isBuffer(t)){var e=o0(t.length)|0,r=fr(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||a0(t.length)?fr(0):n0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return n0(t.data)}function o0(t){if(t>=_s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_s.toString(16)+" bytes");return t|0}function Z8(t){return+t!=t&&(t=0),S.alloc(+t)}S.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==S.prototype};S.compare=function(e,r){if(Xt(e,Uint8Array)&&(e=S.from(e,e.offset,e.byteLength)),Xt(r,Uint8Array)&&(r=S.from(r,r.offset,r.byteLength)),!S.isBuffer(e)||!S.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};S.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};S.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return S.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=S.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var s=e[n];if(Xt(s,Uint8Array))o+s.length>i.length?S.from(s).copy(i,o):Uint8Array.prototype.set.call(i,s,o);else if(S.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function y1(t,e){if(S.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Xt(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return s0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return B1(t).length;default:if(i)return n?-1:s0(t).length;e=(""+e).toLowerCase(),i=!0}}S.byteLength=y1;function X8(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return aE(this,e,r);case"utf8":case"utf-8":return x1(this,e,r);case"ascii":return oE(this,e,r);case"latin1":case"binary":return sE(this,e,r);case"base64":return nE(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uE(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}S.prototype._isBuffer=!0;function sn(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}S.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)sn(this,r,r+1);return this};S.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)sn(this,r,r+3),sn(this,r+1,r+2);return this};S.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)sn(this,r,r+7),sn(this,r+1,r+6),sn(this,r+2,r+5),sn(this,r+3,r+4);return this};S.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?x1(this,0,e):X8.apply(this,arguments)};S.prototype.toLocaleString=S.prototype.toString;S.prototype.equals=function(e){if(!S.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:S.compare(this,e)===0};S.prototype.inspect=function(){var e="",r=ei.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};h1&&(S.prototype[h1]=S.prototype.inspect);S.prototype.compare=function(e,r,n,i,o){if(Xt(e,Uint8Array)&&(e=S.from(e,e.offset,e.byteLength)),!S.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=n-r,u=Math.min(s,a),c=this.slice(i,o),f=e.slice(r,n),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0};function g1(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,a0(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=S.from(e,n)),S.isBuffer(e))return e.length===0?-1:m1(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m1(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m1(t,e,r,n,i){var o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function u(d,p){return o===1?d[p]:d.readUInt16BE(p*o)}var c;if(i){var f=-1;for(c=r;c<s;c++)if(u(t,c)===u(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===a)return f*o}else f!==-1&&(c-=c-f),f=-1}else for(r+a>s&&(r=s-a),c=r;c>=0;c--){for(var l=!0,h=0;h<a;h++)if(u(t,c+h)!==u(e,h)){l=!1;break}if(l)return c}return-1}S.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};S.prototype.indexOf=function(e,r,n){return g1(this,e,r,n,!0)};S.prototype.lastIndexOf=function(e,r,n){return g1(this,e,r,n,!1)};function Q8(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(s*2,2),16);if(a0(a))return s;t[r+s]=a}return s}function J8(t,e,r,n){return ks(s0(e,t.length-r),t,r,n)}function eE(t,e,r,n){return ks(lE(e),t,r,n)}function tE(t,e,r,n){return ks(B1(e),t,r,n)}function rE(t,e,r,n){return ks(hE(e,t.length-r),t,r,n)}S.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return Q8(this,e,r,n);case"utf8":case"utf-8":return J8(this,e,r,n);case"ascii":case"latin1":case"binary":return eE(this,e,r,n);case"base64":return tE(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rE(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function nE(t,e,r){return e===0&&r===t.length?t0.fromByteArray(t):t0.fromByteArray(t.slice(e,r))}function x1(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var u,c,f,l;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1],(u&192)==128&&(l=(o&31)<<6|u&63,l>127&&(s=l));break;case 3:u=t[i+1],c=t[i+2],(u&192)==128&&(c&192)==128&&(l=(o&15)<<12|(u&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],(u&192)==128&&(c&192)==128&&(f&192)==128&&(l=(o&15)<<18|(u&63)<<12|(c&63)<<6|f&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return iE(n)}var w1=4096;function iE(t){var e=t.length;if(e<=w1)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=w1));return r}function oE(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function sE(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function aE(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=pE[t[o]];return i}function uE(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}S.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,S.prototype),i};function Pe(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Pe(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i};S.prototype.readUintBE=S.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Pe(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i};S.prototype.readUint8=S.prototype.readUInt8=function(e,r){return e=e>>>0,r||Pe(e,1,this.length),this[e]};S.prototype.readUint16LE=S.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Pe(e,2,this.length),this[e]|this[e+1]<<8};S.prototype.readUint16BE=S.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Pe(e,2,this.length),this[e]<<8|this[e+1]};S.prototype.readUint32LE=S.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Pe(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};S.prototype.readUint32BE=S.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Pe(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};S.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Pe(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};S.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Pe(e,r,this.length);for(var i=r,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};S.prototype.readInt8=function(e,r){return e=e>>>0,r||Pe(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};S.prototype.readInt16LE=function(e,r){e=e>>>0,r||Pe(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};S.prototype.readInt16BE=function(e,r){e=e>>>0,r||Pe(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};S.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Pe(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};S.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Pe(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};S.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Pe(e,4,this.length),Jn.read(this,e,!0,23,4)};S.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Pe(e,4,this.length),Jn.read(this,e,!1,23,4)};S.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Pe(e,8,this.length),Jn.read(this,e,!0,52,8)};S.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Pe(e,8,this.length),Jn.read(this,e,!1,52,8)};function tt(t,e,r,n,i,o){if(!S.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;tt(this,e,r,n,o,0)}var s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n};S.prototype.writeUintBE=S.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;tt(this,e,r,n,o,0)}var s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n};S.prototype.writeUint8=S.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,1,255,0),this[r]=e&255,r+1};S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};S.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var o=Math.pow(2,8*n-1);tt(this,e,r,n,o-1,-o)}var s=0,a=1,u=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&u===0&&this[r+s-1]!==0&&(u=1),this[r+s]=(e/a>>0)-u&255;return r+n};S.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var o=Math.pow(2,8*n-1);tt(this,e,r,n,o-1,-o)}var s=n-1,a=1,u=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&u===0&&this[r+s+1]!==0&&(u=1),this[r+s]=(e/a>>0)-u&255;return r+n};S.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};S.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};S.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};S.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};S.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||tt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function v1(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function b1(t,e,r,n,i){return e=+e,r=r>>>0,i||v1(t,e,r,4,34028234663852886e22,-34028234663852886e22),Jn.write(t,e,r,n,23,4),r+4}S.prototype.writeFloatLE=function(e,r,n){return b1(this,e,r,!0,n)};S.prototype.writeFloatBE=function(e,r,n){return b1(this,e,r,!1,n)};function E1(t,e,r,n,i){return e=+e,r=r>>>0,i||v1(t,e,r,8,17976931348623157e292,-17976931348623157e292),Jn.write(t,e,r,n,52,8),r+8}S.prototype.writeDoubleLE=function(e,r,n){return E1(this,e,r,!0,n)};S.prototype.writeDoubleBE=function(e,r,n){return E1(this,e,r,!1,n)};S.prototype.copy=function(e,r,n,i){if(!S.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};S.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!S.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var a=S.isBuffer(e)?e:S.from(e,i),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%u]}return this};var cE=/[^+/0-9A-Za-z-_]/g;function fE(t){if(t=t.split("=")[0],t=t.trim().replace(cE,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function s0(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function lE(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function hE(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function B1(t){return t0.toByteArray(fE(t))}function ks(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Xt(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function a0(t){return t!==t}var pE=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var I1=I((Z6,T1)=>{"use strict";var{Buffer:_t}=S1(),A1=Symbol.for("BufferList");function de(t){if(!(this instanceof de))return new de(t);de._init.call(this,t)}de._init=function(e){Object.defineProperty(this,A1,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};de.prototype._new=function(e){return new de(e)};de.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};de.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};de.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};de.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};de.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||_t.alloc(0);let o=!!e,s=this._offset(n),a=i-n,u=a,c=o&&r||0,f=s[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:_t.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,c),c+=this._bufs[l].length;return e}if(u<=this._bufs[s[0]].length-f)return o?this._bufs[s[0]].copy(e,r,f,f+u):this._bufs[s[0]].slice(f,f+u);o||(e=_t.allocUnsafe(a));for(let l=s[0];l<this._bufs.length;l++){let h=this._bufs[l].length-f;if(u>h)this._bufs[l].copy(e,c,f),c+=h;else{this._bufs[l].copy(e,c,f,f+u),c+=h;break}u-=h,f&&(f=0)}return e.length>c?e.slice(0,c):e};de.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};de.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};de.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};de.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};de.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(_t.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(_t.from(e));return this};de.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};de.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=_t.from([t]):typeof t=="string"?t=_t.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=_t.from(t.buffer,t.byteOffset,t.byteLength):_t.isBuffer(t)||(t=_t.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let s=this._bufs[i];for(;o<s.length;)if(s.length-o>=t.length){let u=s.indexOf(t,o);if(u!==-1)return this._reverseOffset([i,u]);o=s.length-t.length+1}else{let u=this._reverseOffset([i,o]);if(this._match(u,t))return u;o++}o=0}return-1};de.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?de.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:de.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();de.prototype._isBufferList=function(e){return e instanceof de||de.isBufferList(e)};de.isBufferList=function(e){return e!=null&&e[A1]};T1.exports=de});var dE={};Ce(dE,{ExploreAll:()=>ga,ExploreFields:()=>ma,ExploreInterpretAs:()=>Co,ExploreRecursive:()=>Hr,ExploreRecursiveEdge:()=>In,GraphSync:()=>Qa,Kind:()=>Te,LinkSystem:()=>Io,Matcher:()=>xa,Node:()=>lt,Request:()=>qo,allSelector:()=>ya,blockFromStore:()=>yi,decoderFor:()=>To,entriesSelector:()=>ym,fetch:()=>l1,parseContext:()=>jr,push:()=>k1,selToBlock:()=>dm,unixfsPathSelector:()=>Qi,unixfsReifier:()=>mi,walkBlocks:()=>rr});gn();gn();var so=({enumerable:t=!0,configurable:e=!1}={})=>({enumerable:t,configurable:e,writable:!1}),qs=function*(t,e){if(t!=null&&!(t instanceof Uint8Array))for(let[r,n]of Object.entries(t)){let i=[...e,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[o,s]of n.entries()){let a=[...i,o],u=H.asCID(s);u?yield[a.join("/"),u]:typeof s=="object"&&(yield*qs(s,a))}else{let o=H.asCID(n);o?yield[i.join("/"),o]:yield*qs(n,i)}}},zs=function*(t,e){if(t!=null)for(let[r,n]of Object.entries(t)){let i=[...e,r];if(yield i.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!H.asCID(n))if(Array.isArray(n))for(let[o,s]of n.entries()){let a=[...i,o];yield a.join("/"),typeof s=="object"&&!H.asCID(s)&&(yield*zs(s,a))}else yield*zs(n,i)}},Eg=(t,e)=>{let r=t;for(let[n,i]of e.entries()){if(r=r[i],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let o=H.asCID(r);if(o)return{value:o,remaining:e.slice(n+1).join("/")}}return{value:r}},mn=class{constructor({cid:e,bytes:r,value:n}){if(!e||!r||typeof n=="undefined")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:so(),bytes:so(),value:so(),asBlock:so()})}links(){return qs(this.value,[])}tree(){return zs(this.value,[])}get(e="/"){return Eg(this.value,e.split("/").filter(Boolean))}},D0=async({value:t,codec:e,hasher:r})=>{if(typeof t=="undefined")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let n=e.encode(t),i=await r.digest(n),o=H.create(1,e.code,i);return new mn({value:t,bytes:n,cid:o})};var Qs={};Ce(Qs,{code:()=>Xg,decode:()=>Bn,encode:()=>gr,name:()=>Zg});var Bg=["string","number","bigint","symbol"],Sg=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function R0(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(Bg.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(Ag(t))return"Buffer";let r=Tg(t);return r||"Object"}function Ag(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Tg(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Sg.includes(e))return e}var E=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};E.uint=new E(0,"uint",!0);E.negint=new E(1,"negint",!0);E.bytes=new E(2,"bytes",!0);E.string=new E(3,"string",!0);E.array=new E(4,"array",!1);E.map=new E(5,"map",!1);E.tag=new E(6,"tag",!1);E.float=new E(7,"float",!0);E.false=new E(7,"false",!0);E.true=new E(7,"true",!0);E.null=new E(7,"null",!0);E.undefined=new E(7,"undefined",!0);E.break=new E(7,"break",!0);var P=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var xn=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Ig=new TextDecoder,Cg=new TextEncoder;function ao(t){return xn&&globalThis.Buffer.isBuffer(t)}function js(t){return t instanceof Uint8Array?ao(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var N0=xn?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):K0(t,e,r):(t,e,r)=>r-e>64?Ig.decode(t.subarray(e,r)):K0(t,e,r),L0=xn?t=>t.length>64?globalThis.Buffer.from(t):O0(t):t=>t.length>64?Cg.encode(t):O0(t),Rt=t=>Uint8Array.from(t),wn=xn?(t,e,r)=>ao(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),U0=xn?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),js(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},P0=xn?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function F0(t,e){if(ao(t)&&ao(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function O0(t,e=1/0){let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function K0(t,e,r){let n=[];for(;e<r;){let i=t[e],o=null,s=i>239?4:i>223?3:i>191?2:1;if(e+s<=r){let a,u,c,f;switch(s){case 1:i<128&&(o=i);break;case 2:a=t[e+1],(a&192)==128&&(f=(i&31)<<6|a&63,f>127&&(o=f));break;case 3:a=t[e+1],u=t[e+2],(a&192)==128&&(u&192)==128&&(f=(i&15)<<12|(a&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:a=t[e+1],u=t[e+2],c=t[e+3],(a&192)==128&&(u&192)==128&&(c&192)==128&&(f=(i&15)<<18|(a&63)<<12|(u&63)<<6|c&63,f>65535&&f<1114112&&(o=f))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=s}return _g(n)}var M0=4096;function _g(t){let e=t.length;if(e<=M0)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=M0));return r}var kg=256,uo=class{constructor(e=kg){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=P0(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=wn(n,0,this.cursor)}else r=U0(this.chunks,this.cursor);return e&&this.reset(),r}};var z="CBOR decode error:",Vs="CBOR encode error:",si=[];si[23]=1;si[24]=2;si[25]=3;si[26]=5;si[27]=9;function Jt(t,e,r){if(t.length-e<r)throw new Error(`${z} not enough data for type`)}var ke=[24,256,65536,4294967296,BigInt("18446744073709551616")];function nt(t,e,r){Jt(t,e,1);let n=t[e];if(r.strict===!0&&n<ke[0])throw new Error(`${z} integer encoded in more bytes than necessary (strict decode)`);return n}function it(t,e,r){Jt(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<ke[1])throw new Error(`${z} integer encoded in more bytes than necessary (strict decode)`);return n}function ot(t,e,r){Jt(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<ke[2])throw new Error(`${z} integer encoded in more bytes than necessary (strict decode)`);return n}function st(t,e,r){Jt(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<ke[3])throw new Error(`${z} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${z} integers outside of the safe integer range are not supported`)}function q0(t,e,r,n){return new P(E.uint,nt(t,e+1,n),2)}function z0(t,e,r,n){return new P(E.uint,it(t,e+1,n),3)}function j0(t,e,r,n){return new P(E.uint,ot(t,e+1,n),5)}function V0(t,e,r,n){return new P(E.uint,st(t,e+1,n),9)}function ut(t,e){return Fe(t,0,e.value)}function Fe(t,e,r){if(r<ke[0]){let n=Number(r);t.push([e|n])}else if(r<ke[1]){let n=Number(r);t.push([e|24,n])}else if(r<ke[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<ke[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<ke[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,t.push(i)}else throw new Error(`${z} encountered BigInt larger than allowable range`)}}ut.encodedSize=function(e){return Fe.encodedSize(e.value)};Fe.encodedSize=function(e){return e<ke[0]?1:e<ke[1]?2:e<ke[2]?3:e<ke[3]?5:9};ut.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function H0(t,e,r,n){return new P(E.negint,-1-nt(t,e+1,n),2)}function G0(t,e,r,n){return new P(E.negint,-1-it(t,e+1,n),3)}function $0(t,e,r,n){return new P(E.negint,-1-ot(t,e+1,n),5)}var Hs=BigInt(-1),W0=BigInt(1);function Y0(t,e,r,n){let i=st(t,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new P(E.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${z} integers outside of the safe integer range are not supported`);return new P(E.negint,Hs-BigInt(i),9)}function co(t,e){let r=e.value,n=typeof r=="bigint"?r*Hs-W0:r*-1-1;Fe(t,e.type.majorEncoded,n)}co.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*Hs-W0:r*-1-1;return n<ke[0]?1:n<ke[1]?2:n<ke[2]?3:n<ke[3]?5:9};co.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function ai(t,e,r,n){Jt(t,e,r+n);let i=wn(t,e+r,e+r+n);return new P(E.bytes,i,r+n)}function Z0(t,e,r,n){return ai(t,e,1,r)}function X0(t,e,r,n){return ai(t,e,2,nt(t,e+1,n))}function Q0(t,e,r,n){return ai(t,e,3,it(t,e+1,n))}function J0(t,e,r,n){return ai(t,e,5,ot(t,e+1,n))}function ec(t,e,r,n){let i=st(t,e+1,n);if(typeof i=="bigint")throw new Error(`${z} 64-bit integer bytes lengths not supported`);return ai(t,e,9,i)}function fo(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===E.string?L0(t.value):t.value),t.encodedBytes}function vn(t,e){let r=fo(e);Fe(t,e.type.majorEncoded,r.length),t.push(r)}vn.encodedSize=function(e){let r=fo(e);return Fe.encodedSize(r.length)+r.length};vn.compareTokens=function(e,r){return Dg(fo(e),fo(r))};function Dg(t,e){return t.length<e.length?-1:t.length>e.length?1:F0(t,e)}function ui(t,e,r,n,i){let o=r+n;Jt(t,e,o);let s=new P(E.string,N0(t,e+r,e+o),o);return i.retainStringBytes===!0&&(s.byteValue=wn(t,e+r,e+o)),s}function tc(t,e,r,n){return ui(t,e,1,r,n)}function rc(t,e,r,n){return ui(t,e,2,nt(t,e+1,n),n)}function nc(t,e,r,n){return ui(t,e,3,it(t,e+1,n),n)}function ic(t,e,r,n){return ui(t,e,5,ot(t,e+1,n),n)}function oc(t,e,r,n){let i=st(t,e+1,n);if(typeof i=="bigint")throw new Error(`${z} 64-bit integer string lengths not supported`);return ui(t,e,9,i,n)}var sc=vn;function bn(t,e,r,n){return new P(E.array,n,r)}function ac(t,e,r,n){return bn(t,e,1,r)}function uc(t,e,r,n){return bn(t,e,2,nt(t,e+1,n))}function cc(t,e,r,n){return bn(t,e,3,it(t,e+1,n))}function fc(t,e,r,n){return bn(t,e,5,ot(t,e+1,n))}function lc(t,e,r,n){let i=st(t,e+1,n);if(typeof i=="bigint")throw new Error(`${z} 64-bit integer array lengths not supported`);return bn(t,e,9,i)}function hc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${z} indefinite length items not allowed`);return bn(t,e,1,1/0)}function lo(t,e){Fe(t,E.array.majorEncoded,e.value)}lo.compareTokens=ut.compareTokens;lo.encodedSize=function(e){return Fe.encodedSize(e.value)};function En(t,e,r,n){return new P(E.map,n,r)}function pc(t,e,r,n){return En(t,e,1,r)}function dc(t,e,r,n){return En(t,e,2,nt(t,e+1,n))}function yc(t,e,r,n){return En(t,e,3,it(t,e+1,n))}function gc(t,e,r,n){return En(t,e,5,ot(t,e+1,n))}function mc(t,e,r,n){let i=st(t,e+1,n);if(typeof i=="bigint")throw new Error(`${z} 64-bit integer map lengths not supported`);return En(t,e,9,i)}function xc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${z} indefinite length items not allowed`);return En(t,e,1,1/0)}function ho(t,e){Fe(t,E.map.majorEncoded,e.value)}ho.compareTokens=ut.compareTokens;ho.encodedSize=function(e){return Fe.encodedSize(e.value)};function wc(t,e,r,n){return new P(E.tag,r,1)}function vc(t,e,r,n){return new P(E.tag,nt(t,e+1,n),2)}function bc(t,e,r,n){return new P(E.tag,it(t,e+1,n),3)}function Ec(t,e,r,n){return new P(E.tag,ot(t,e+1,n),5)}function Bc(t,e,r,n){return new P(E.tag,st(t,e+1,n),9)}function po(t,e){Fe(t,E.tag.majorEncoded,e.value)}po.compareTokens=ut.compareTokens;po.encodedSize=function(e){return Fe.encodedSize(e.value)};var Rg=20,Ng=21,Lg=22,Ug=23;function Sc(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${z} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new P(E.null,null,1):new P(E.undefined,void 0,1)}function Ac(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${z} indefinite length items not allowed`);return new P(E.break,void 0,1)}function Gs(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${z} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${z} Infinity values are not supported`)}return new P(E.float,t,e)}function Tc(t,e,r,n){return Gs($s(t,e+1),3,n)}function Ic(t,e,r,n){return Gs(Ws(t,e+1),5,n)}function Cc(t,e,r,n){return Gs(Rc(t,e+1),9,n)}function yo(t,e,r){let n=e.value;if(n===!1)t.push([E.float.majorEncoded|Rg]);else if(n===!0)t.push([E.float.majorEncoded|Ng]);else if(n===null)t.push([E.float.majorEncoded|Lg]);else if(n===void 0)t.push([E.float.majorEncoded|Ug]);else{let i,o=!1;(!r||r.float64!==!0)&&(kc(n),i=$s(vt,1),n===i||Number.isNaN(n)?(vt[0]=249,t.push(vt.slice(0,3)),o=!0):(Dc(n),i=Ws(vt,1),n===i&&(vt[0]=250,t.push(vt.slice(0,5)),o=!0))),o||(Pg(n),i=Rc(vt,1),vt[0]=251,t.push(vt.slice(0,9)))}}yo.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){kc(n);let i=$s(vt,1);if(n===i||Number.isNaN(n))return 3;if(Dc(n),i=Ws(vt,1),n===i)return 5}return 9};var _c=new ArrayBuffer(9),ct=new DataView(_c,1),vt=new Uint8Array(_c,0);function kc(t){if(t===1/0)ct.setUint16(0,31744,!1);else if(t===-1/0)ct.setUint16(0,64512,!1);else if(Number.isNaN(t))ct.setUint16(0,32256,!1);else{ct.setFloat32(0,t);let e=ct.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)ct.setUint16(0,31744,!1);else if(r===0)ct.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?ct.setUint16(0,0):i<-14?ct.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):ct.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function $s(t,e){if(t.length-e<2)throw new Error(`${z} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function Dc(t){ct.setFloat32(0,t,!1)}function Ws(t,e){if(t.length-e<4)throw new Error(`${z} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function Pg(t){ct.setFloat64(0,t,!1)}function Rc(t,e){if(t.length-e<8)throw new Error(`${z} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}yo.compareTokens=ut.compareTokens;function re(t,e,r){throw new Error(`${z} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function go(t){return()=>{throw new Error(`${z} ${t}`)}}var D=[];for(let t=0;t<=23;t++)D[t]=re;D[24]=q0;D[25]=z0;D[26]=j0;D[27]=V0;D[28]=re;D[29]=re;D[30]=re;D[31]=re;for(let t=32;t<=55;t++)D[t]=re;D[56]=H0;D[57]=G0;D[58]=$0;D[59]=Y0;D[60]=re;D[61]=re;D[62]=re;D[63]=re;for(let t=64;t<=87;t++)D[t]=Z0;D[88]=X0;D[89]=Q0;D[90]=J0;D[91]=ec;D[92]=re;D[93]=re;D[94]=re;D[95]=go("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)D[t]=tc;D[120]=rc;D[121]=nc;D[122]=ic;D[123]=oc;D[124]=re;D[125]=re;D[126]=re;D[127]=go("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)D[t]=ac;D[152]=uc;D[153]=cc;D[154]=fc;D[155]=lc;D[156]=re;D[157]=re;D[158]=re;D[159]=hc;for(let t=160;t<=183;t++)D[t]=pc;D[184]=dc;D[185]=yc;D[186]=gc;D[187]=mc;D[188]=re;D[189]=re;D[190]=re;D[191]=xc;for(let t=192;t<=215;t++)D[t]=wc;D[216]=vc;D[217]=bc;D[218]=Ec;D[219]=Bc;D[220]=re;D[221]=re;D[222]=re;D[223]=re;for(let t=224;t<=243;t++)D[t]=go("simple values are not supported");D[244]=re;D[245]=re;D[246]=re;D[247]=Sc;D[248]=go("simple values are not supported");D[249]=Tc;D[250]=Ic;D[251]=Cc;D[252]=re;D[253]=re;D[254]=re;D[255]=Ac;var bt=[];for(let t=0;t<24;t++)bt[t]=new P(E.uint,t,1);for(let t=-1;t>=-24;t--)bt[31-t]=new P(E.negint,t,1);bt[64]=new P(E.bytes,new Uint8Array(0),1);bt[96]=new P(E.string,"",1);bt[128]=new P(E.array,0,1);bt[160]=new P(E.map,0,1);bt[244]=new P(E.false,!1,1);bt[245]=new P(E.true,!0,1);bt[246]=new P(E.null,null,1);function Nc(t){switch(t.type){case E.false:return Rt([244]);case E.true:return Rt([245]);case E.null:return Rt([246]);case E.bytes:return t.value.length?void 0:Rt([64]);case E.string:return t.value===""?Rt([96]):void 0;case E.array:return t.value===0?Rt([128]):void 0;case E.map:return t.value===0?Rt([160]):void 0;case E.uint:return t.value<24?Rt([Number(t.value)]):void 0;case E.negint:if(t.value>=-24)return Rt([31-Number(t.value)])}}var Fg={float64:!1,mapSorter:Mg,quickEncodeToken:Nc};function Og(){let t=[];return t[E.uint.major]=ut,t[E.negint.major]=co,t[E.bytes.major]=vn,t[E.string.major]=sc,t[E.array.major]=lo,t[E.map.major]=ho,t[E.tag.major]=po,t[E.float.major]=yo,t}var Lc=Og(),Ys=new uo,ci=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${Vs} object contains circular references`);return new ci(r,e)}},dr={null:new P(E.null,null),undefined:new P(E.undefined,void 0),true:new P(E.true,!0),false:new P(E.false,!1),emptyArray:new P(E.array,0),emptyMap:new P(E.map,0)},yr={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new P(E.float,t):t>=0?new P(E.uint,t):new P(E.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new P(E.uint,t):new P(E.negint,t)},Uint8Array(t,e,r,n){return new P(E.bytes,t)},string(t,e,r,n){return new P(E.string,t)},boolean(t,e,r,n){return t?dr.true:dr.false},null(t,e,r,n){return dr.null},undefined(t,e,r,n){return dr.undefined},ArrayBuffer(t,e,r,n){return new P(E.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new P(E.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[dr.emptyArray,new P(E.break)]:dr.emptyArray;n=ci.createCheck(n,t);let i=[],o=0;for(let s of t)i[o++]=mo(s,r,n);return r.addBreakTokens?[new P(E.array,t.length),i,new P(E.break)]:[new P(E.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",o=i?t.keys():Object.keys(t),s=i?t.size:o.length;if(!s)return r.addBreakTokens===!0?[dr.emptyMap,new P(E.break)]:dr.emptyMap;n=ci.createCheck(n,t);let a=[],u=0;for(let c of o)a[u++]=[mo(c,r,n),mo(i?t.get(c):t[c],r,n)];return Kg(a,r),r.addBreakTokens?[new P(E.map,s),a,new P(E.break)]:[new P(E.map,s),a]}};yr.Map=yr.Object;yr.Buffer=yr.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))yr[`${t}Array`]=yr.DataView;function mo(t,e={},r){let n=R0(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||yr[n];if(typeof i=="function"){let s=i(t,n,e,r);if(s!=null)return s}let o=yr[n];if(!o)throw new Error(`${Vs} unsupported type: ${n}`);return o(t,n,e,r)}function Kg(t,e){e.mapSorter&&t.sort(e.mapSorter)}function Mg(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=Lc[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function Uc(t,e,r,n){if(Array.isArray(e))for(let i of e)Uc(t,i,r,n);else r[e.type.major](t,e,n)}function qg(t,e,r){let n=mo(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let s=o.encodedSize(n,r),a=new uo(s);if(o(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return js(a.chunks[0])}}return Ys.reset(),Uc(Ys,n,e,r),Ys.toBytes(!0)}function Zs(t,e){return e=Object.assign({},Fg,e),qg(t,Lc,e)}var zg={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Pc=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=bt[e];if(r===void 0){let n=D[e];if(!n)throw new Error(`${z} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;r=n(this.data,this.pos,i,this.options)}return this.pos+=r.encodedLength,r}},fi=Symbol.for("DONE"),xo=Symbol.for("BREAK");function jg(t,e,r){let n=[];for(let i=0;i<t.value;i++){let o=li(e,r);if(o===xo){if(t.value===1/0)break;throw new Error(`${z} got unexpected break to lengthed array`)}if(o===fi)throw new Error(`${z} found array but not enough entries (got ${i}, expected ${t.value})`);n[i]=o}return n}function Vg(t,e,r){let n=r.useMaps===!0,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<t.value;s++){let a=li(e,r);if(a===xo){if(t.value===1/0)break;throw new Error(`${z} got unexpected break to lengthed map`)}if(a===fi)throw new Error(`${z} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${z} non-string keys not supported (got ${typeof a})`);let u=li(e,r);if(u===fi)throw new Error(`${z} found map but not enough entries (got ${s} [no value], expected ${t.value})`);n?o.set(a,u):i[a]=u}return n?o:i}function li(t,e){if(t.done())return fi;let r=t.next();if(r.type===E.break)return xo;if(r.type.terminal)return r.value;if(r.type===E.array)return jg(r,t,e);if(r.type===E.map)return Vg(r,t,e);if(r.type===E.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let n=li(t,e);return e.tags[r.value](n)}throw new Error(`${z} tag not supported (${r.value})`)}throw new Error("unsupported")}function Xs(t,e){if(!(t instanceof Uint8Array))throw new Error(`${z} data to decode must be a Uint8Array`);e=Object.assign({},zg,e);let r=e.tokenizer||new Pc(t,e),n=li(r,e);if(n===fi)throw new Error(`${z} did not find any content to decode`);if(n===xo)throw new Error(`${z} got unexpected break`);if(!r.done())throw new Error(`${z} too many terminals, data makes no sense`);return n}yn();var Fc=42;function Hg(t){if(t.asCID!==t)return null;let e=H.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new P(E.tag,Fc),new P(E.bytes,r)]}function Gg(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function $g(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Wg={float64:!0,typeEncoders:{Object:Hg,undefined:Gg,number:$g}};function Yg(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return H.decode(t.subarray(1))}var Oc={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Oc.tags[Fc]=Yg;var Zg="dag-cbor",Xg=113,gr=t=>Zs(t,Wg),Bn=t=>Xs(t,Oc);mr();yn();var Jg=new TextDecoder;function Js(t,e){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let i=t[e++];if(r+=n<28?(i&127)<<n:(i&127)*2**n,i<128)break}return[r,e]}function wo(t,e){let r;[r,e]=Js(t,e);let n=e+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,n),n]}function Mc(t,e){let r;return[r,e]=Js(t,e),[r&7,r>>3,e]}function em(t){let e={},r=t.length,n=0;for(;n<r;){let i,o;if([i,o,n]=Mc(t,n),o===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=wo(t,n)}else if(o===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,n]=wo(t,n),e.Name=Jg.decode(s)}else if(o===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(i!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Tsize`);[e.Tsize,n]=Js(t,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function qc(t){let e=t.length,r=0,n,i=!1,o;for(;r<e;){let a,u;if([a,u,r]=Mc(t,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(u===1){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,r]=wo(t,r),n&&(i=!0)}else if(u===2){if(i)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let c;[c,r]=wo(t,r),n.push(em(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${u}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let s={};return o&&(s.Data=o),s.Links=n||[],s}var aB=new TextEncoder,uB=2**32,cB=2**31;yn();var hB=new TextEncoder;function zc(t){let e=qc(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(n=>{let i={};try{i.Hash=H.decode(n.Hash)}catch(o){}if(!i.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(i.Name=n.Name),n.Tsize!==void 0&&(i.Tsize=n.Tsize),i})),r}var Ao=Ge(Et());var er=Ge(So()),Tn=er.default.Reader,pa=er.default.Writer,q=er.default.util,Oe=er.default.roots["ipfs-unixfs"]||(er.default.roots["ipfs-unixfs"]={}),zf=Oe.Data=(()=>{function t(e){if(this.blocksizes=[],e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=q.newBuffer([]),t.prototype.filesize=q.Long?q.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=q.emptyArray,t.prototype.hashType=q.Long?q.Long.fromBits(0,0,!0):0,t.prototype.fanout=q.Long?q.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(r,n){if(n||(n=pa.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var i=0;i<r.blocksizes.length;++i)n.uint32(32).uint64(r.blocksizes[i]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&Oe.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},t.decode=function(r,n){r instanceof Tn||(r=Tn.create(r));for(var i=n===void 0?r.len:r.pos+n,o=new Oe.Data;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:o.Type=r.int32();break;case 2:o.Data=r.bytes();break;case 3:o.filesize=r.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)==2)for(var a=r.uint32()+r.pos;r.pos<a;)o.blocksizes.push(r.uint64());else o.blocksizes.push(r.uint64());break;case 5:o.hashType=r.uint64();break;case 6:o.fanout=r.uint64();break;case 7:o.mode=r.uint32();break;case 8:o.mtime=Oe.UnixTime.decode(r,r.uint32());break;default:r.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw q.ProtocolError("missing required 'Type'",{instance:o});return o},t.fromObject=function(r){if(r instanceof Oe.Data)return r;var n=new Oe.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?q.base64.decode(r.Data,n.Data=q.newBuffer(q.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&(q.Long?(n.filesize=q.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new q.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<r.blocksizes.length;++i)q.Long?(n.blocksizes[i]=q.Long.fromValue(r.blocksizes[i])).unsigned=!0:typeof r.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(r.blocksizes[i],10):typeof r.blocksizes[i]=="number"?n.blocksizes[i]=r.blocksizes[i]:typeof r.blocksizes[i]=="object"&&(n.blocksizes[i]=new q.LongBits(r.blocksizes[i].low>>>0,r.blocksizes[i].high>>>0).toNumber(!0))}if(r.hashType!=null&&(q.Long?(n.hashType=q.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new q.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&(q.Long?(n.fanout=q.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new q.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=Oe.UnixTime.fromObject(r.mtime)}return n},t.toObject=function(r,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=q.newBuffer(i.Data))),q.Long){var o=new q.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if(q.Long){var o=new q.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if(q.Long){var o=new q.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?Oe.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?q.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?i.filesize=n.longs===String?String(r.filesize):r.filesize:i.filesize=n.longs===String?q.Long.prototype.toString.call(r.filesize):n.longs===Number?new q.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){i.blocksizes=[];for(var s=0;s<r.blocksizes.length;++s)typeof r.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(r.blocksizes[s]):r.blocksizes[s]:i.blocksizes[s]=n.longs===String?q.Long.prototype.toString.call(r.blocksizes[s]):n.longs===Number?new q.LongBits(r.blocksizes[s].low>>>0,r.blocksizes[s].high>>>0).toNumber(!0):r.blocksizes[s]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?i.hashType=n.longs===String?String(r.hashType):r.hashType:i.hashType=n.longs===String?q.Long.prototype.toString.call(r.hashType):n.longs===Number?new q.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?i.fanout=n.longs===String?String(r.fanout):r.fanout:i.fanout=n.longs===String?q.Long.prototype.toString.call(r.fanout):n.longs===Number?new q.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(i.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(i.mtime=Oe.UnixTime.toObject(r.mtime,n)),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,er.default.util.toJSONOptions)},t.DataType=function(){let e={},r=Object.create(e);return r[e[0]="Raw"]=0,r[e[1]="Directory"]=1,r[e[2]="File"]=2,r[e[3]="Metadata"]=3,r[e[4]="Symlink"]=4,r[e[5]="HAMTShard"]=5,r}(),t})(),zB=Oe.UnixTime=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Seconds=q.Long?q.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(r,n){return n||(n=pa.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},t.decode=function(r,n){r instanceof Tn||(r=Tn.create(r));for(var i=n===void 0?r.len:r.pos+n,o=new Oe.UnixTime;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:o.Seconds=r.int64();break;case 2:o.FractionalNanoseconds=r.fixed32();break;default:r.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw q.ProtocolError("missing required 'Seconds'",{instance:o});return o},t.fromObject=function(r){if(r instanceof Oe.UnixTime)return r;var n=new Oe.UnixTime;return r.Seconds!=null&&(q.Long?(n.Seconds=q.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new q.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},t.toObject=function(r,n){n||(n={});var i={};if(n.defaults){if(q.Long){var o=new q.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?i.Seconds=n.longs===String?String(r.Seconds):r.Seconds:i.Seconds=n.longs===String?q.Long.prototype.toString.call(r.Seconds):n.longs===Number?new q.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=r.FractionalNanoseconds),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,er.default.util.toJSONOptions)},t})(),jB=Oe.Metadata=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.MimeType="",t.encode=function(r,n){return n||(n=pa.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},t.decode=function(r,n){r instanceof Tn||(r=Tn.create(r));for(var i=n===void 0?r.len:r.pos+n,o=new Oe.Metadata;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:o.MimeType=r.string();break;default:r.skipType(s&7);break}}return o},t.fromObject=function(r){if(r instanceof Oe.Metadata)return r;var n=new Oe.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(i.MimeType=r.MimeType),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,er.default.util.toJSONOptions)},t})();var tr=zf,jf=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],lm=["directory","hamt-sharded-directory"],Vf=parseInt("0644",8),Hf=parseInt("0755",8);function da(t){if(t!=null)return typeof t=="number"?t&4095:(t=t.toString(),t.substring(0,1)==="0"?parseInt(t,8)&4095:parseInt(t,10)&4095)}function Gf(t){if(t==null)return;let e;if(t.secs!=null&&(e={secs:t.secs,nsecs:t.nsecs}),t.Seconds!=null&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){let r=t.getTime(),n=Math.floor(r/1e3);e={secs:n,nsecs:(r-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw(0,Ao.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}var zr=class{static unmarshal(e){let r=tr.decode(e),n=tr.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new zr({type:jf[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}constructor(e={type:"file"}){let{type:r,data:n,blockSizes:i,hashType:o,fanout:s,mtime:a,mode:u}=e;if(r&&!jf.includes(r))throw(0,Ao.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=o,this.fanout=s,this.blockSizes=i||[],this._originalMode=0,this.mode=da(u),a&&(this.mtime=Gf(a),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?Hf:Vf;let r=da(e);r!==void 0&&(this._mode=r)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&lm.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(r=>{e+=r}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=tr.DataType.Raw;break;case"directory":e=tr.DataType.Directory;break;case"file":e=tr.DataType.File;break;case"metadata":e=tr.DataType.Metadata;break;case"symlink":e=tr.DataType.Symlink;break;case"hamt-sharded-directory":e=tr.DataType.HAMTShard;break;default:throw(0,Ao.default)(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let r=this.data;(!this.data||!this.data.length)&&(r=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(da(this.mode)||0),n===Vf&&!this.isDirectory()&&(n=void 0),n===Hf&&this.isDirectory()&&(n=void 0));let i;if(this.mtime!=null){let s=Gf(this.mtime);s&&(i={Seconds:s.secs,FractionalNanoseconds:s.nsecs},i.FractionalNanoseconds===0&&delete i.FractionalNanoseconds)}let o={Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:i};return tr.encode(o).finish()}};function To(t){switch(t.code){case 85:return null;case 112:return zc;case 113:return Bn;default:throw new Error("unsuported codec: "+t.code)}}async function yi(t,e){let r=await e.get(t),n=To(t);return new mn({cid:t,bytes:r,value:n?n(r):r})}var Io=class{constructor(e,r){this.reifiers={};this.store=e,r&&(this.reifiers=r)}load(e){return yi(e,this.store)}reifier(e){return this.reifiers[e]}close(){}},Te;(function(f){f.Invalid="",f.Map="{",f.List="[",f.Null="0",f.Bool="b",f.Int="i",f.Float="f",f.String="s",f.Bytes="x",f.Link="/"})(Te||(Te={}));function hm(t){return!!(t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)||$f(t)==="Uint8Array")}function $f(t){return Object.prototype.toString.call(t).slice(8,-1)}function pm(t){if(t===null)return Te.Null;if(t===!0||t===!1)return Te.Bool;let e=typeof t;return e==="number"?t%1==0?Te.Int:Te.Float:e==="string"?Te.String:e==="function"?Te.Invalid:Array.isArray(t)?Te.List:hm(t)?Te.Bytes:$f(t)==="Object"?Te.Map:H.asCID(t)?Te.Link:Te.Invalid}var dm=function(){let t=new Map;async function e(r){let n=t.get(r);if(n)return n;let i=await D0({value:r,codec:Qs,hasher:Sn});return t.set(r,i),i}return e}(),lt=class{constructor(e){this.kind=pm(e),this.value=e}lookupBySegment(e){let r=this.value[e.value];return r||null}},ya={R:{l:{none:{}},":>":{a:{">":{"@":{}}}}}},ym={R:{l:{depth:1},":>":{a:{">":{"@":{}}}}}},gi=class{constructor(e){this.value=e}toString(){return this.value+""}};function jr(){let t=[];return{pushParent(e){return t=[e,...t],this},parseSelector(e){let r=Object.keys(e)[0];switch(r){case"R":return this.parseExploreRecursive(e[r]);case"a":return this.parseExploreAll(e[r]);case"@":return this.parseExploreRecursiveEdge(e[r]);case"f":return this.parseExploreFields(e[r]);case"~":return this.parseExploreInterpretAs(e[r]);case".":return this.parseMatcher(e[r]);default:throw new Error("unknown selector")}},parseExploreRecursive(e){let r=mm(e.l),n=gm(),i=this.pushParent(n).parseSelector(e[":>"]);if(n.edgesFound===0)throw new Error("selector spec parse rejected: ExploreRecursive must have at least one ExploreRecursiveEdge");return new Hr(i,i,r)},parseExploreRecursiveEdge(e){let r=new In;for(let n of t)if(n.link(r))return r;throw new Error("selector spec parse rejected: ExploreRecursiveEdge must be beneath ExploreRecursive")},parseExploreAll(e){let r=e[">"],n=this.parseSelector(r);return new ga(n)},parseExploreFields(e){let r=e["f>"],n={},i=[];for(let[o,s]of Object.entries(r))i.push(new gi(o)),n[o]=this.parseSelector(s);return new ma(n,i)},parseExploreInterpretAs(e){let r=e.as,n=e[">"],i=this.parseSelector(n);return new Co(r,i)},parseMatcher(e){return new xa}}}function gm(){let t=0;return{link(e){let r=e instanceof In;return r&&t++,r},get edgesFound(){return t}}}var Vr;(function(r){r[r.None=0]="None",r[r.Depth=1]="Depth"})(Vr||(Vr={}));var ga=class{constructor(e){this.next=e}interests(){return[]}explore(e,r){return this.next}decide(e){return!1}},In=class{interests(){throw new Error("Traversed Explore Recursive Edge Node With No Parent")}explore(e,r){throw new Error("Traversed Explore Recursive Edge Node With No Parent")}decide(e){throw new Error("Traversed Explore Recursive Edge Node With No Parent")}},ma=class{constructor(e,r){this.selections=e,this._interests=r}interests(){return this._interests}explore(e,r){return this.selections[r.toString()]??null}decide(e){return!1}},Co=class{constructor(e,r){this.adl=e,this.next=r}interests(){return this.next.interests()}explore(e,r){return this.next}decide(e){return!1}},xa=class{interests(){return[]}explore(e,r){return null}decide(e){return!0}},Hr=class{constructor(e,r,n){this.sequence=e,this.current=r,this.limit=n}interests(){return this.current.interests()}explore(e,r){let n=this.current.explore(e,r),i=this.limit;if(n===null)return null;if(!this._hasRecursiveEdge(n))return new Hr(this.sequence,n,i);switch(i.mode){case 1:return i.depth<2?this._replaceRecursiveEdge(n,null):new Hr(this.sequence,this._replaceRecursiveEdge(n,this.sequence),{mode:1,depth:i.depth-1});case 0:return new Hr(this.sequence,this._replaceRecursiveEdge(n,this.sequence),i)}}decide(e){return this.current.decide(e)}_hasRecursiveEdge(e){return e instanceof In}_replaceRecursiveEdge(e,r){return e instanceof In?r:e}};function mm(t){let[e,r]=Object.entries(t)[0];switch(e){case"depth":return{mode:1,depth:r};case"none":return{mode:0,depth:0};default:throw new Error("selector parse reject: "+e+" is not a known limit key")}}function xm(t){return Array.isArray(t)?wm(t):vm(t)}function wm(t){let e=0;return{next(){if(e===t.length)return{pathSegment:null,value:null};let r=e++;return{pathSegment:new gi(r),value:t[r]}},done(){return e===t.length}}}function vm(t){let e=Object.keys(t),r=0;return{next(){if(r===e.length)return{pathSegment:null,value:null};let n=r++;return{pathSegment:new gi(e[n]),value:t[e[n]]}},done(){return r===e.length}}}function mi(t,e){if(t.kind==Te.Map&&t.value.Data&&t.value.Links?.length>0)try{if(zr.unmarshal(t.value.Data).isDirectory()){let n={};for(let i of t.value.Links)n[i.Name]=new lt(i.Hash);return new lt(n)}}catch(r){return t}return t}async function*rr(t,e,r){let n=t;if(n.kind===Te.Link){let o=await r.load(n.value);yield o,n=new lt(o.value)}if(e instanceof Co){let o=r.reifier(e.adl);if(o){let s=o(n,r),a=e.explore(n,new gi(""));a&&(e=a),n=s}}switch(n.kind){case Te.Map:case Te.List:break;default:return}let i=e.interests();if(i.length)for(let o of i){let s=n.lookupBySegment(o);if(s===null)break;let a=e.explore(n.value,o);a!==null&&(yield*rr(s,a,r))}else for(let o=xm(n.value);!o.done();){let{pathSegment:s,value:a}=o.next();if(!s)continue;let u=e.explore(n.value,s);u!==null&&(yield*rr(new lt(a),u,r))}}var Ya=Ge(Ka()),Za=Ge(th());var Po,A2=new Uint8Array(16);function qa(){if(!Po&&(Po=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Po))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Po(A2)}var rh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function T2(t){return typeof t=="string"&&rh.test(t)}var Fo=T2;var Ke=[];for(Oo=0;Oo<256;++Oo)Ke.push((Oo+256).toString(16).substr(1));var Oo;function I2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ke[t[e+0]]+Ke[t[e+1]]+Ke[t[e+2]]+Ke[t[e+3]]+"-"+Ke[t[e+4]]+Ke[t[e+5]]+"-"+Ke[t[e+6]]+Ke[t[e+7]]+"-"+Ke[t[e+8]]+Ke[t[e+9]]+"-"+Ke[t[e+10]]+Ke[t[e+11]]+Ke[t[e+12]]+Ke[t[e+13]]+Ke[t[e+14]]+Ke[t[e+15]]).toLowerCase();if(!Fo(r))throw TypeError("Stringified UUID is invalid");return r}var Nn=I2;function C2(t){if(!Fo(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var za=C2;function _2(t,e,r){t=t||{};var n=t.random||(t.rng||qa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Nn(n)}var ja=_2;var Xa=Ge(Ha());var Ga=class{constructor(e,r,n){this.pending=new Map;this.loaded=new Set;this.pullQueue=new Map;this.reifiers={};this.notifyWaiting=!1;this.store=e,this.tracker=r,n&&this.setWaitNotify(n)}async load(e){let r=e.toString();try{let n=this.pending.get(r);return n?(this.flush(n),n):(n=await yi(e,this.store),n)}catch(n){let i=await this.waitForBlock(e);return this.flush(i),i}finally{this.loaded.add(r)}}async waitForBlock(e){let r=this.pending.get(e.toString());return r||(this.loaded.has(e.toString())?yi(e,this.store):(this.waitNotify&&this.notifyWaiting&&this.waitNotify(e),new Promise((n,i)=>{this.pullQueue.set(e.toString(),(this.pullQueue.get(e.toString())??[]).concat({resolve:n,reject:i}))})))}push(e){let r=e.cid.toString(),n=this.pullQueue.get(r);n?n.forEach(i=>i.resolve(e)):this.pending.set(r,e)}flush(e){this.loaded.has(e.cid.toString())||(this.tracker?.(e),this.store.put(e.cid,new Uint8Array(e.bytes)).then(()=>this.pending.delete(e.cid.toString())))}reifier(e){return this.reifiers[e]}close(){this.pending=new Map}setWaitNotify(e){this.waitNotify=e,this.notifyWaiting=!0}};var f3=Ge(xh());mr();var Ih=Ge(vh());gn();var bh=Ge(Er());var Un=Ge(wi()),Eh=Ge(Ka());var vi="/ipfs/graphsync/2.0.0";var qe;(function(l){l[l.RequestAcknowledged=10]="RequestAcknowledged",l[l.PartialResponse=14]="PartialResponse",l[l.RequestPaused=15]="RequestPaused",l[l.RequestCompletedFull=20]="RequestCompletedFull",l[l.RequestCompletedPartial=21]="RequestCompletedPartial",l[l.RequestRejected=30]="RequestRejected",l[l.RequestFailedBusy=31]="RequestFailedBusy",l[l.RequestFailedUnknown=32]="RequestFailedUnknown",l[l.RequestFailedLegal=33]="RequestFailedLegal",l[l.RequestFailedContentNotFound=34]="RequestFailedContentNotFound",l[l.RequestCancelled=35]="RequestCancelled"})(qe||(qe={}));var XS={[10]:"RequestAcknowledged",[14]:"PartialResponse",[15]:"RequestPaused",[20]:"RequestCompletedFull",[21]:"RequestCompletedPartial",[30]:"RequestRejected",[31]:"RequestFailedBusy",[32]:"RequestFailedUnknown",[33]:"RequestFailedLegal",[34]:"RequestFailedContentNotFound",[35]:"RequestCancelled"},Mo;(function(i){i.Present="p",i.DuplicateNotSent="d",i.Missing="m",i.DuplicateDAGSkipped="s"})(Mo||(Mo={}));var Wa;(function(n){n.New="n",n.Cancel="c",n.Update="u"})(Wa||(Wa={}));function Bh(t,e,r,n){let i={id:za(t),type:Wa.New,pri:0,root:e,sel:r};return n&&(i.ext=n),Eh.default.encode.single(bh.Buffer.from(gr({gs2:{req:[i]}})))}function Sh(t){return Bn(t).gs2}async function Ah(t,e){let r=0,n=Un.decode(t[0],r);r+=Un.decode.bytes;let i=Un.decode(t[0],r);r+=Un.decode.bytes;let o=Un.decode(t[0],r),s=e[o];if(!s)throw new Error("Unsuported hasher");let a=await s.digest(t[1]),u=H.create(n,i,a),c=To(u),f=c?c(t[1]):t[1];return new mn({value:f,cid:u,bytes:t[1]})}var bi=Ge(wi());var H2=256*1024;function G2(t){let e=new Uint8Array(t.reduce((n,i)=>n+bi.encodingLength(i),0)),r=0;for(let n of t)e=bi.encode(n,e,r),r+=bi.encodingLength(n);return e}function $2(t){let e=t.version,r=t.code,n=t.multihash.code,i=t.multihash.digest.length;return G2([e,r,n,i])}async function*Th(t,e){let r=new Io(e,{unixfs:mi}),n=[],i=[],o=0;for await(let s of rr(new lt(t.root),jr().parseSelector(t.sel),r))n.push([$2(s.cid),s.bytes]),i.push([s.cid,Mo.Present]),o+=s.bytes.length,o>=H2&&(yield gr({gs2:{rsp:[{reqid:t.id,stat:qe.PartialResponse,meta:i}],blk:n}}),n=[],i=[],o=0);yield gr({gs2:{rsp:[{reqid:t.id,stat:qe.RequestCompletedFull,meta:i}],blk:n}})}var Qa=class extends Za.EventEmitter{constructor(e,r){super();this.started=!1;this.hashers={[Sn.code]:Sn};this.requests=new Map;this.network=e,this.blocks=r}start(){this.started||(this.network.handle(vi,this._handler.bind(this)),this.started=!0)}stop(){this.started=!1,this.network.unhandle(vi)}request(e,r){let n=ja(),i=new qo(n,e,r,this.network,this.blocks);return this.requests.set(n,i),i}_loadBlocksForRequests(e,r){for(let n of e)Ah(n,this.hashers).then(i=>r.forEach(o=>{let s=this.requests.get(o);s&&s.loader.push(i)})).catch(i=>{console.log(i)})}_handleResponse(e){let r=this.requests.get(Nn(e.reqid));r&&r.incomingResponseHook(e)}async _handleRequest(e,r){try{let{stream:n}=await this.network.dialProtocol(e,vi);await(0,Xa.pipe)(Th(r,this.blocks),Ya.default.encode(),n),this.emit("responseCompleted",{id:r.id,root:r.root,peer:e})}catch(n){this.emit("networkErrorListener",{id:r.id,root:r.root,peer:e,error:n})}}async _handler(e){let r=e.stream.source;for await(let n of Ya.default.decode()(r)){let i=Sh(n.slice());i.blk&&i.rsp&&this._loadBlocksForRequests(i.blk,i.rsp.map(o=>Nn(o.reqid))),i.rsp&&i.rsp.forEach(o=>this._handleResponse(o)),i.req&&i.req.forEach(o=>this._handleRequest(e.connection.remotePeer,o))}}},qo=class extends Za.EventEmitter{constructor(e,r,n,i,o){super();this.reifiers={unixfs:mi};this.id=e,this.dialer=i,this.root=r,this.selector=n,this.loader=new Ga(o,this.incomingBlockHook.bind(this))}open(e,r){return new Promise((n,i)=>{this.loader.setWaitNotify(async()=>{this.loader.notifyWaiting=!1;try{let{stream:o}=await this.dialer.dialProtocol(e,vi);(0,Xa.pipe)([Bh(this.id,this.root,this.selector,r)],o),n()}catch(o){i(o)}})})}async drain(){await(0,Ih.default)(rr(new lt(this.root),jr().parseSelector(this.selector),this))}reifier(e){return this.reifiers[e]}close(){}load(e){return this.loader.load(e)}incomingBlockHook(e){this.emit("incomingBlock",{link:e.cid,size:e.bytes.length})}incomingResponseHook(e){this.emit("incomingResponse",e)}};gn();var c1=Ge(r1());var f1=Ge(u1()),q8="fil/data-transfer/1.1";function z8(t=""){return(t.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}function j8(t){let e=z8(t),r=H.parse(e[0]);return{segments:e.slice(1),root:r}}function Qi(t){let{root:e,segments:r}=j8(t),n=ya;if(r.length===0)return{root:e,selector:n};for(let i=r.length-1;i>=0;i--)n={"~":{as:"unixfs",">":{f:{"f>":{[r[i]]:n}}}}};return{root:e,selector:n}}function e0(t){let r=t.toString().split("/"),n=r.indexOf("p2p")+1;if(n===0)throw new Error("Multiaddr does not contain p2p peer ID");return c1.default.createFromB58String(r[n])}async function*V8(t,e,r){for await(let n of rr(new lt(t),jr().parseSelector(e),r)){switch(n.cid.code){case 112:case 113:break;default:yield n.bytes;continue}if(n.value.kind===Te.Map&&n.value.Data)try{let i=zr.unmarshal(n.value.Data);if(i.type==="file"){i.data&&i.data.length&&(yield i.data);continue}}catch(i){}}}async function l1(t,e){let{headers:r,exchange:n,provider:i,voucher:o,voucherType:s}=e,{root:a,selector:u}=Qi(t),c=e0(i);n.network.peerStore.addressBook.add(c,[i]);let f=n.request(a,u),l={};if(o&&s){let p=Date.now();l[q8]={IsRq:!0,Request:{BCid:a,Type:0,Pull:!0,Paus:!1,Part:!1,Stor:u,Vouch:o,VTyp:s,XferID:p,RestartChannel:["","",0]},Response:null}}f.open(c,l);let d=V8(a,u,f)[Symbol.asyncIterator]();try{let p=t.split("."),y=p.length>1?p.pop():void 0,x=y?f1.default.getType(y):void 0;x&&(r["content-type"]=x);let{readable:w,writable:A}=new TransformStream;async function _(){let F=A.getWriter();try{let k=await d.next();for(;k.value!==null&&!k.done;)F.write(k.value),k=await d.next();F.close()}catch(k){console.log(k),F.abort(k.message)}f.close()}return _(),new Response(w,{status:200,headers:r})}catch(p){return new Response(p.message,{status:500,headers:r})}}var u0=Ge(Ha());var C1=Ge(I1()),_1="/fil/datatransfer/1.2.0";async function k1(t,e){let{exchange:r,maddr:n,voucher:i,voucherType:o}=e,{root:s,selector:a}=Qi(t),u=e0(n);r.network.peerStore.addressBook.add(u,[n]);let c=Date.now(),f=new Promise((d,p)=>{r.network.handle(_1,({stream:y})=>{(0,u0.pipe)(y,async x=>{let w=new C1.default;for await(let _ of x)w.append(_);let A=Bn(w.slice());A.Response&&A.Response.XferID===c&&d(A.Response)})})}),{stream:l}=await r.network.dialProtocol(u,_1);if(await(0,u0.pipe)([gr({IsRq:!0,Request:{Type:0,XferID:c,BCid:s,Paus:!1,Part:!1,Pull:!1,Stor:a,Vouch:i??null,VTyp:o??"",RestartChannel:["","",0]},Response:null})],l),!(await f).Acpt)throw new Error("request refused")}return dE;})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
return DcdnGraphsync}));
